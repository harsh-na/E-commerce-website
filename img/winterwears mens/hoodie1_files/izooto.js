!function(n){var i={};function o(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=n,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=11)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(4),a=n(3),n=(s.setupPath=function(){1!=s.global.deviceType&&""!=s.notification.serviceWorkerNameMob&&(s.notification.serviceWorkerName=s.notification.serviceWorkerNameMob),s.notification.serviceWorkerPath=s.notification.domainRoot+s.notification.serviceWorkerName,s.notification.manifest=s.notification.domainRoot+s.notification.manifestName,1==s.notification.isSdkHttps&&("http:"==s.global.locationProtocol?s.notification.sourceOrigin=s.notification.sourceOrigin+s.notification.domainRoot+s.notification.htmlName:(1==s.notification.httpsNoRoot&&""!=s.notification.domainRoot||0==s.notification.httpsNoRoot)&&(s.notification.sourceOrigin=s.notification.domainRoot+s.notification.htmlName));try{var t;null==window._izootoModule&&1!=window.is_wp||(s.notification.pluginStatus=void 0!==izConfig.pluginStatus?izConfig.pluginStatus:1,1==s.notification.pluginStatus&&(t=JSON.stringify({dtype:s.global.deviceType,btype:r.Helper.getBrowserType()}),i.Storage.setStorage("bddata",t),null!=window._izootoModule&&1==window._izootoModule.isMagento?null!=(t=window._izootoModule).isSdkHttps&&1==t.isSdkHttps&&(s.notification.serviceWorkerPath="/izooto/assets/sw",s.notification.manifest="/izooto/assets/manifest",s.notification.serviceWorkerScope="/",i.Storage.setStorage("evtrk",s.notification.evtTracking)):null!=window._izootoModule&&1==window._izootoModule.isPrestashop||null!=window._izootoModule&&1==window._izootoModule.isOpencart||1==window.is_wp&&(i.Storage.setStorage("evtrk",s.notification.evtTracking),s.notification.serviceWorkerPath=s.notification.domainRoot+"/?izooto=sw",s.notification.manifest=s.notification.domainRoot+"/?izooto=manifest")))}catch(t){}},s.multiMessengerConfigHandler=function(){if(izConfig.messenger&&0<Object.keys(izConfig.messenger).length){var t,e=0;for(t in izConfig.messenger){var n=izConfig.messenger[t],i=r.Helper.stringToRegex(n.regex),o=document.location.pathname;if((0==e&&""==i||i.test(o)&&0==e)&&(s.messenger.status=null!=n.status?n.status:0,s.messenger.pageId=t.toString(),s.messenger.prompt=null!=n.promptDesign?n.promptDesign:{},s.messenger.repeatDelay=null!=n.repeatDelay?n.repeatDelay:0,""!=i))return void(e=1)}}},s.init=function(){s.brandingPartner=void 0!==izConfig.brandingPartner&&""!=izConfig.brandingPartner?izConfig.brandingPartner:s.defaultBrandingPartner,s.client=void 0!==izConfig.client?izConfig.client:r.Helper.throwError(s.brandingPartner+":: Configuration parameter not found (client)"),s.notification.sourceOrigin=void 0!==izConfig.sourceOrigin?izConfig.sourceOrigin:r.Helper.throwError(s.brandingPartner+":: Configuration parameter not found (sourceOrigin)"),s.notification.domainRoot=void 0!==izConfig.domainRoot?izConfig.domainRoot:r.Helper.throwError(s.brandingPartner+":: Configuration parameter not found (domainRoot)"),s.notification.isSdkHttps=void 0!==izConfig.isSdkHttps?izConfig.isSdkHttps:r.Helper.throwError(s.brandingPartner+":: Configuration parameter not found (isSdkHttps)"),s.notification.serviceWorkerName=void 0!==izConfig.serviceWorkerName?izConfig.serviceWorkerName:r.Helper.throwError(s.brandingPartner+":: Configuration parameter not found (serviceWorkerName)"),s.notification.manifestName=void 0!==izConfig.manifestName?izConfig.manifestName:r.Helper.throwError(s.brandingPartner+":: Configuration parameter not found (manifestName)"),s.global.browserName=r.Helper.getBrowserName(),s.global.browserType=r.Helper.getBrowserType(),s.global.deviceType=r.Helper.getDeviceType(),s.global.browserVer=r.Helper.getBrowserVersion(),s.global.browserMajorVersion=r.Helper.getBrowserMajorVersion(),s.global.os=r.Helper.getOS(),s.global.platform=r.Helper.detectPlatform(),s.notification.windowType=o.NotificationHelper.getWindowType(),s.notification.serviceWorkerPath=""+s.notification.domainRoot+s.notification.serviceWorkerName,s.notification.isAddFcm=r.Helper.checkForFcm(),!s.notification.fcmEnable&&1!=s.notification.isAddFcm||(s.notification.subscriptionType=1),void 0!==s.notification.vapidKey&&""!==s.notification.vapidKey&&(s.notification.fcmEnable=0,s.notification.subscriptionType=2),s.global.browserName==a.KeyMapper.BROWSER_SAFARI&&(s.notification.subscriptionType=3),s.ga.id=void 0!==izConfig.gaId?izConfig.gaId:"",s.ga.syncCid=void 0!==izConfig.syncGACid?izConfig.syncGACid:0,s.ga.swEvents=void 0!==izConfig.gaSwEvents?izConfig.gaSwEvents:0,1!=s.global.deviceType&&(s.notification.promptDesign=void 0!==izConfig.mobPromptDesign&&izConfig.mobPromptDesign?izConfig.mobPromptDesign:s.notification.promptDesign,s.notification.promptType=void 0!==izConfig.mobPromptFlow?izConfig.mobPromptFlow:s.notification.promptType,s.notification.optInDesignType=void 0!==izConfig.mobOptInDesignType?izConfig.mobOptInDesignType:s.notification.optInDesignType,s.notification.promptDelay=void 0!==izConfig.mobPromptDelay?izConfig.mobPromptDelay:s.notification.promptDelay,s.notification.repeatPromptDelay=void 0!==izConfig.mobRepeatPromptDelay?izConfig.mobRepeatPromptDelay:s.notification.repeatPromptDelay,s.notification.optInCloseDelay=void 0!==izConfig.mobOptInCloseDelay?izConfig.mobOptInCloseDelay:s.notification.optInCloseDelay,s.notification.promptOnScroll=void 0!==izConfig.mobPromptOnScroll?izConfig.mobPromptOnScroll:0,s.notification.isTriggeredOnScoll=0),s.notification.promptDesign.poweredbysrc="https://www.izooto.com/getting-started-with-izooto?utm_source=referral&utm_medium=PoweredBy&utm_campaign="+encodeURIComponent(s.notification.siteUrl),s.brandingPartner!=s.defaultBrandingPartner&&(s.notification.promptDesign.poweredbysrc="javascript:void(0);"),s.notification.promptDesign.message=s.notification.promptDesign.message?s.notification.promptDesign.message:"Click on allow to subscribe to notifications",s.notification.promptDesign.subMessage=s.notification.promptDesign.subMessage?s.notification.promptDesign.subMessage:"Stay updated with the latest happenings on our site",s.notification.promptDesign.icon=s.notification.promptDesign.icon?s.notification.promptDesign.icon:"https://cdnimg.izooto.com/icons/7/bell-icon.png",s.notification.promptDesign.btn1Txt=s.notification.promptDesign.btn1Txt?s.notification.promptDesign.btn1Txt:"Later",s.notification.promptDesign.btn2Txt=s.notification.promptDesign.btn2Txt?s.notification.promptDesign.btn2Txt:"Allow",s.notification.promptDesign.position=s.notification.promptDesign.position?s.notification.promptDesign.position:"right",s.notification.promptDesign.bgColor=s.notification.promptDesign.bgColor?s.notification.promptDesign.bgColor:"#fff",s.notification.promptDesign.titleForeColor=s.notification.promptDesign.titleForeColor?s.notification.promptDesign.titleForeColor:"#000000",s.notification.promptDesign.messageForeColor=s.notification.promptDesign.messageForeColor?s.notification.promptDesign.messageForeColor:"#999999",s.notification.promptDesign.btn1bgColor=s.notification.promptDesign.btn1bgColor?s.notification.promptDesign.btn1bgColor:"#e4e4e4",s.notification.promptDesign.btn1ForeColor=s.notification.promptDesign.btn1ForeColor?s.notification.promptDesign.btn1ForeColor:"#686868",s.notification.promptDesign.btn2bgColor=s.notification.promptDesign.btn2bgColor?s.notification.promptDesign.btn2bgColor:"#1194ff",s.notification.promptDesign.btn2ForeColor=s.notification.promptDesign.btn2ForeColor?s.notification.promptDesign.btn2ForeColor:"#ffffff",s.notification.httpsOverlay="<style>.iz-branding{color:white;font-size:25px;position:absolute;top:40%;left:28%;z-index:999999!important;width:50%!important}.iz-arrow img{transform:rotate(180deg)}@media screen and (max-width:600px){#izooto_desktop_overlay{display:none;.iz-arrow{width:100%;position:fixed;top:auto;bottom:35%;left:65%;border-radius:0px}.moz-transfer{width:100%;position:fixed;top:auto;bottom:30%;left:65% !important;border-radius:0px}.moz-transfer img{transform:rotate(180deg) !important}.iz-arrow img{transform:rotate(0deg)}.iz-branding{color:white;font-size:larger;position:fixed;top:40%;left:17%;width:100%}}</style><div id='izooto_desktop_overlay' onclick='_izooto.closeHttpsBranding();' style='z-index: 999999999;position: fixed;height: 100%;top: 0px;left: 0px;width: 100%;background: rgba(0, 0, 0, 0.89);'><div class='izoverlay-container'><div class='iz-branding'><div class='iz-text' style='padding-bottom:5px; font-family:Arial; display: -webkit-box; -webkit-line-clamp: 2; text-overflow: ellipsis; overflow: hidden; word-wrap: break-word; -webkit-box-orient: vertical;'>"+s.notification.overlayMessage+"</div><div class='iz-powered-text'><a class='izbranding' href='"+s.notification.promptDesign.poweredbysrc+"' target='_blank' style='cursor: pointer !important;color:#fff!important;font-size: 12px;font-family: Arial;letter-spacing: 0.4px;text-decoration: none;'><span style='color: #9c9c9c;'>Powered by</span> <span>"+s.brandingPartner+"</span></a></div></div></div>",s.notification.httpsBranding="<style>.iz-branding {z-index: 2147483647;background: #000;opacity: .65;box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.27);border-radius: 2px 0px 0px 2px;letter-spacing: 0.04em;padding: 6px 15px;display: flex;flex-direction: row;align-items: center;justify-content: center;max-width: fit-content;position: fixed;top: 0;right: 0;}.iz-branding .iz-text {font-size: 12px;font-family: Arial;letter-spacing: 0.04em;color: rgb(255 255 255 / 90%);display: flex;flex-direction: row;align-items: center;justify-content: center;}.iz-branding a .iz-brand {font-size: 12px;font-family: Arial;letter-spacing: 0.04em;color: #fff;font-weight:bold;}</style><div class='iz-branding'><div class='iz-text'>Notifications Powered by&nbsp;<a href='"+s.notification.promptDesign.poweredbysrc+"' target='_blank' style='text-decoration: none;color: unset;'><span class='iz-brand'>"+s.brandingPartner+"</span></a></div></div>",s.setupPath(),s.multiMessengerConfigHandler(),s.notification.gdprPromptStatus=void 0!==s.notification.gdprPrompt.status?s.notification.gdprPrompt.status:0,s.notification.gdprPromptType=void 0!==s.notification.gdprPrompt.type?s.notification.gdprPrompt.type:1,s.notification.manifest=s.notification.domainRoot+s.notification.manifestName;var t=void 0!==izConfig.welcomeNotification&&""!==izConfig.welcomeNotification?izConfig.welcomeNotification:{};s.notification.welcomeNotification.status=void 0!==t.status?t.status:0,s.notification.welcomeNotification.title=void 0!==t.title?t.title:"",s.notification.welcomeNotification.body=void 0!==t.body?t.body:"",s.notification.welcomeNotification.icon=void 0!==t.icon?t.icon:"",s.notification.welcomeNotification.url=void 0!==t.url?t.url:"",s.notification.welcomeNotification.showAfter=void 0!==t.showAfter?t.showAfter:0,s.notification.welcomeNotification.timeout=void 0!==t.clickTimeout?t.clickTimeout:0;t=void 0!==izConfig.videoPlaybook&&""!==izConfig.videoPlaybook?izConfig.videoPlaybook:{};s.videoDropoff.status=void 0!==t.status&&""!==t.status?t.status:0,s.videoDropoff.allowedUrls=void 0!==t.allowedUrls?t.allowedUrls:[];t=void 0!==izConfig.welcomePlaybook&&""!==izConfig.welcomePlaybook?izConfig.welcomePlaybook:{};s.welcomePlaybook.status=void 0!==t.status&&""!==t.status?t.status:0,s.welcomePlaybook.data=void 0!==t.data&&""!==t.data?t.data:{};t=void 0!==izConfig.newsHub&&""!==izConfig.newsHub?izConfig.newsHub:{};s.newsHub.status=void 0!==t.status&&""!==t.status?t.status:0,s.newsHub.iconType=void 0!==t.iconType&&""!==t.iconType?t.iconType:1,s.newsHub.designType=void 0!==t.designType&&""!==t.designType?t.designType:1,s.newsHub.mainColor=void 0!==t.mainColor&&""!==t.mainColor?t.mainColor:"",s.newsHub.placement=void 0!==t.placement&&""!==t.placement?t.placement:[1,1];t=void 0!==izConfig.recommendArticle&&""!==izConfig.recommendArticle?izConfig.recommendArticle:{};s.recommendArticle.status=void 0!==t.status&&""!==t.status?t.status:0,(s.tabAbandonment=void 0!==izConfig.tabAbandonment&&""!==izConfig.tabAbandonment?izConfig.tabAbandonment:{}).status=null!=s.tabAbandonment.status?s.tabAbandonment.status:0,s.tabAbandonment.timeout=null!=s.tabAbandonment.timeout?s.tabAbandonment.timeout:600,s.tabAbandonment.pushTimeout=null!=s.tabAbandonment.pushTimeout?s.tabAbandonment.pushTimeout:3600,s.tabAbandonment.data=void 0!==s.tabAbandonment.data&&""!==s.tabAbandonment.data?s.tabAbandonment.data:{},(!s.notification.mobileAllowed&&1!=s.global.deviceType||!s.notification.desktopAllowed&&1==s.global.deviceType)&&(s.izootoStatus=0),o.NotificationHelper.applyBrowserPatch()},s.izootoStatus=void 0!==izConfig.izootoStatus?izConfig.izootoStatus:1,s.defaultBrandingPartner="iZooto",s.debug=void 0!==izConfig.debug?izConfig.debug:0,s.branding=void 0!==izConfig.branding?izConfig.branding:1,s.global={isSessionHandled:!1,locationProtocol:document.location.protocol,msgReceiverExist:0,cookieDomain:void 0!==izConfig.cDomain?izConfig.cDomain:"",cookieExpiryDays:1500,cookieSameSite:"SameSite=Lax;",browserName:"",browserType:0,deviceType:0,browserVer:"",browserMajorVersion:0,os:0,platform:"",isFrame:window.top!=window.self},s.debugger={status:0,err:0,successCode:"color: #228B22",errCode:"color: #FF0000",infoCode:"background: #ffffcc, color: #222",gcmValidator:"https://api.izooto.com/validate-gcm/",host:document.location.protocol+"//"+document.location.hostname},s.store={subscriberId:!1,lastClick:!1,lastView:!1,syncedEventList:[],isNotificationDisabledManually:!1,syncedSegments:[],isSoftSubscribeTriggered:!1,isTriggerPromptWithDelay:!1,subDomainPermissionStatus:void 0,isNotificationCalledManually:!1,isMDSyncingRequired:!1,isSubscriptionLost:!1,subscriptionBasedEventNameList:["event","trigger","userProfile","personalizationProperty","add_property"]},s.notification={tokenExpire:void 0!==izConfig.tokenExpire?izConfig.tokenExpire:86400,repeatPromptDelay:void 0!==izConfig.repeatPromptDelay?izConfig.repeatPromptDelay:0,optInCloseDelay:void 0!==izConfig.optInCloseDelay?izConfig.optInCloseDelay:60,sourceOrigin:"",domainRoot:"",isSdkHttps:void 0,serviceWorkerName:"",htmlName:void 0!==izConfig.htmlName&&""!=izConfig.htmlName?izConfig.htmlName:"/izooto.html",manifestName:"",manifest:"",subscriptionType:0,fcmToken:"",autoPrompt:!0,httpsBranding:"",overlay:void 0!==izConfig.overlay?izConfig.overlay:0,overlayMessage:void 0!==izConfig.overlayMessage?izConfig.overlayMessage:"Click on 'allow' to subscribe to notifications",httpsOverlay:"",clickOnAllowMsg:void 0!==izConfig.clickOnAllowMsg&&""!==izConfig.clickOnAllowMsg?izConfig.clickOnAllowMsg:"Click On allow to subscribe to notifications",subscribedMsg:null!=izConfig.subscribedMsg&&""!==izConfig.subscribedMsg?izConfig.subscribedMsg:"Subscribed",alreadySubscribedMsg:void 0!==izConfig.alreadySubscribedMsg&&""!==izConfig.alreadySubscribedMsg?izConfig.alreadySubscribedMsg:"You've already subscribed to notifications.",blockedMsg:void 0!==izConfig.blockedMsg&&""!==izConfig.blockedMsg?izConfig.blockedMsg:"Blocked",alreadyDeniedMsg:void 0!==izConfig.alreadyDeniedMsg&&""!==izConfig.alreadyDeniedMsg?izConfig.alreadyDeniedMsg:"You've blocked notifications from this site.",httpsNoRoot:void 0!==izConfig.httpsNoRoot?izConfig.httpsNoRoot:0,windowType:0,mobileAllowed:void 0!==izConfig.mobileAllowed?izConfig.mobileAllowed:1,desktopAllowed:void 0!==izConfig.desktopAllowed?izConfig.desktopAllowed:1,allowedKeys:["bookingurl","landingurl"],webPushId:void 0!==izConfig.webPushId?izConfig.webPushId:"",webServiceUrl:void 0!==izConfig.webServiceUrl?izConfig.webServiceUrl:"",processPriority:void 0!==izConfig.processPriority?izConfig.processPriority:0,masterDomain:void 0!==izConfig.masterDomain?izConfig.masterDomain:"",masterDomainPath:void 0!==izConfig.masterDomainPath?izConfig.masterDomainPath:"",cdnHost:"cdn.izooto.com",siteUrl:void 0!==izConfig.siteUrl?izConfig.siteUrl:"",promptDelay:void 0!==izConfig.promptDelay?izConfig.promptDelay:0,promptType:void 0!==izConfig.promptFlow?izConfig.promptFlow:0,defaultOptinDesign:"",hidePopup:void 0===izConfig.hidePopup||izConfig.hidePopup,fullPopUp:void 0!==izConfig.fullPopUp?izConfig.fullPopUp:0,promptDesign:void 0!==izConfig.promptDesign?izConfig.promptDesign:{message:void 0,subMessage:void 0,icon:void 0,btn1Txt:void 0,btn2Txt:void 0,position:void 0,bgColor:void 0,titleForeColor:void 0,messageForeColor:void 0,btn1bgColor:void 0,btn1ForeColor:void 0,btn2bgColor:void 0,btn2ForeColor:void 0},optInDesign:void 0!==izConfig.optInDesign&&""!=izConfig.optInDesign?izConfig.optInDesign:"",dialogDesign:"",gdprDialogDesign:"",optInSrc:"https://cdn.izooto.com/optin/",optInDesignType:void 0!==izConfig.optInDesignType?izConfig.optInDesignType:"1",optinModule:{optinType:1,data:""},gdprModule:{gdprType:1,data:""},sourceOriginAlt:void 0!==izConfig.sourceOriginAlt?izConfig.sourceOriginAlt:"",fcmEnable:void 0!==izConfig.fcmEnable?izConfig.fcmEnable:0,isAddFcm:0,allowedDomain:void 0!==izConfig.allowedDomain?izConfig.allowedDomain:"",serviceWorkerPath:"",serviceWorkerScope:void 0!==izConfig.swScope?izConfig.swScope:"",serviceWorkerNameMob:void 0!==izConfig.serviceWorkerNameMob?izConfig.serviceWorkerNameMob:"",vapidKey:void 0!==izConfig.vapidPublicKey&&""!==izConfig.vapidPublicKey?izConfig.vapidPublicKey:"BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",subscriptionObj:{},pluginStatus:void 0,isShopify:void 0!==izConfig.isShopify?izConfig.isShopify:0,gdprPrompt:void 0!==izConfig.gdprPrompt?izConfig.gdprPrompt:{},gdprPromptStatus:void 0,gdprPromptType:void 0,gdprNotAllowed:["userProfile","personalizationProperty","trigger","event"],isGdprAllowed:1,sysEvents:void 0!==izConfig.sysEvents?izConfig.sysEvents:1,sysEventsFlag:void 0!==izConfig.sysEvents?1:0,propsTracking:void 0!==izConfig.propsTracking?izConfig.propsTracking:1,evtTracking:void 0!==izConfig.evtTracking?izConfig.evtTracking:1,syncLimit:{evtPerDay:void 0!==izConfig.evtPerDay?izConfig.evtPerDay:1e4,propsPerDay:void 0!==izConfig.propsPerDay?izConfig.propsPerDay:1e4,evtPerMonth:void 0!==izConfig.evtPerMonth?izConfig.evtPerMonth:1e4,propsPerMonth:void 0!==izConfig.propsPerMonth?izConfig.propsPerMonth:1e4},isTagsEnabled:void 0!==izConfig.tagsEnabled?izConfig.tagsEnabled:0,utmKeys:["utm_content","utm_medium","utm_source","utm_campaign","utm_term"],shortutmKeys:["uco","ume","uso","uca","ute"],serviceWorkerVersion:void 0,promptOnScroll:void 0!==izConfig.promptOnScroll?izConfig.promptOnScroll:0,isTriggeredOnScoll:0,eventAsTrigger:void 0!==izConfig.eventAsTrigger?izConfig.eventAsTrigger:0,eventsToSync:void 0!==(null===(n=izConfig.webPush)||void 0===n?void 0:n.syncEvent)?izConfig.webPush.syncEvent:[],welcomeNotification:{status:void 0,title:void 0,body:void 0,icon:void 0,url:void 0,showAfter:void 0,timeout:void 0},syncNotificationView:void 0!==izConfig.syncNotificationView?izConfig.syncNotificationView:"",syncNotificationClick:void 0!==izConfig.syncNotificationClick?izConfig.syncNotificationClick:"",syncVisitType:void 0!==izConfig.syncVisitType?izConfig.syncVisitType:0},s.ga={id:"",syncCid:0,swEvents:0,subscriptionCallback:[],promptDisplayCallback:[]},s.messenger={syncPrompt:null!=(null===(n=izConfig.messengerConf)||void 0===n?void 0:n.syncPrompt)?izConfig.messengerConf.syncPrompt:1,status:null!=izConfig.messengerPromptStatus?izConfig.messengerPromptStatus:0,pageId:null!=izConfig.messengerPageId?izConfig.messengerPageId:"",repeatDelay:null!=izConfig.messengerRepeatDelay?izConfig.messengerRepeatDelay:0,prompt:null!=izConfig.messengerPrompt?izConfig.messengerPrompt:{},autoPrompt:!0},s.tabAbandonment={status:void 0,timeout:void 0,pushTimeout:void 0,data:void 0,counter:0},s.welcomePlaybook={status:void 0,data:{}},s.newsHub={status:0,designType:void 0,mainColor:void 0,iconType:void 0,placement:void 0,pagination:10},s.videoDropoff={status:void 0,allowedUrls:[]},s.CRPSPlaybook={isPaidSubscriber:!1,status:null!=izConfig.CRPSPlaybook?izConfig.CRPSPlaybook:0,startTriggerName:"multiple_recent_sessions"},s.recommendArticle={status:void 0},s.autoSegmentStatus=void 0!==izConfig.autoSegment?izConfig.autoSegment:0,s.hashFileName=void 0!==izConfig.hash?izConfig.hash:"",s);function s(){}e.Config=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=n(3),i=n(2),a=n(5),c=n(4),n=(l.checkBrowser=function(){navigator.appVersion;var t,e=navigator.userAgent.toLowerCase(),n=navigator.appName,i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10),r=0,a="",r=-1!=(t=e.indexOf("opr/"))?(n=s.KeyMapper.BROWSER_OPERA,i=e.substring(t+4),4):-1!=(t=e.indexOf("opera"))?(n=s.KeyMapper.BROWSER_OPERA,i=e.substring(t+6),-1!=(t=e.indexOf("version"))&&(i=e.substring(t+8)),4):-1!=(t=e.indexOf("edge/"))||-1!=(t=e.indexOf("edga/"))?(n=s.KeyMapper.BROWSER_EDGE,i=e.substring(t+5),7):-1!=(t=e.indexOf("edgios/"))?(n="Edge",i=e.substring(t+7),7):-1!=(t=e.indexOf("edg/"))?(n="Edge",i=e.substring(t+4),7):-1!=(t=e.indexOf("ucbrowser"))?(n=s.KeyMapper.BROWSER_UCB,i=e.substring(t+10),6):-1!=(t=e.indexOf("msie"))?(n=s.KeyMapper.BROWSER_IE,i=e.substring(t+5),5):-1!=(t=e.indexOf("crios"))?(n=s.KeyMapper.BROWSER_OTHER,i=e.substring(t+6),i=a="40",5):-1!=(t=e.indexOf("chrome"))?(n=s.KeyMapper.BROWSER_CHROME,i=e.substring(t+7),/(.*?)wv\)/.test(e)&&(n=s.KeyMapper.BROWSER_OTHER,i=a="41"),1):-1!=(t=e.indexOf("safari"))&&(/mac/.test(e)||/ipad|iphone|ipod/.test(e))?(n=s.KeyMapper.BROWSER_SAFARI,i=e.substring(t+7),-1!=(t=e.indexOf("version"))&&(i=e.substring(t+8)),2):-1!=(t=e.indexOf("firefox"))?(n=s.KeyMapper.BROWSER_FIREFOX,i=e.substring(t+8),3):(n=s.KeyMapper.BROWSER_OTHER,i="1",5);return-1!=(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!=(t=i.indexOf(" "))&&(i=i.substring(0,t)),o=parseInt(""+i,10),isNaN(o)&&(i=""+parseFloat(navigator.appVersion),o=parseInt(navigator.appVersion,10)),"40"!=a&&"41"!=a||(o=a),[n,o,i,r]},l.getBrowserName=function(){return this.checkBrowser()[0]},l.getBrowserVersion=function(){return this.checkBrowser()[2]},l.getBrowserMajorVersion=function(){return this.checkBrowser()[1]},l.getBrowserType=function(){return this.checkBrowser()[3]},l.isTablet=function(t){if(/android/.test(t)){if(!1===/mobile/.test(t))return!0}else if(!0===/ipad/.test(t))return!0;return!1},l.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4))},l.getDeviceType=function(){var t=(t=navigator.userAgent).toLowerCase();return this.isTablet(t)?2:this.isMobile()?3:1},l.getOS=function(){var t=navigator.userAgent.toLowerCase();return/windows phone/i.test(t)?6:/android/i.test(t)?4:/ipad|iphone|ipod/.test(t)&&!window.MSStream?5:/linux/i.test(t)?2:/macintosh|mac os x/i.test(t)?3:/windows|win32/i.test(t)?1:7},l.detectPlatform=function(){var t="";return 1==window.is_wp?t="wordpress":1==r.Config.notification.isShopify?t="shopify":null!=window._izootoModule&&1==window._izootoModule.isMagento?t="magento":null!=window._izootoModule&&1==window._izootoModule.isOpencart&&(t="opencart"),t},l.getMetaValue=function(t){try{for(var e=document.getElementsByTagName("meta"),n=0;n<e.length;n++)if(e[n].getAttribute("name")===t||e[n].getAttribute("property")===t)return e[n].getAttribute("content")}catch(t){}return""},l.endPointParamExtract=function(t){var e=t,n="";try{n=JSON.parse(e).endpoint}catch(t){}return r.Config.global.browserName==s.KeyMapper.BROWSER_EDGE&&(n=encodeURIComponent(n)),"ep="+n},l.getEndpoint=function(t){var e={SoftUnsubscribe:["usub","sunsub"],SoftSubscribe:["usub","sunsub"],NotImplemented:["ni","nimp"],SegmentEvents:["et","evt"],SegmentProperties:["prp","prp"],TriggerEvent:["trg","trg"],PersonalProperties:["pp","pprp"],CustomerIDSynch:["pp","idsyn"],CustomerIDLogout:["pp","clout"],last_visit:["lvi","lvi"],Visitor:["viz","viz"],ShopifyMapper:["oth","spm"],GDPRConsent:["prv","gdp"],FCMMigration:["enu","enu"],syncAdNetwork:["cs","cs"],syncNotificationView:["imp","wimp"],syncAllSubscribersVisit:["viz","viz"],syncMessenger:["msngenr","msngenr"],getUUIDFromEp:["uuid","uuid"],gdprLocationUrl:["rapi",""],gdprStatusUrl:["prv","gdp"],shopifyAPI:["events","shopifywh1.php"],subscriptionValidator:["ss","ss.php"],supUrl:["evt","sup.php"],notificationClick:["clk","clk"],messengerPrompted:["msngp","msngp"],notificationSent:["snt","snt"]};return e[s.KeyMapper.IZOOTO_PROMPT_ALLOWED]=["enp","enp"],e[s.KeyMapper.IZOOTO_ALREADY_GRANTED]=["enp","enp"],e[s.KeyMapper.IZOOTO_PROMPT_CLOSED]=["sbp","ncls"],e[s.KeyMapper.IZOOTO_OPTIN_ALLOWED]=["sbp","salw"],e[s.KeyMapper.IZOOTO_PROMPT_DENIED]=["sbp","nblk"],e[s.KeyMapper.IZOOTO_ALREADY_DENIED]=["sbp","nblk"],e[s.KeyMapper.IZOOTO_OPTIN_CLOSED]=["sbp","sblk"],e[s.KeyMapper.IZOOTO_POPUP_CLOSED]=["sbp","swc"],e[s.KeyMapper.IZOOTO_PROMPTED]=["sbpd","npd"],e[s.KeyMapper.IZOOTO_OPTIN_SHOWN]=["sbpd","spd"],e[s.KeyMapper.IZOOTO_BROWSER_UNSUPPORTED]=["na","nsp"],e.hasOwnProperty(t)?"https://"+e[t][0]+".izooto.com/"+e[t][1]:"https://err.izooto.com/err"},l.getTimeDiff=function(t,e){if(!t)return 0;t=(t-(new Date).getTime())/1e3;return null!=e&&0!=e||(t/=60),Math.abs(Math.round(t))},l.urlB64ToUint8Array=function(t){for(var t=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),e=window.atob(t),n=new Uint8Array(e.length),i=0;i<e.length;++i)n[i]=e.charCodeAt(i);return n},l.getLanguage=function(){var t=document.documentElement.lang;if(""==t)try{for(var e=document.getElementsByTagName("meta"),n=0;n<e.length;n++)"content-language"==e[n].getAttribute("http-equiv")&&(t=e[n].getAttribute("content"))}catch(t){}return t},l.displayLog=function(t,e){t=window.top!=window.self?r.Config.brandingPartner+" Iframe: => "+t:r.Config.brandingPartner+" => "+t,1===r.Config.debug&&(void 0!==e?console.log(t,e):console.log(t))},l.throwError=function(t){throw new Error(t)},l.getParamFromUrl=function(t,e){return new URL(t).searchParams.get(e)},l.izParseQuery=function(t){for(var e={},n=("?"===t[0]?t.substr(1):t).split("&"),i=0;i<n.length;i++){var o=n[i].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]||"")}return e},l.replaceQueryParam=function(t,e,n){var i=n;try{var o=new RegExp("([?;&])"+t+"[^&;]*[;&]?");return(2<(i=n.replace(o,"$1").replace(/&$/,"")).length?i+"&":"?")+(e?t+"="+e:"")}catch(t){}return i},l.getUTMParamsOfUrl=function(t){try{void 0===t&&(t=window.location.href);var e=t.indexOf("?");if(0<e){var e=t.substring(e+1),i=l.izParseQuery(e),o={};return 2<r.Config.notification.utmKeys.map(function(t,e){var n=i.hasOwnProperty(t);return n&&(""==t&&null==t||(o[r.Config.notification.shortutmKeys[e]]=i[t])),n}).reduce(function(t,e,n){return e?t+1:t})&&l.getQuerySting(o)}return!1}catch(t){return!1}},l.getQuerySting=function(t){try{var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]));return n.join("&")}catch(t){}},l.objToParam=function(e){var t="";try{t=Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}catch(t){}return t},l.addMsgReciever=function(e,t){if(void 0===t&&(t=!1),1!=r.Config.global.msgReceiverExist||t){t||(r.Config.global.msgReceiverExist=1);try{l.displayLog("Message Listner Added",t),window.addEventListener("message",function(t){(-1<t.origin.indexOf(window.location.host)||"https://cdn.izooto.com"==t.origin||-1<t.origin.indexOf(r.Config.notification.sourceOrigin)||-1<t.origin.indexOf(r.Config.notification.sourceOriginAlt)||-1<t.origin.indexOf(r.Config.notification.siteUrl)||-1<r.Config.notification.masterDomain.indexOf(t.origin)||3==r.Config.notification.windowType)&&t.data&&e(t)})}catch(t){}}},l.postMessage=function(t,e,n,i){try{var o,r;null!=typeof t&&null!=e&&((o={})[e]=void 0!==n?n:1,null!=i&&l.displayLog("Service Worker Version",i),o.serviceWorkerVersion=i,(r={})[s.KeyMapper.IZOOTO_MESSAGE]=o,l.postToTargetedWindow(t,r),l.postToTargetedWindow(t,{izootoMsg:{k:e,v:void 0!==n?n:1}}))}catch(t){}},l.postToTargetedWindow=function(t,e){l.displayLog("Posting message to "+t+" window : ",e);try{"parent"===t?window.parent.postMessage(JSON.stringify(e),"*"):"opener"===t?window.opener&&window.opener.postMessage(JSON.stringify(e),"*"):t.contentWindow.postMessage(JSON.stringify(e),"*")}catch(t){}},l.addHTML=function(t,e,n){try{var i=document.getElementsByTagName("body")[0],o=document.createElement(t);return o.setAttribute("id",n||""),o.innerHTML=e,i.appendChild(o),!0}catch(t){l.displayLog("Could't add HTML : ",t)}},l.addExternalJS=function(i,o,r){return new Promise(function(t,e){var n=document.createElement("script");n.onload=t,n.onerror=e,n.async=r||!1,n.id=o||"",n.src=i,(document.body?document.body:document.head).appendChild(n)})},l.checkForFcm=function(){var t=l.getBrowserMajorVersion(),e=l.getBrowserName();return e==s.KeyMapper.BROWSER_UCB&&12<=t||e==s.KeyMapper.BROWSER_OPERA&&42<=t||e==s.KeyMapper.BROWSER_EDGE&&17<=t?1:0},l.isJSONString=function(t){try{JSON.parse(t)}catch(t){return!1}return!0},l.parseToJSON=function(t){try{return JSON.parse(t)}catch(t){return!1}},l.stringToRegex=function(t,e){var n="";return"object"==typeof t&&0<Object.keys(t).length&&(n=1<Object.keys(t).length?new RegExp(t[0],t[1]):new RegExp(t[0])),n},l.getParsedMethod=function(t){try{return new Function("return "+atob(t))()}catch(t){l.displayLog("Error while parsing custom module")}},l.getDateDiffrenceFromPresent=function(t){try{var e=new Date(t),n=new Date,e=e.getDate(),n=n.getDate();return Math.abs(e-n)}catch(t){}},l.getUUID=function(){var n,t=i.Storage.getStorage(s.KeyMapper.IZOOTO_UUID);return""==t&&(n=(new Date).getTime(),t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==t?e:3&e|8).toString(16)})),t},l.getCurrentUUID=function(){return r.Config.UUID||i.Storage.getStorage(s.KeyMapper.IZOOTO_UUID)},l.isUUID=function(){return""!=i.Storage.getStorage(s.KeyMapper.IZOOTO_UUID)},l.setUUID=function(){var t=l.getCurrentUUID();l.isUUID()||i.Storage.setStorage(s.KeyMapper.IZOOTO_UUID,t)},l.UUIDMapper=function(t,e){var n=l.getEndpoint("FCMMigration"),e="oBkey="+t+"&bKey="+e;a.HttpRequest.post(n,{data:e},function(){l.displayLog("Old & new UUID mappped successfully")})},l.getUUIDFromEndpoint=function(o){return new Promise(function(e,t){l.displayLog("Fetching lost UUID by endpoint");var n=l.getEndpoint("getUUIDFromEp"),i=c.NotificationHelper.subcriptionToObject(o);2!=r.Config.global.browserType&&(i=i.endpoint),n=n+"?pid="+r.Config.client+"&ep="+i+"&btype="+r.Config.global.browserType,a.HttpRequest.get(n,function(t){t=l.parseToJSON(t);t.hasOwnProperty("id")&&"NULL"!=t.id&&"string"==typeof t.id&&e(t.id),e("")})})},l.izootoBrandingHandler=function(){if(0==r.Config.branding)try{var t,e=document.getElementsByClassName("izbranding");for(t in e)e[t].style.display="none",l.displayLog("Branding Disabled")}catch(t){}},l);function l(){}e.Helper=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),r=n(0),i=n(12),s=n(28),c=n(3),l=n(8),n=(p.updateLastSync=function(t){p.setConfigLocal(t,Date.now(),c.KeyMapper.IZOOTO_SYNC)},p.setStorage=function(t,e){s.LocalStorage.isLocalStorageSupport()?localStorage.setItem(t,e):i.CookieStorage.setCookie(t,e)},p.getStorage=function(t){var e="";return null!=(e=s.LocalStorage.getLocalStorage(t))?t===c.KeyMapper.IZOOTO_PUSH_TOKEN?decodeURIComponent(e):e:i.CookieStorage.getCookie(t)},p.removeStorage=function(t){i.CookieStorage.removeCookie(t),s.LocalStorage.removeLocalStorage(t)},p.removeConfigLocal=function(t,e){void 0===e&&(e=c.KeyMapper.IZOOTO_CONFIG);var n={},i=s.LocalStorage.getLocalStorage(e);""!=i&&null!=i&&(n=a.Helper.parseToJSON(i)),null!=n.hasOwnProperty(t)&&delete n[t],s.LocalStorage.isLocalStorageSupport()&&s.LocalStorage.setLocalStorage(e,JSON.stringify(n))},p.setConfigLocal=function(t,e,n){void 0===n&&(n=c.KeyMapper.IZOOTO_CONFIG);var i=Math.round((new Date).getTime()/1e3),o={},r=s.LocalStorage.getLocalStorage(n);""!=r&&null!=r&&(o=(o=a.Helper.parseToJSON(r))||{}),o[t]=null!=e&&""!==e?e:i,s.LocalStorage.isLocalStorageSupport()&&s.LocalStorage.setLocalStorage(n,JSON.stringify(o))},p.getConfigLocal=function(t,e){void 0===e&&(e=c.KeyMapper.IZOOTO_CONFIG);var n=s.LocalStorage.getLocalStorage(e),i={},e="";return""!=n&&(i=(i=a.Helper.parseToJSON(n))||{}),null!=i&&null!=i[t]&&(e=i[t]),e},p.legacyStorageMigration=function(){try{if(p.getStorage(c.KeyMapper.IZOOTO_UUID)||(r.Config.store.isMDSyncingRequired=!0),1==p.getConfigLocal("isLegacyStorageMigrated"))return void a.Helper.displayLog("Leagacy storage has already migrated!");var t=p.getStorage("iztoken");t&&(p.setStorage(c.KeyMapper.IZOOTO_PUSH_TOKEN,t),p.updateLastSync(c.KeyMapper.IZOOTO_PUSH_TOKEN));var e=p.getConfigLocal("id","izConf");e&&p.setStorage(c.KeyMapper.IZOOTO_UUID,e);t=p.getStorage("izooto");t&&(r.Config.store.isMDSyncingRequired=!0,t=decodeURIComponent(t),a.Helper.isJSONString(t)&&(t=a.Helper.parseToJSON(t),n={token:JSON.stringify(t["iz_"+r.Config.client].bkey),subscribed_on:t["iz_"+r.Config.client].subscribed_on,uuid:p.getStorage(c.KeyMapper.IZOOTO_UUID)},l.MasterDomain.setMasterStorage(n)));e=p.getStorage("izstatus");e&&(e=decodeURIComponent(e),a.Helper.isJSONString(e)&&(e=a.Helper.parseToJSON(e),p.setConfigLocal(c.KeyMapper.IZOOTO_PERMISSION_STATUS,e.v)));t=p.getConfigLocal("pmtcount","izConf");t&&p.setConfigLocal(c.KeyMapper.IZOOTO_PROMPT_COUNT,t,c.KeyMapper.IZOOTO_STATS);var n=p.getConfigLocal("dscount","izConf");n&&p.setConfigLocal(c.KeyMapper.IZOOTO_OPTIN_SHOWN_COUNT,n,c.KeyMapper.IZOOTO_STATS);e=p.getConfigLocal("IZCID","izConf");e&&(p.setConfigLocal(c.KeyMapper.IZOOTO_IZCID,e),p.updateLastSync(c.KeyMapper.IZOOTO_IZCID));t=p.getStorage("izDl");t&&(t=decodeURIComponent(t),a.Helper.isJSONString(t)&&(t=a.Helper.parseToJSON(t),p.setConfigLocal(c.KeyMapper.IZOOTO_REPEAT_PROMPT_DELAY,t.t)));n=p.getConfigLocal("msngrSubscribed","izConf");n&&p.setConfigLocal(c.KeyMapper.IZOOTO_MSNGR_IS_SUBSCRIBED,n);e=p.getConfigLocal("msngrDl","izSync");e&&(e*=1e3,o=(e=new Date(e)).setTime(e.getTime()+60*r.Config.messenger.repeatDelay*1e3),p.setConfigLocal(c.KeyMapper.IZOOTO_MSNGR_REPEAT_PROMPT_DELAY,o.getTime()));t=p.getStorage("izup");t&&p.setStorage(c.KeyMapper.IZOOTO_USER_PROPERTY,decodeURIComponent(t));n=p.getStorage("izmd");n&&p.setConfigLocal(c.KeyMapper.IZOOTO_ALT_DOMAIN_STATUS,decodeURIComponent(n));e=p.getStorage("izgdpr");e&&p.setConfigLocal(c.KeyMapper.IZOOTO_GDPR_CONSENT,e);var i,o=p.getConfigLocal("iz_apihc","izConf");o&&a.Helper.isJSONString(o)&&(o=a.Helper.parseToJSON(o),t={},n=new Date,!o.hasOwnProperty("evt_pd")||(e=o.evt_pd)&&(e=e.split("#"),t[c.KeyMapper.IZOOTO_EVENT_DAILY]=e[1],n.setDate(e[0])),o.hasOwnProperty("evt_pm")&&((i=o.evt_pm)&&(i=i.split("#"),t[c.KeyMapper.IZOOTO_EVENT_MONTHLY]=i[1],n.setMonth(i[0]-1)),p.setConfigLocal(c.KeyMapper.IZOOTO_LAST_EVENT_SYNC,n.getTime(),c.KeyMapper.IZOOTO_SYNC)),!o.hasOwnProperty("prop_pd")||(i=o.prop_pd)&&(i=i.split("#"),t[c.KeyMapper.IZOOTO_PROPERTY_DAILY]=i[1],n.setDate(i[0])),o.hasOwnProperty("prop_pm")&&((o=o.prop_pm)&&(o=o.split("#"),t[c.KeyMapper.IZOOTO_PROPERTY_MONTHLY]=o[1],n.setMonth(o[0]-1)),p.setConfigLocal(c.KeyMapper.IZOOTO_LAST_PROPERTY_SYNC,n.getTime(),c.KeyMapper.IZOOTO_SYNC)),p.setConfigLocal(c.KeyMapper.IZOOTO_DM_SYNC_COUNT,t,c.KeyMapper.IZOOTO_STATS)),p.setConfigLocal("isLegacyStorageMigrated",1),a.Helper.displayLog("Legacy storage migrated sucessfully")}catch(t){p.setConfigLocal("isLegacyStorageMigrated",1),a.Helper.displayLog("legacy storage partially migrated ! due to : ",t)}},p);function p(){}e.Storage=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyMapper={IZOOTO_OPTIN_SHOWN:"optInShown",IZOOTO_OPTIN_CLOSED:"optInClosed",IZOOTO_OPTIN_ALLOWED:"optInAllowed",IZOOTO_PROMPTED:"prompted",IZOOTO_PROMPT_CLOSED:"promptclose",IZOOTO_PROMPT_DENIED:"denied",IZOOTO_PROMPT_ALLOWED:"allowed",IZOOTO_SUBSCRIBED:"subscribed",IZOOTO_ALREADY_GRANTED:"already_granted",IZOOTO_OLD_SUBSCRIPTION:"old_subscription",IZOOTO_SUBSCRIBER_REGISTRED:"subscriber_registred",IZOOTO_ALREADY_DENIED:"already_denied",IZOOTO_ALREADY_UNSUBSCRIBED:"already_unsubscribed",IZOOTO_UNSUBSCRIBED:"unsubscribed",IZOOTO_POPUP_OPEN:"popupOpened",IZOOTO_POPUP_CLOSED:"popClosed",IZOOTO_BROWSER_UNSUPPORTED:"browserUnsupported",IZOOTO_MESSENGER_PROMPTED:"messengerPrompted",IZOOTO_MESSENGER_SUBSCRIBED:"messengerSubscribed",IZOOTO_UUID:"izootoUID",IZOOTO_PUSH_TOKEN:"izootoPushToken",IZOOTO_STATS:"izootoStats",IZOOTO_SYNC:"izootoSync",IZOOTO_CONFIG:"izootoConfig",IZOOTO_USER_PROPERTY:"izootoUserProp",IZOOTO_MASTER_DOMAIN:"izootoMDConfig",IZOOTO_SESSION:"izootoSession",IZOOTO_RECOMMEND_ARTICLE:"izootoRecommendArticle",IZOOTO_MESSENGER:"izootoMessenger",IZOOTO_PROMPT_COUNT:"promptCount",IZOOTO_OPTIN_SHOWN_COUNT:"optInShownCount",IZOOTO_DM_SYNC_COUNT:"dmSyncCount",IZOOTO_EVENT_DAILY:"eventDaily",IZOOTO_EVENT_MONTHLY:"eventMonthly",IZOOTO_PROPERTY_DAILY:"propDaily",IZOOTO_PROPERTY_MONTHLY:"propMonthly",IZOOTO_PUSH_TOKEN_NOT_SYNCED:"pushTokenNotSynced",IZOOTO_PERMISSION_STATUS:"permissionStatus",IZOOTO_REPEAT_PROMPT_DELAY:"notificationPromptDelay",IZOOTO_GDPR_CONSENT:"gdprStatus",IZOOTO_TAB_ABANDONMENT:"tabAbandonment",IZOOTO_IZCID:"IZCID",IZOOTO_ALT_DOMAIN_STATUS:"altDomainStatus",IZOOTO_TAB_ABANDONMENT_PUSH:"tabAbandonmentPush",IZOOTO_LAST_EVENT_SYNC:"lastEventSync",IZOOTO_LAST_PROPERTY_SYNC:"lastPropSync",IZOOTO_FIRST_SESSION:"firstSession",IZOOTO_CRPS_PLAYBOOK:"crpsPlaybook",IZOOTO_SUBSCRIBED_ON:"subscribedOn",IZOOTO_SESSION_EXPIRY:"expiry",IZOOTO_SESSION_COUNT:"count",IZOOTO_MSNGR_REPEAT_PROMPT_DELAY:"promptDelay",IZOOTO_MSNGR_IS_SUBSCRIBED:"isSubscribed",LAST_SYNC_OF_RECOMMEND_ARTICLE:"recommendArticle",RECOMMEND_ARTICLE_SYNCED_PATH:"syncedPath",IZOOTO_MESSAGE:"izootoMsg",BROWSER_CHROME:"Chrome",BROWSER_SAFARI:"Safari",BROWSER_FIREFOX:"Firefox",BROWSER_OPERA:"Opera",BROWSER_IE:"Microsoft Internet Explorer",BROWSER_OTHER:"Other",BROWSER_UCB:"Ucb",BROWSER_EDGE:"Edge",IZOOTO_MASTER_TO_CHILD:"izMasterToChild",IZOOTO_CHILD_TO_MASTER:"izChildToMaster",IZOOTO_MASTER_AS_FRAME:"izMasterAsFrame",DAILY:"daily",MONTHLY:"monthly"}},function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function i(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,o)}r((c=c.apply(t,a||[])).next())})},r=this&&this.__generator||function(n,i){var o,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch(r=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),o=0,e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,o++)i[o]=r[a];return i};Object.defineProperty(e,"__esModule",{value:!0});var l=n(1),y=n(0),p=n(2),d=n(5),a=n(6),i=n(14),s=n(10),u=n(15),f=n(16),g=n(17),m=n(9),b=n(29),h=n(3),O=n(7),w=n(18),v=n(8),S=n(19),C=n(21),_=n(22),T=n(23),n=(z.nativeHandler=function(){z.setManifest(),"default"==window.Notification.permission?(z.brandingOverlayHandler(),z.sendEvent(h.KeyMapper.IZOOTO_PROMPTED),window.Notification.requestPermission().then(function(t){z.closeHttpsOverlay(),l.Helper.displayLog("Permission Status : ",t),"granted"==t?z.permissionGrantedCallback():t==h.KeyMapper.IZOOTO_PROMPT_DENIED?z.permissionDeniedCallback():"default"==t&&z.sendEvent(h.KeyMapper.IZOOTO_PROMPT_CLOSED),p.Storage.removeStorage("izootoActivePrompt")})):"granted"==window.Notification.permission?z.permissionAlreadyGrantedCallback():window.Notification.permission==h.KeyMapper.IZOOTO_PROMPT_DENIED&&z.sendEvent(h.KeyMapper.IZOOTO_ALREADY_DENIED)},z.permissionAlreadyGrantedCallback=function(){1!=y.Config.notification.httpsNoRoot?(z.getSubscription().then(function(){v.MasterDomain.masterDomainCallback(!0)}),1==y.Config.notification.isShopify&&u.Shopify.init()):z.addNoRootIframeHandler(h.KeyMapper.IZOOTO_ALREADY_GRANTED)},z.addNoRootIframeHandler=function(t){var e=(e=y.Config.notification.sourceOrigin+"?action=noroot")+"&izpt="+y.Config.notification.promptType+"&status="+t;z.noRootVersionHandler(),y.Config.global.isFrame||window.location.pathname!=y.Config.notification.sourceOrigin?(l.Helper.addMsgReciever(z.msgReciever),z.addIFrame(e,"izSubFrame")):z.noRootHandler(t)},z.permissionGrantedCallback=function(){1!=y.Config.notification.httpsNoRoot?z.registerServiceWorker(y.Config.notification.serviceWorkerPath).then(function(t){l.Helper.displayLog("SW Regsitered ! ",t),z.subscribe(h.KeyMapper.IZOOTO_PROMPT_ALLOWED).then(function(t){v.MasterDomain.masterDomainCallback(!1)})}):z.addNoRootIframeHandler("granted")},z.permissionDeniedCallback=function(){z.sendEvent(h.KeyMapper.IZOOTO_PROMPT_DENIED),l.Helper.displayLog("User denied prompt")},z.promptHandler=function(){var n=y.Config.notification.promptType;"https:"!=y.Config.global.locationProtocol&&1==y.Config.notification.isSdkHttps&&(y.Config.notification.promptType=1),2==y.Config.global.browserType?setTimeout(function(){z.checkSafariPermission()},300):0==y.Config.notification.isSdkHttps||y.Config.notification.isSdkHttps&&"http:"==y.Config.global.locationProtocol?(l.Helper.displayLog("Subdomain Process... "),z.getSubDomainPermissionStatus().then(function(t){var e;l.Helper.displayLog("Current subdomain status : ",t),0==t?2==n?z.triggerEventHandler(i.Notification.openPopup):z.promptEventHandler(z.loadOptin):1==t?(e=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN),z.sendEvent(h.KeyMapper.IZOOTO_ALREADY_GRANTED,e)):2==t&&(z.updatePermissionStatus(2),z.sendEvent(h.KeyMapper.IZOOTO_ALREADY_DENIED))})):1==y.Config.notification.isSdkHttps&&("default"==window.Notification.permission?0==n?z.promptEventHandler(z.nativeHandler):1==n?z.promptEventHandler(z.loadOptin):2==n&&z.triggerEventHandler(z.nativeHandler):z.nativeHandler())},z.triggerEventHandler=function(t){y.Config.store.isNotificationCalledManually?(y.Config.store.isTriggerPromptWithDelay||(y.Config.notification.promptDelay=0),z.delayHandler(t)):l.Helper.displayLog("auto prompt false found!")},z.requestSafariPermission=function(){l.Helper.displayLog("Prompted Safari"),z.sendEvent(h.KeyMapper.IZOOTO_PROMPTED),z.brandingOverlayHandler();try{window.safari.pushNotification.requestPermission(y.Config.notification.webServiceUrl,y.Config.notification.webPushId,{url:window.location.href},function(t){var e;"granted"===t.permission?(z.closeHttpsOverlay(),e=t.deviceToken,z.sendEvent(h.KeyMapper.IZOOTO_PROMPT_ALLOWED,e),l.Helper.displayLog("Granted Key= "+e)):t.permission===h.KeyMapper.IZOOTO_PROMPT_DENIED&&(z.closeHttpsOverlay(),z.sendEvent(h.KeyMapper.IZOOTO_PROMPT_DENIED))})}catch(t){z.closeHttpsOverlay()}},z.checkSafariPermission=function(){var t,e,n;""!=y.Config.notification.webPushId&&""!=y.Config.notification.webServiceUrl?(t="","safari"in window&&"pushNotification"in window.safari&&("default"===(e=window.safari.pushNotification.permission(y.Config.notification.webPushId)).permission?0==(n=y.Config.notification.promptType)?z.promptEventHandler(z.requestSafariPermission):1==n?z.promptEventHandler(z.loadOptin):2==n&&z.triggerEventHandler(z.requestSafariPermission):"granted"===e.permission?(t=e.deviceToken,z.sendEvent(h.KeyMapper.IZOOTO_ALREADY_GRANTED,t),l.Helper.displayLog("Already Granted & key= ",t)):e.permission===h.KeyMapper.IZOOTO_PROMPT_DENIED&&(z.sendEvent(h.KeyMapper.IZOOTO_ALREADY_DENIED),l.Helper.displayLog(h.KeyMapper.IZOOTO_PROMPT_DENIED)))):l.Helper.displayLog("Stopped! Safari certificate not found")},z.delayHandler=function(t){y.Config.notification.promptDelay?(l.Helper.displayLog("Triggering prompt delay for : "+y.Config.notification.promptDelay+" ms"),setTimeout(t,y.Config.notification.promptDelay)):t()},z.promptEventHandler=function(t){z.isActivePrompt()?l.Helper.displayLog(y.Config.brandingPartner+" notification off for this device"):z.isRepeatPromptDelay()||(1==y.Config.notification.promptOnScroll&&z.isScreenScrollable()?(l.Helper.displayLog("optIn will be shown on page scroll!"),window.addEventListener("scroll",function(){z.scrollHandler(t)})):z.delayHandler(t))},z.isRepeatPromptDelay=function(){var t,e=!1;return y.Config.notification.windowType||(t=new Date,p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_REPEAT_PROMPT_DELAY)>t.getTime()&&(e=!0,l.Helper.displayLog("Wait until repeat prompt delay expire!"))),e},z.triggerPromptHandler=function(t){void 0===t&&(t=!1),y.Config.store.isNotificationCalledManually||(t&&(y.Config.store.isTriggerPromptWithDelay=!0),y.Config.store.isNotificationCalledManually=!0,z.promptHandler())},z.noRootHandler=function(t){l.Helper.displayLog("No root handler initiated..."),l.Helper.addMsgReciever(z.msgReciever),"granted"==(t=t||l.Helper.getParamFromUrl(document.location.href,"status"))?z.registerServiceWorker(y.Config.notification.serviceWorkerPath).then(function(t){z.subscribe(h.KeyMapper.IZOOTO_PROMPT_ALLOWED)}):t==h.KeyMapper.IZOOTO_ALREADY_GRANTED?z.getSubscription():"getOldSubscription"==t&&z.httpsGetOldSubscription(!0)},z.httpsNoRootGetOldSubscription=function(){return o(this,void 0,void 0,function(){return r(this,function(t){return[2,new Promise(function(e,t){var n;window.top==window.self?(n=(n=y.Config.notification.sourceOrigin+"?action=noroot")+"&izpt="+y.Config.notification.promptType+"&status=getOldSubscription",l.Helper.addMsgReciever(function(t){t=l.Helper.parseToJSON(t.data);if(t.hasOwnProperty(h.KeyMapper.IZOOTO_MESSAGE)){t=t[h.KeyMapper.IZOOTO_MESSAGE];if(t.hasOwnProperty(h.KeyMapper.IZOOTO_OLD_SUBSCRIPTION)&&null!=t[h.KeyMapper.IZOOTO_OLD_SUBSCRIPTION])return void e(t[h.KeyMapper.IZOOTO_OLD_SUBSCRIPTION])}},!0),z.addIFrame(n,"izSubFrame")):z.noRootHandler()})]})})},z.httpsGetOldSubscription=function(r){return void 0===r&&(r=!1),new Promise(function(e,t){try{var n=!1,i=!1,o=function(t){0==i&&(i=!0,r&&l.Helper.postMessage("parent",h.KeyMapper.IZOOTO_OLD_SUBSCRIPTION,n),l.Helper.displayLog(t),e(n))};setTimeout(function(){o("SW Registration not found!")},1500),l.Helper.displayLog("Finding SW Registration..."),navigator.serviceWorker.ready.then(function(t){-1==t.scope.indexOf(y.Config.notification.domainRoot)?o(y.Config.brandingPartner+" sw not found found !"):t.pushManager.getSubscription().then(function(t){t&&(n=JSON.stringify(t)),o("SW Registration found!"),l.Helper.displayLog("Recovered Subscription : ",n)}).catch(function(){l.Helper.displayLog("Not Resolved")})})}catch(t){}})},z.noRootVersionHandler=function(){s.IndexedDB.init().then(function(t){s.IndexedDB.addUpdate(t,"noRootAllowed",1).then(function(t){l.Helper.displayLog(t)}).catch(function(t){l.Helper.displayLog(t)})}).catch(function(t){l.Helper.displayLog(t)})},z.getResponseCode=function(t){var e={};e[h.KeyMapper.IZOOTO_PROMPT_ALLOWED]={response:"subscribed",statuscode:1},e[h.KeyMapper.IZOOTO_SUBSCRIBED]={response:"subscribed",statuscode:1},e[h.KeyMapper.IZOOTO_ALREADY_GRANTED]={response:"already subscribed",statuscode:2},e[h.KeyMapper.IZOOTO_PROMPT_DENIED]={response:"blocked",statuscode:3},e[h.KeyMapper.IZOOTO_ALREADY_DENIED]={response:"already blocked",statuscode:4},e[h.KeyMapper.IZOOTO_BROWSER_UNSUPPORTED]={response:"browser not supported",statuscode:5},e[h.KeyMapper.IZOOTO_PROMPT_CLOSED]={response:"prompt closed",statuscode:6},e[h.KeyMapper.IZOOTO_UNSUBSCRIBED]={response:"soft unsubscribed",statuscode:7},e[h.KeyMapper.IZOOTO_ALREADY_UNSUBSCRIBED]={response:"already soft unsubscribed",statuscode:8},e[h.KeyMapper.IZOOTO_OPTIN_ALLOWED]={response:"soft subscribed",statuscode:9},e[h.KeyMapper.IZOOTO_SUBSCRIBER_REGISTRED]={response:"subscriber reregistered",statuscode:10};var n={};return n[h.KeyMapper.IZOOTO_OPTIN_SHOWN]={response:"soft prompt displayed",statuscode:1},n[h.KeyMapper.IZOOTO_OPTIN_CLOSED]={response:"soft prompt closed",statuscode:2},n[h.KeyMapper.IZOOTO_PROMPTED]={response:"native prompt displayed",statuscode:3},n[h.KeyMapper.IZOOTO_POPUP_OPEN]={response:"prompt window opened",statuscode:4},n[h.KeyMapper.IZOOTO_POPUP_CLOSED]={response:"prompt window closed",statuscode:5},void 0!==e[t]?e[t]:void 0!==n[t]?n[t]:void 0},z.sendEvent=function(e,n){if(l.Helper.displayLog("Event caught : ",e),1!=y.Config.notification.windowType&&6!=y.Config.notification.windowType){var t,i=[h.KeyMapper.IZOOTO_PROMPT_ALLOWED,h.KeyMapper.IZOOTO_SUBSCRIBED,h.KeyMapper.IZOOTO_ALREADY_GRANTED,h.KeyMapper.IZOOTO_PROMPT_DENIED,h.KeyMapper.IZOOTO_ALREADY_DENIED,h.KeyMapper.IZOOTO_BROWSER_UNSUPPORTED,h.KeyMapper.IZOOTO_PROMPT_CLOSED,h.KeyMapper.IZOOTO_UNSUBSCRIBED,h.KeyMapper.IZOOTO_ALREADY_UNSUBSCRIBED,h.KeyMapper.IZOOTO_OPTIN_ALLOWED],o=[h.KeyMapper.IZOOTO_OPTIN_SHOWN,h.KeyMapper.IZOOTO_OPTIN_CLOSED,h.KeyMapper.IZOOTO_PROMPTED,h.KeyMapper.IZOOTO_POPUP_OPEN,h.KeyMapper.IZOOTO_POPUP_CLOSED],r=c([h.KeyMapper.IZOOTO_PROMPT_ALLOWED,h.KeyMapper.IZOOTO_ALREADY_GRANTED,h.KeyMapper.IZOOTO_PROMPT_DENIED],y.Config.notification.eventsToSync);e!=h.KeyMapper.IZOOTO_PROMPT_ALLOWED&&e!=h.KeyMapper.IZOOTO_ALREADY_GRANTED||(l.Helper.setUUID(),z.setUuidDb(l.Helper.getCurrentUUID()),f.GDPR.init(),z.syncHookInDb("syncNotificationView"),z.syncHookInDb("syncNotificationClick")),e==h.KeyMapper.IZOOTO_PROMPT_ALLOWED&&""!=y.Config.notification.sourceOriginAlt&&z.removeSubsriptionFromAlternateDomain(),e!=h.KeyMapper.IZOOTO_PROMPTED&&e!=h.KeyMapper.IZOOTO_OPTIN_SHOWN||(z.updatePromptCount(e),z.setActivePrompt(5),p.Storage.removeStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN),0!=y.Config.notification.repeatPromptDelay&&z.setRepeatPromptDelay(y.Config.notification.repeatPromptDelay)),e==h.KeyMapper.IZOOTO_OPTIN_CLOSED&&0!=y.Config.notification.optInCloseDelay&&z.setRepeatPromptDelay(y.Config.notification.optInCloseDelay),e==h.KeyMapper.IZOOTO_PROMPT_CLOSED&&p.Storage.removeStorage("izootoActivePrompt"),-1!=r.indexOf(e)&&(z.updatePermissionStatus(e),r=b.AdNetwork.getAdNetworkParam(),null!=n?(e==h.KeyMapper.IZOOTO_PROMPT_ALLOWED&&2==y.Config.global.browserType&&z.showWelcomeNotificationOld(n),t+=r,"object"==typeof n&&(n=JSON.stringify(n)),r=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN),n!=r&&(l.Helper.displayLog("Current subscription token not matched with saved token! Updating..."),z.updateSubscriptionToken(n)),e==h.KeyMapper.IZOOTO_PROMPT_ALLOWED||e==h.KeyMapper.IZOOTO_ALREADY_GRANTED?z.syncEvent(e,n,t):z.syncEvent(e)):z.syncEvent(e)),-1!=i.indexOf(e)&&(i=z.getResponseCode(e),e==h.KeyMapper.IZOOTO_ALREADY_GRANTED&&(y.Config.store.isSoftSubscribeTriggered&&(i=z.getResponseCode(h.KeyMapper.IZOOTO_SUBSCRIBED)),y.Config.store.isSubscriptionLost&&(i=z.getResponseCode(h.KeyMapper.IZOOTO_SUBSCRIBER_REGISTRED))),z.subscriptionEventsCallback(e,i)),-1!=o.indexOf(e)&&z.promptDisplayCallback(e,z.getResponseCode(e))}else try{var a="parent",s=[h.KeyMapper.IZOOTO_SUBSCRIBED,h.KeyMapper.IZOOTO_ALREADY_GRANTED,h.KeyMapper.IZOOTO_PROMPT_DENIED,h.KeyMapper.IZOOTO_PROMPT_ALLOWED,h.KeyMapper.IZOOTO_PROMPT_CLOSED,h.KeyMapper.IZOOTO_ALREADY_DENIED];y.Config.global.isFrame||(a="opener",z.popupNoticeHandler(e)),z.getswVersion().then(function(t){l.Helper.postMessage(a,e,n,t)}).catch(function(t){l.Helper.postMessage(a,e,n),l.Helper.displayLog("Error while getting sw version")}).finally(function(){e==h.KeyMapper.IZOOTO_PROMPT_ALLOWED&&z.showWelcomeNotification(!1)&&l.Helper.postMessage(a,"syncWelcomeSent",1),-1<s.indexOf(e)&&"opener"==a&&(l.Helper.displayLog("Closing Popup for  : ",e),z.closePopupWindow())})}catch(t){}},z.popupNoticeHandler=function(t){switch(t){case h.KeyMapper.IZOOTO_PROMPTED:z.popupNotice(y.Config.notification.clickOnAllowMsg);break;case h.KeyMapper.IZOOTO_PROMPT_ALLOWED:z.popupNotice(y.Config.notification.subscribedMsg);break;case h.KeyMapper.IZOOTO_ALREADY_GRANTED:z.popupNotice(y.Config.notification.alreadySubscribedMsg);break;case h.KeyMapper.IZOOTO_PROMPT_DENIED:z.popupNotice(y.Config.notification.blockedMsg);break;case h.KeyMapper.IZOOTO_ALREADY_DENIED:z.popupNotice(y.Config.notification.alreadyDeniedMsg)}},z.subscriptionEventsCallback=function(t,e){"function"==typeof a.Queue.subscriptionCallback?a.Queue.subscriptionCallback(e):"function"==typeof a.Queue.userCallback&&(7!=e.statuscode&&8!=e.statuscode||(e={response:"unsubscribed",statuscode:7}),a.Queue.userCallback(e)),m.GoogleAnalytics.isCallbackAllowed(y.Config.ga.subscriptionCallback,e.statuscode)&&m.GoogleAnalytics.process(e.response)},z.promptDisplayCallback=function(t,e){"function"==typeof a.Queue.promptDisplayCallback&&a.Queue.promptDisplayCallback(e),m.GoogleAnalytics.isCallbackAllowed(y.Config.ga.promptDisplayCallback,e.statuscode)&&m.GoogleAnalytics.process(e.response)},z.syncEvent=function(e,t,n){if(0<=y.Config.store.syncedEventList.indexOf(e))l.Helper.displayLog("Abort! This event has been synced already");else{y.Config.store.syncedEventList.push(e),l.Helper.displayLog("Syncing Event : ",e);var i=z.getDeviceParameters();if(void 0!==t){i+=z.getSubscriptionParameters(t),null!=n&&"undefined"!=n&&(i+=n);n=l.Helper.getUTMParamsOfUrl();if(!1!==n&&(i+="&"+n),e!=h.KeyMapper.IZOOTO_PROMPT_ALLOWED&&e!=h.KeyMapper.IZOOTO_ALREADY_GRANTED||(e==h.KeyMapper.IZOOTO_PROMPT_ALLOWED&&y.Config.notification.isSdkHttps&&"https:"==y.Config.global.locationProtocol&&z.showWelcomeNotification(!1),1==y.Config.notification.isShopify&&u.Shopify.init(!0),a.Queue.sync(),g.TabAbandonments.init(),w.VideoDropOff.init(),S.CRPSPlaybook.init(),C.RecommendArticle.init(),z.syncLastVisit(),1==b.AdNetwork.forceSyncAdNetwork&&z.syncAdNetwork(b.AdNetwork.getAdNetworkParam(!0)),_.AutoSegment.init(),T.NewsHub.init()),""!=p.Storage.getStorage(h.KeyMapper.IZOOTO_UUID)&&!p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_PUSH_TOKEN_NOT_SYNCED))return}z.getExtraParameterToSync(e).then(function(t){switch(i+=t,e){case h.KeyMapper.IZOOTO_OPTIN_SHOWN:i+="&divShow=1";break;case h.KeyMapper.IZOOTO_OPTIN_ALLOWED:i+="&divAllowed=1";break;case h.KeyMapper.IZOOTO_OPTIN_CLOSED:i+="&divClosed=1";break;default:i+="&"+e+"=1"}t={data:i};d.HttpRequest.post(l.Helper.getEndpoint(e),t,function(){p.Storage.removeConfigLocal(h.KeyMapper.IZOOTO_PUSH_TOKEN_NOT_SYNCED),l.Helper.displayLog("Event : "+e+" synced successfully with "+y.Config.brandingPartner)})})}},z.updateSubscriptionToken=function(t){3==y.Config.notification.subscriptionType?p.Storage.setStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN,t):2==y.Config.notification.subscriptionType?("object"==typeof t&&(t=JSON.stringify(t)),p.Storage.setStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN,encodeURIComponent(t))):1==y.Config.notification.subscriptionType?p.Storage.setStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN,t):l.Helper.displayLog("No GCM Token"),p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_PUSH_TOKEN_NOT_SYNCED,1),p.Storage.updateLastSync(h.KeyMapper.IZOOTO_PUSH_TOKEN);t=p.Storage.getStorage(h.KeyMapper.IZOOTO_USER_PROPERTY);(t=l.Helper.parseToJSON(t))&&z.syncProperties("SegmentProperties","add",t,function(){return l.Helper.displayLog("User property re-synced succesfully")})},z.syncAdNetwork=function(n){var t=l.Helper.getEndpoint("syncAdNetwork"),e="pid="+y.Config.client+"&bkey="+l.Helper.getCurrentUUID()+"&";e+=l.Helper.objToParam(n);d.HttpRequest.post(t,{data:e},function(t,e){200==e&&Object.keys(n).map(function(t){n[t]&&p.Storage.setConfigLocal(t,n[t])})})},z.syncProperties=function(e,i,o,r){var n=l.Helper.getEndpoint(e),a=z.getDeviceParameters(),t="";switch(e){case"SegmentEvents":t="evt";break;case"SegmentProperties":t="userp";break;case"PersonalProperties":t="pers";break;case"TriggerEvent":t="trg"}a+="&et="+t,a=null!=o?(o=encodeURIComponent(JSON.stringify(o)),a+"&act="+i+"&val="+o):a+"&act="+i;var s=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN);if(z.isSegmentSyncAllowed()){try{a+=z.getSubscriptionParameters(s)}catch(t){}var c=function(t,e,n){200==e&&(l.Helper.displayLog(n+" synced successfully"),z.syncUserEventCallback(n,i,o)),null!=r&&"function"==typeof r&&r(t,e,n)};z.getExtraParameterToSync().then(function(t){t={data:a+=t};d.HttpRequest.post(n,t,c,void 0,void 0,e)})}else l.Helper.displayLog(e+" Aborted! No subscription key or UUID found")},z.isSegmentSyncAllowed=function(){return!(!p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN)||!l.Helper.getCurrentUUID)},z.syncUserEventCallback=function(t,e,n){var i,o="";switch(t){case"SegmentEvents":o="User Event";break;case"SegmentProperties":o="User Property";break;case"PersonalProperties":o="Personalization Property";break;case"TriggerEvent":o="Trigger"}try{var r={};r[o]=decodeURIComponent(n),y.Config.store.syncedSegments.push(r)}catch(t){}1==y.Config.debugger.status&&(i=O.Debugger.getMsgSet(),t=o+": "+(n=decodeURIComponent(n))+" "+i.ev,"SegmentEvents"!=o&&"TriggerEvent"!=o||(t=o+": "+e+" "+i.ev,n&&(t+=" with data "+n)),O.Debugger.log(t,y.Config.debugger.successCode))},z.getSyncCount=function(t,e){var n,i=new Date,o=i.getDate(),r=i.getMonth()+1,i=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_DM_SYNC_COUNT,h.KeyMapper.IZOOTO_STATS);if("event"==t){var a=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_LAST_EVENT_SYNC,h.KeyMapper.IZOOTO_SYNC);if(""==a)return 0;var s=(n=new Date(a)).getDate(),a=n.getMonth()+1;if(e==h.KeyMapper.DAILY)return null!=i[h.KeyMapper.IZOOTO_EVENT_DAILY]&&o==s?i[h.KeyMapper.IZOOTO_EVENT_DAILY]:0;if(e==h.KeyMapper.MONTHLY)return null!=i[h.KeyMapper.IZOOTO_EVENT_MONTHLY]&&r==a?i[h.KeyMapper.IZOOTO_EVENT_MONTHLY]:0}else if("userProperty"==t){t=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_LAST_PROPERTY_SYNC,h.KeyMapper.IZOOTO_SYNC);if(""==t)return 0;s=(n=new Date(t)).getDate(),a=n.getMonth()+1;if(e==h.KeyMapper.DAILY)return null!=i[h.KeyMapper.IZOOTO_PROPERTY_DAILY]&&o==s?i[h.KeyMapper.IZOOTO_PROPERTY_DAILY]:0;if(e==h.KeyMapper.MONTHLY)return null!=i[h.KeyMapper.IZOOTO_PROPERTY_MONTHLY]&&r==a?i[h.KeyMapper.IZOOTO_PROPERTY_MONTHLY]:0}},z.hasSynclimitReached=function(t){return"event"==t?!y.Config.notification.evtTracking||(y.Config.notification.syncLimit.evtPerMonth<=z.getSyncCount("event",h.KeyMapper.MONTHLY)||y.Config.notification.syncLimit.evtPerDay<=z.getSyncCount("event",h.KeyMapper.DAILY)):"userProperty"==t?!y.Config.notification.propsTracking||(y.Config.notification.syncLimit.propsPerMonth<=z.getSyncCount("userProperty",h.KeyMapper.MONTHLY)||y.Config.notification.syncLimit.propsPerDay<=z.getSyncCount("userProperty",h.KeyMapper.DAILY)):void 0},z.userEventProcessor=function(t,e){if(z.hasSynclimitReached("event"))l.Helper.displayLog("Sync aborted! : Daily/monthly limit reached!");else{t=z.parseData(t),t=z.filterData(t);var n;if(z.validateData(t)){if(null!=e&&1<=Object.keys(e).length&&!(n=z.filterProperties(e,{key:32,value:32,object:16},["string","number","boolean"])))return void l.Helper.displayLog("Invalid Json Data");z.syncProperties("SegmentEvents",t,n,function(){z.increaseSyncCount("event")})}}},z.addPropertyProcessorFallback=function(e){var n,i,t;l.Helper.displayLog("Property fallback :",e),"object"!=typeof e||"string"!=typeof e.name||"string"!=typeof e.value&&"number"!=typeof e.value&&"boolean"!=typeof e.value||""===e.value?l.Helper.displayLog("Invalid payload passed in add_property"):("subscriber_id"==e.name&&e.value&&s.IndexedDB.init().then(function(t){s.IndexedDB.addUpdate(t,"subscriberId",e.value).then(function(t){y.Config.store.subscriberId=e.value,l.Helper.displayLog(t)}).catch(function(t){l.Helper.displayLog(t)})}).catch(function(t){l.Helper.displayLog(t)}),n=l.Helper.getEndpoint("CustomerIDSynch"),i=z.getDeviceParameters(),t=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN),i+=z.getSubscriptionParameters(t),i+="&name="+e.name+"&value="+e.value+"&operation=add_property",z.getExtraParameterToSync().then(function(t){i+=t,d.HttpRequest.post(n,{data:i},function(){})}))},z.increaseSyncCount=function(t){var e,n,i,o=new Date,r=o.getDate(),a=o.getMonth()+1,s=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_DM_SYNC_COUNT,h.KeyMapper.IZOOTO_STATS),c=""!=s?s:{};"event"==t?(""==(o=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_LAST_EVENT_SYNC,h.KeyMapper.IZOOTO_SYNC))?(c[h.KeyMapper.IZOOTO_EVENT_DAILY]=1,c[h.KeyMapper.IZOOTO_EVENT_MONTHLY]=1):(n=(e=new Date(o)).getDate(),i=e.getMonth()+1,null!=s[h.KeyMapper.IZOOTO_EVENT_DAILY]&&r==n?c[h.KeyMapper.IZOOTO_EVENT_DAILY]=s[h.KeyMapper.IZOOTO_EVENT_DAILY]+1:c[h.KeyMapper.IZOOTO_EVENT_DAILY]=1,null!=s[h.KeyMapper.IZOOTO_EVENT_MONTHLY]&&a==i?c[h.KeyMapper.IZOOTO_EVENT_MONTHLY]=s[h.KeyMapper.IZOOTO_EVENT_MONTHLY]+1:c[h.KeyMapper.IZOOTO_EVENT_MONTHLY]=1),p.Storage.updateLastSync(h.KeyMapper.IZOOTO_LAST_EVENT_SYNC)):"userProperty"==t&&(""==(t=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_LAST_PROPERTY_SYNC,h.KeyMapper.IZOOTO_SYNC))?(c[h.KeyMapper.IZOOTO_PROPERTY_DAILY]=1,c[h.KeyMapper.IZOOTO_PROPERTY_MONTHLY]=1):(n=(e=new Date(t)).getDate(),i=e.getMonth()+1,null!=s[h.KeyMapper.IZOOTO_PROPERTY_DAILY]&&r==n?c[h.KeyMapper.IZOOTO_PROPERTY_DAILY]=s[h.KeyMapper.IZOOTO_PROPERTY_DAILY]+1:c[h.KeyMapper.IZOOTO_PROPERTY_DAILY]=1,null!=s[h.KeyMapper.IZOOTO_PROPERTY_MONTHLY]&&a==i?c[h.KeyMapper.IZOOTO_PROPERTY_MONTHLY]=s[h.KeyMapper.IZOOTO_PROPERTY_MONTHLY]+1:c[h.KeyMapper.IZOOTO_PROPERTY_MONTHLY]=1),p.Storage.updateLastSync(h.KeyMapper.IZOOTO_LAST_PROPERTY_SYNC)),p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_DM_SYNC_COUNT,c,h.KeyMapper.IZOOTO_STATS)},z.toTriggerData=function(t,e){var n={},i={},o={collection_viewed:["collection_viewed",{collection_title:"collection_name",collection_link:"collection_url"}],product_viewed:["product_viewed",{product_title:"product_name",product_link:"product_url"}],added_to_cart:["added_to_cart",{product_title:"product_name"}],add_to_cart:["added_to_cart",{product_title:"product_name"}],order_placed:["order_placed",{}],purchased:["order_placed",{}]};if(o.hasOwnProperty(t)&&(n=o[t=o[t][0]][1]),null!=e)for(var r in e)n.hasOwnProperty(r)?i[n[r]]=e[r]:i[r]=e[r];return[t,i]},z.syncAsTrigger=function(t,e){t=z.parseData(t),t=z.filterData(t);var n={product_viewed:["product_browsed"],added_to_cart:["product_addedtocart","product_browsed"],order_placed:["product_addedtocart","product_browsed"]};if(1==y.Config.notification.eventAsTrigger&&0<=["collection_viewed","product_viewed","added_to_cart","add_to_cart","order_placed","purchased"].indexOf(t)){e=z.toTriggerData(t,e);if(0<Object.keys(e[1]).length?z.triggerProcessor(e[0],e[1]):z.triggerProcessor(e[0]),n.hasOwnProperty(e[0])){var i,o=n[e[0]];for(i in o)z.triggerProcessor(o[i])}}},z.triggerProcessor=function(t,e,n){t=z.parseData(t),t=z.filterData(t);var i;if(z.validateData(t)){if(null!=e&&1<=Object.keys(e).length&&!(i=z.filterProperties(e,{key:32,value:512,object:16},["string"])))return void l.Helper.displayLog("Invalid Json Data");z.syncProperties("TriggerEvent",t,i,n)}},z.personalizationProcessor=function(t){if(null!=t&&1<=Object.keys(t).length){if(!(t=z.filterProperties(t.add,{key:32,value:32,object:1},["number","string"])))return void l.Helper.displayLog("Invalid Json Data");z.syncProperties("PersonalProperties","",t)}},z.userProfileProcessor=function(t){var n,i="",e={key:32,value:32,object:64};if(z.hasSynclimitReached("userProperty"))l.Helper.displayLog("Sync aborted! : Daily/monthly limit reached!");else if(null!=t&&1<=Object.keys(t).length){if(void 0!==t.add&&1<=Object.keys(t.add).length)n=z.filterProperties(t.add,e),i="add";else{if(!(void 0!==t.remove&&1<=Object.keys(t.remove).length))return void l.Helper.displayLog("Invalid JSON format");n=z.filterProperties(t.remove,e),i="remove"}if(!n)return void l.Helper.displayLog("Invalid Json Data");if(z.isPropertySynced(n,i))return l.Helper.displayLog("This property already synced : ",n),void(1==y.Config.debugger.status&&(e="User Property: Already Sent to "+y.Config.brandingPartner,O.Debugger.log(e+" "+JSON.stringify(n),y.Config.debugger.successCode)));z.syncProperties("SegmentProperties",i,n,function(t,e){200==e&&(z.increaseSyncCount("userProperty"),z.propertySynced("userProperty",n,i))})}},z.propertySynced=function(t,n,i){var o;void 0===i&&(i="add"),"userProperty"==t&&(o=p.Storage.getStorage(h.KeyMapper.IZOOTO_USER_PROPERTY),(o=l.Helper.parseToJSON(o))&&"object"==typeof o?Object.keys(n).forEach(function(e){Array.isArray(n[e])?"add"==i?(0==Array.isArray(o[e])&&(o[e]=[]),n[e].forEach(function(t){-1<o[e].indexOf(t)==0&&o[e].push(t)})):"remove"==i&&Array.isArray(o[e])&&(n[e].forEach(function(t){t=o[e].indexOf(t);-1<t&&o[e].splice(t,1)}),0==o[e].length&&delete o[e]):"remove"==i?delete o[e]:o[e]=n[e]}):o=n,p.Storage.setStorage(h.KeyMapper.IZOOTO_USER_PROPERTY,JSON.stringify(o)))},z.isPropertySynced=function(t,e){void 0===e&&(e="add");var n=p.Storage.getStorage(h.KeyMapper.IZOOTO_USER_PROPERTY);if(!(n=l.Helper.parseToJSON(n))||"remove"==e)return!1;if(n&&"object"==typeof n){var e=Object.keys(t),i=Object.keys(n);if(0==e.every(function(t){return-1<i.indexOf(t)}))return!1;for(var o=!1,r=0,a=e;r<a.length;r++){if("break"===function(e){if(Array.isArray(t[e])){if(0==t[e].every(function(t){return-1<n[e].indexOf(t)}))return o=!0,"break"}else if(n.hasOwnProperty(e)&&n[e]!=t[e])return o=!0,"break"}(a[r]))break}if(o)return!1}return!0},z.filterData=function(t){if("string"==typeof t)return t},z.parseData=function(t){return"string"==typeof t?t.trim():"number"==typeof t?t.toString().trim():t},z.validateData=function(t){if(t.length<=32&&t.length)return!0},z.filterProperties=function(p,d,u){void 0===u&&(u=["number","string","boolean","object"]);try{var f={},g=0;if("object"==typeof p)return Object.keys(p).map(function(t){var e=t;if(t=t.substring(0,d.key),g<d.object&&""!=t.trim()&&t.length<=d.key){var n=(n=t.toLowerCase()).trim(),i=p[e];if("string"==typeof i&&""!=i&&-1<u.indexOf(typeof i)){t=(i=i.trim()).substring(0,d.value),e=new RegExp("^(https?)://");""!=i&&(i.length<=d.value||e.test(i))?f[n]=i:f[n]=t,g++}else if("object"==typeof i&&-1<u.indexOf(typeof i)){if(i instanceof Array&&1<=i.length){var o,r=i,a=[],s=0;for(o in r){var c,l=r[o];"number"==typeof(l=l.substring(0,d.value))&&null!=l&&s<=d.object&&l.toString().length<=d.value?(c=l,a.push(c),s++):"string"==typeof l&&""!=l.trim()&&s<=d.object&&l.trim().length<=d.value&&(c=l.trim(),a.push(c),s++)}1<=a.length&&(f[n]=a,g++)}}else("boolean"==typeof i&&-1<u.indexOf(typeof i)||"number"==typeof i&&-1<u.indexOf(typeof i)&&(i.toString().length<=d.value&&null!=i||-1<y.Config.notification.allowedKeys.indexOf(n)))&&(f[n]=i,g++)}}),f}catch(t){}return!1},z.setUuidDb=function(e){s.IndexedDB.init().then(function(t){s.IndexedDB.addUpdate(t,"uid",e).then(function(t){l.Helper.displayLog(t)}).catch(function(t){l.Helper.displayLog(t)})}).catch(function(t){l.Helper.displayLog(t)})},z.setIzcidDb=function(e){s.IndexedDB.init().then(function(t){s.IndexedDB.addUpdate(t,"IZCID",e).then(function(t){l.Helper.displayLog(t)}).catch(function(t){l.Helper.displayLog(t)})}).catch(function(t){l.Helper.displayLog(t)})},z.getIzCidPromise=function(){return new Promise(function(t,e){var n,i=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_IZCID),o=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_IZCID,h.KeyMapper.IZOOTO_SYNC);""==i||""==o?(l.Helper.addMsgReciever(z.msgReciever),z.setCookieGlobalID(),""!=(n=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_IZCID))?t(n):setTimeout(function(){t(n),n&&"undefined"!=n&&z.setIzcidDb(n)},2500)):(t(i),i&&"undefined"!=i&&z.setIzcidDb(i))}).catch(function(t){l.Helper.displayLog(t)})},z.setSubscriberIdFromDb=function(){return new Promise(function(e,t){s.IndexedDB.init().then(function(t){l.Helper.displayLog("Getting subscriberId from Db"),s.IndexedDB.getIndexDBData(t,"options","subscriberId").then(function(t){t?(l.Helper.displayLog("Subscriber id found from db: ",t.val),y.Config.store.subscriberId=t.val,e(y.Config.store.subscriberId)):(l.Helper.displayLog("Subscriber id not found "),e(!1))}).catch(function(t){l.Helper.displayLog("Error in getting subscriber id",t)})}).catch(function(t){l.Helper.displayLog(t)})})},z.setCookieGlobalID=function(){var t;1==y.Config.izootoStatus&&(t=z.addIFrame("https://cdn.izooto.com/scripts/sak/iz_setcid.html","izsetcgid"),setTimeout(function(){try{document.body.removeChild(t)}catch(t){l.Helper.displayLog("Unable to set cookieGlobalID : ",t)}},2500))},z.isIncognitoMode=function(){return new Promise(function(t,e){if(1==y.Config.global.browserType||4==y.Config.global.browserType){var n=window.RequestFileSystem||window.webkitRequestFileSystem;return n?n(window.TEMPORARY,100,function(){t(!1)},function(){t(!0)}):void t(!1)}7==y.Config.global.browserType?window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?t(!1):t(!0):3==y.Config.global.browserType?((n=indexedDB.open("test")).onsuccess=function(){t(!1)},n.onerror=function(){t(!0)}):t(!1)})},z.updatePromptCount=function(t){var e=0;t==h.KeyMapper.IZOOTO_PROMPTED?(e=""!=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_PROMPT_COUNT,h.KeyMapper.IZOOTO_STATS)?p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_PROMPT_COUNT,h.KeyMapper.IZOOTO_STATS)+1:1,p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_PROMPT_COUNT,e,h.KeyMapper.IZOOTO_STATS)):t==h.KeyMapper.IZOOTO_OPTIN_SHOWN&&(e=""!=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_OPTIN_SHOWN_COUNT,h.KeyMapper.IZOOTO_STATS)?p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_OPTIN_SHOWN_COUNT,h.KeyMapper.IZOOTO_STATS)+1:1,p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_OPTIN_SHOWN_COUNT,e,h.KeyMapper.IZOOTO_STATS))},z.getSubscriptionKey=function(t){if(!t)return"";if("string"==typeof(t=z.subcriptionToObject(t)))return t;var e=t.endpoint,t=y.Config.global.browserName;return t==h.KeyMapper.BROWSER_FIREFOX?e.substring(48):(t==h.KeyMapper.BROWSER_OPERA||t==h.KeyMapper.BROWSER_CHROME)&&null!=e&&0<=e.indexOf("fcm.googleapis.com")?e.substring(36):t==h.KeyMapper.BROWSER_EDGE?encodeURIComponent(e.substring(41)):t==h.KeyMapper.BROWSER_UCB?e.substring(36):e.substring(40)},z.getSubscriptionParameters=function(t){try{return 3==y.Config.notification.subscriptionType?"&bKey="+l.Helper.getCurrentUUID()+"&st="+t:2==y.Config.notification.subscriptionType?(t=z.subcriptionToObject(t),("&ep="+(7==y.Config.global.browserType?encodeURIComponent(t.endpoint):t.endpoint)+"\n\t\t\t\t&bKey="+l.Helper.getCurrentUUID()+"\n\t\t\t\t&auth="+t.keys.auth+"\n\t\t\t\t&pk="+t.keys.p256dh+"\n\t\t\t\t&vpk="+y.Config.notification.vapidKey+"\n\t\t\t   ").replace(/^\s+|\s+$/gm,"").split("\n").join("")):1==y.Config.notification.subscriptionType?"&bKey="+l.Helper.getCurrentUUID()+"&fe=1&ft="+t:""}catch(t){return l.Helper.displayLog("Error in getSubscriptionParameters",t),""}},z.getExtraParameterToSync=function(i){var t=(new Date).getTimezoneOffset(),o=("&tz="+(t+=330)+"\n\t\t\t\t\t\t\t&pt="+y.Config.notification.promptType+"\n\t\t\t\t\t\t\t&pte="+y.Config.notification.subscriptionType+" \n\t\t\t\t\t\t\t&ge="+y.Config.notification.gdprPromptStatus+"\n\t\t\t\t\t\t\t&ndc="+p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_PROMPT_COUNT,h.KeyMapper.IZOOTO_STATS)).replace(/^\s+|\s+$/gm,"").split("\n").join(""),t=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_PROMPT_COUNT,h.KeyMapper.IZOOTO_STATS);return t&&(o+="&sdc="+t),""!=y.Config.notification.optInDesignType&&(0==y.Config.notification.promptType?o+="&optin=0":o+="&optin="+y.Config.notification.optInDesignType),new Promise(function(e,t){var n;i==h.KeyMapper.IZOOTO_PROMPT_ALLOWED||i==h.KeyMapper.IZOOTO_ALREADY_GRANTED?((n=y.Config.notification.serviceWorkerVersion)&&"undefined"!=n&&e(o+"&sw="+y.Config.notification.serviceWorkerVersion),z.getswVersion().then(function(t){t&&"undefined"!=t?(y.Config.notification.serviceWorkerVersion=t,e((o+"&sw="+t).replace(/^\s+|\s+$/gm,"").split("\n").join(""))):e(o)}).catch(function(t){e(o),l.Helper.displayLog("Error while getting sw version")})):e(o)}).catch(function(t){l.Helper.displayLog(t)})},z.getswVersion=function(){return new Promise(function(n,i){s.IndexedDB.init().then(function(t){s.IndexedDB.getIndexDBData(t,"options","swVer").then(function(t){var e=t.val;t.hasOwnProperty("key")?n(e):i(!1)}).catch(function(t){l.Helper.displayLog(t),i(!1)})}).catch(function(t){l.Helper.displayLog(t),i(!1)})}).catch(function(t){l.Helper.displayLog(t)})},z.getDeviceParameters=function(){return("pid="+y.Config.client+"\n\t\t&izcid="+p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_IZCID)+"\n\t\t&ht="+("https:"==y.Config.global.locationProtocol?1:0)+"\n\t\t&btype="+y.Config.global.browserType+"\n\t\t&dtype="+y.Config.global.deviceType+"\n\t\t&bver="+y.Config.global.browserVer+"\n\t\t&os="+y.Config.global.os).replace(/^\s+|\s+$/gm,"").split("\n").join("")},z.createWelcomeNotification=function(){var t;1===y.Config.notification.welcomeNotification.status&&""!=y.Config.notification.welcomeNotification.icon&&""!=y.Config.notification.welcomeNotification.title&&""!=y.Config.notification.welcomeNotification.body&&((t=new window.Notification(y.Config.notification.welcomeNotification.title,{icon:y.Config.notification.welcomeNotification.icon,body:y.Config.notification.welcomeNotification.body,tag:"welcome"})).addEventListener("click",function(){""!=y.Config.notification.welcomeNotification.url?(t.close(),window.open(y.Config.notification.welcomeNotification.url,"_blank")):t.close()}),0<y.Config.notification.welcomeNotification.timeout&&setTimeout(function(){t.close()},y.Config.notification.welcomeNotification.timeout))},z.showWelcomeNotificationOld=function(t){l.Helper.displayLog("Welcome notification initiated..."),1===y.Config.notification.welcomeNotification.status&&""!=y.Config.notification.welcomeNotification.icon&&""!=y.Config.notification.welcomeNotification.title&&""!=y.Config.notification.welcomeNotification.body&&1==y.Config.notification.isSdkHttps&&z.createWelcomeNotification()},z.sendLocalNotification=function(a){return navigator.serviceWorker.ready.then(function(t){var e={},n={};n.pid=a.key,n.link=a.link,n.cid=a.id,n.rid=a.rid,n.viewFlag=a.viewFlag,n.clickFlag=a.clickFlag,n.sysEvents=a.sysEvents,n.domainNum=a.domainNum;var i={body:a.message,icon:a.icon,requireInteraction:a.reqInt,tag:a.tag,image:a.banner,data:n};if(0<a.act_num&&a.act1name&&a.act1link){var o,r={action:"action1",title:a.act1name};return a.hasOwnProperty("act1icon")&&""!=a.act1icon&&(r.icon=a.act1icon),n.act1link=a.act1link,e=[r],2==a.act_num&&a.act2name&&a.act2link&&(o={action:"action2",title:a.act2name},a.hasOwnProperty("act2icon")&&""!=a.act2icon&&(o.icon=a.act2icon),n.act2link=a.act2link,e=[r,o]),i.actions=e,t.showNotification(a.title,i)}return t.showNotification(a.title,i)})},z.customizeOptInPrompt=function(t){var e={title:50,message:100,allowButton:10,laterButton:10};try{for(var n in t)""!=t[n]&&(t[n]=t[n].trim(),"title"==n?y.Config.notification.promptDesign.message=t[n].substring(0,e[n]):"message"==n?y.Config.notification.promptDesign.subMessage=t[n].substring(0,e[n]):"icon"!=n||!t[n].startsWith("http://")&&!t[n].startsWith("https://")||t[n].includes("panel.izooto")?"allowButton"==n?y.Config.notification.promptDesign.btn2Txt=t[n].substring(0,e[n]):"laterButton"==n&&(y.Config.notification.promptDesign.btn1Txt=t[n].substring(0,e[n])):y.Config.notification.promptDesign.icon=t[n])}catch(t){l.Helper.displayLog(t)}},z.registerServiceWorker=function(i){return new Promise(function(t,e){var n;"serviceWorker"in navigator?(n=(n=y.Config.notification.serviceWorkerScope)?{scope:n}:void 0,navigator.serviceWorker.register(i,n).then(function(){z.getswVersion().then(function(t){t&&"undefined"!=t&&(y.Config.notification.serviceWorkerVersion=t)}),y.Config.notification.windowType||(s.IndexedDB.setIndexedDb("gaId"),s.IndexedDB.setIndexedDb("sysEvents")),t(!0)}).catch(function(t){e(t),l.Helper.displayLog(t)})):(l.Helper.displayLog("Service workers are not supported in this browser."),e("Service workers are not supported in this browser."))}).catch(function(t){l.Helper.displayLog(t)})},z.getSubscription=function(){var i=this;return new Promise(function(e,n){z.registerServiceWorker(y.Config.notification.serviceWorkerPath).then(function(t){navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){l.Helper.displayLog("Get Subscription found : ",JSON.stringify(t)),t||(l.Helper.displayLog("Re-subscribing"),y.Config.store.isSubscriptionLost=!0),i.subscribe(h.KeyMapper.IZOOTO_ALREADY_GRANTED).then(function(){e(!0)})}).catch(function(t){l.Helper.displayLog("Error during getSubscription()",t),n("Error during getSubscription()")})})})}).catch(function(t){l.Helper.displayLog(t)})},z.subscribe=function(i){return o(this,void 0,void 0,function(){return r(this,function(t){y.Config.notification.subscriptionObj={userVisibleOnly:!0,applicationServerKey:l.Helper.urlB64ToUint8Array(y.Config.notification.vapidKey)};try{return[2,new Promise(function(n,t){l.Helper.displayLog("Subscription initiated..."),navigator.serviceWorker.ready.then(function(e){e.pushManager.subscribe(y.Config.notification.subscriptionObj).then(function(t){l.Helper.displayLog("Subscrption : ",JSON.stringify(t)),z.sendEvent(i,JSON.stringify(t)),n(!0)}).catch(function(t){l.Helper.displayLog("Unable to subscribe due to error : ",t),e.unregister().then(function(){z.registerServiceWorker(y.Config.notification.serviceWorkerPath).then(function(){l.Helper.displayLog("Re-subscribing..."),y.Config.store.isSubscriptionLost=!0,z.subscribe(i).then(function(){n(!0)})})})})})})]}catch(t){l.Helper.displayLog(t)}return[2]})})},z.unsubscribeNotification=function(){l.Helper.displayLog("Notification unsubscribe is initiated..."),navigator.serviceWorker.ready.then(function(t){t.pushManager.getSubscription().then(function(t){t&&t.unsubscribe().then(function(t){l.Helper.displayLog("Unsubscribed : ",t)}).catch(function(t){l.Helper.displayLog("Unsubscription failed : ",t)})}).catch(function(t){l.Helper.displayLog("Get subscription failed : ",t)})}).catch(function(t){})},z.closePopupWindow=function(){if(self==top&&y.Config.notification.windowType)try{setTimeout(function(){var t={};t[h.KeyMapper.IZOOTO_POPUP_CLOSED]=1;var e={};e[h.KeyMapper.IZOOTO_MESSAGE]=t,null!==(t=window.opener)&&void 0!==t&&t.postMessage(JSON.stringify(e),"*"),window.close()},1e3)}catch(t){l.Helper.displayLog("Unable to close popup",t)}},z.removeSubsriptionFromAlternateDomain=function(){var e=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_ALT_DOMAIN_STATUS);if(""!=e)try{e=JSON.parse(e),z.alternateDomainJson=e}catch(t){e=""}if("object"==typeof y.Config.notification.sourceOriginAlt&&1<y.Config.notification.sourceOriginAlt.length){var t=y.Config.notification.sourceOriginAlt.length;z.alternateDomainPermissionHandler(0,t-1,z.alternateDomainJson)}else{t="object"==typeof y.Config.notification.sourceOriginAlt?y.Config.notification.sourceOriginAlt[0]:y.Config.notification.sourceOriginAlt,t=z.getAlternateDomainConfig(z.alternateDomainJson,z.permissionDomain=t);if(3==t||2==t)return;l.Helper.addMsgReciever(z.msgReciever),"https:"==y.Config.global.locationProtocol?z.addIFrame(z.permissionDomain+"?action=izrmsubs&izHardUnsub=1","izAltSubFrame"):z.addIFrame(z.permissionDomain+"?action=izrmsubs","izAltSubFrame")}},z.removeSubscriptionReceiver=function(t){3==t&&(z.setAlternateDomainConfig(z.alternateDomainJson,z.permissionDomain,t),"object"==typeof y.Config.notification.sourceOriginAlt&&z.alternateDomainIndex<y.Config.notification.sourceOriginAlt.length&&z.alternateDomainPermissionHandler(z.sourceOriginIndex,y.Config.notification.sourceOriginAlt.length-1,z.alternateDomainJson))},z.alternateDomainPermissionHandler=function(t,e,n){for(var i=t;i<=e;i++){z.permissionDomain=y.Config.notification.sourceOriginAlt[i];var o=z.getAlternateDomainConfig(n,z.permissionDomain);if(z.sourceOriginIndex=i+1,3!=o&&2!=o){l.Helper.addMsgReciever(z.msgReciever),"https:"==y.Config.global.locationProtocol?z.addIFrame(z.permissionDomain+"?action=izrmsubs&izHardUnsub=1","izAltSubFrame"+i):z.addIFrame(z.permissionDomain+"?action=izrmsubs","izAltSubFrame"+i);break}if(i==e)return}},z.getAlternateDomainConfig=function(t,e){return null!=t[e]?t[e]:""},z.setAlternateDomainConfig=function(t,e,n){t=""!=t?t:{};t[e]=n,z.alternateDomainJson=t,t=JSON.stringify(t),p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_ALT_DOMAIN_STATUS,t)},z.removeSubscriptionInFrame=function(){var t="rmSubToParent",e={izrmstatus:3},n=document.location.href,i=l.Helper.getParamFromUrl(n,"izHardUnsub");try{var o=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN);1==i?(z.unsubscribeNotification(),l.Helper.postMessage("parent",t,e)):""!=o?(o=l.Helper.getCurrentUUID(),z.sendSubscriptionUpdate(o,2,function(){l.Helper.postMessage("parent",t,e)})):l.Helper.postMessage("parent",t,e)}catch(t){}},z.syncLastVisit=function(){var t=l.Helper.getLanguage(),e=l.Helper.getMetaValue("keywords"),n={last_website_visit:!0};""!=t&&(n.lang=t),""!=e&&(n.keywords=e);var i=new Date,t=p.Storage.getConfigLocal("lastVisit",h.KeyMapper.IZOOTO_SYNC),e=!1;t&&(e=new Date(t).getDate()),z.syncAllSubscribersVisit(),""!=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN)&&i.getDate()!==e?(i=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN),i=l.Helper.isJSONString(i)?l.Helper.parseToJSON(i):i,e="pid="+y.Config.client,e+=z.getSubscriptionParameters(i),e+="&et=userp&act=add",e+="&val="+JSON.stringify(n),d.HttpRequest.post(l.Helper.getEndpoint("last_visit"),{data:e},function(){p.Storage.updateLastSync("lastVisit"),l.Helper.displayLog("Last visit sync successfully")})):l.Helper.displayLog("Sync last Visit Blocked")},z.syncAllSubscribersVisit=function(){var t,e,n,i,o;1==y.Config.notification.syncVisitType&&(t=l.Helper.getEndpoint("syncAllSubscribersVisit"),e=l.Helper.getLanguage(),n=l.Helper.getMetaValue("keywords"),i=encodeURIComponent([window.location.protocol,"//",window.location.host,window.location.pathname].join("")),o="pid="+y.Config.client,o+="&bkey="+l.Helper.getCurrentUUID(),o+="&url="+i,""!=n&&(o+="&keywords="+n),""!=e&&(o+="&lang="+e),d.HttpRequest.post(t,{data:o},function(){}))},z.applyBrowserPatch=function(){1==y.Config.global.browserType&&0==y.Config.notification.promptType&&(61<parseInt(y.Config.global.browserVer)||60<parseInt(y.Config.global.browserVer)&&1!=y.Config.global.deviceType)&&(!y.Config.notification.isSdkHttps||y.Config.notification.isSdkHttps&&"http:"==y.Config.global.locationProtocol)&&(y.Config.notification.promptType=1,y.Config.notification.optInDesignType||(y.Config.notification.optInDesignType=1)),2==y.Config.global.browserType&&0==y.Config.notification.promptType&&12.1<=parseFloat(y.Config.global.browserVer)&&(y.Config.notification.promptType=1,y.Config.notification.optInDesignType||(y.Config.notification.optInDesignType=1)),3==y.Config.global.browserType&&0==y.Config.notification.promptType&&72<=y.Config.global.browserMajorVersion&&(y.Config.notification.promptType=1,y.Config.notification.optInDesignType||(y.Config.notification.optInDesignType=1))},z.isSupported=function(){return o(this,void 0,void 0,function(){var e,n,i,o;return r(this,function(t){switch(t.label){case 0:return(e=y.Config.global.browserName)==h.KeyMapper.BROWSER_FIREFOX&&"http:"==y.Config.global.locationProtocol?(l.Helper.displayLog("Firefox http detected!"),z.sendEvent(h.KeyMapper.IZOOTO_BROWSER_UNSUPPORTED),[2,!1]):(i=(n=l.Helper).displayLog,o=["Checking incognito : "],[4,z.isIncognitoMode()]);case 1:return i.apply(n,o.concat([t.sent()])),[4,z.isIncognitoMode()];case 2:if(t.sent())return l.Helper.displayLog("Incognito mode detected!"),z.sendEvent(h.KeyMapper.IZOOTO_BROWSER_UNSUPPORTED),[2,!1];if(z.checkVersionSuppport())if(e==h.KeyMapper.BROWSER_CHROME||e==h.KeyMapper.BROWSER_OPERA||e==h.KeyMapper.BROWSER_UCB||e==h.KeyMapper.BROWSER_FIREFOX||e==h.KeyMapper.BROWSER_EDGE){if("https:"!=y.Config.global.locationProtocol||!(y.Config.notification.isSdkHttps||1==y.Config.notification.windowType&&0==y.Config.notification.isSdkHttps))return[2,!0];if("Notification"in window&&"serviceWorker"in navigator)return[2,!0]}else if(e==h.KeyMapper.BROWSER_SAFARI&&"safari"in window&&"pushNotification"in window.safari)return[2,!0];return z.sendEvent(h.KeyMapper.IZOOTO_BROWSER_UNSUPPORTED),[2,!1]}})})},z.checkVersionSuppport=function(){var t=y.Config.global.browserName,e=y.Config.global.browserMajorVersion,n=y.Config.global.deviceType;switch(t){case h.KeyMapper.BROWSER_CHROME:if(42<=e)return!0;break;case h.KeyMapper.BROWSER_SAFARI:if(7<=e&&1==n)return!0;break;case h.KeyMapper.BROWSER_FIREFOX:if(48<=e&&1!=n)return!0;if(44<=e)return!0;break;case h.KeyMapper.BROWSER_UCB:case h.KeyMapper.BROWSER_OPERA:case h.KeyMapper.BROWSER_EDGE:return!0;default:l.Helper.displayLog("Browser not supported for Notification!")}return!1},z.loadOptin=function(){var t=y.Config.notification.optInSrc+""+y.Config.notification.optInDesignType+".js?v=3";""!=y.Config.notification.optInDesign?(y.Config.notification.dialogDesign=y.Config.notification.optInDesign,z.showOptin()):null!=window.izOptinDesign&&""!=window.izOptinDesign?(y.Config.notification.dialogDesign=window.izOptinDesign,z.showOptin()):l.Helper.addExternalJS(t,"izOptin",!0)},z.showOptin=function(){var t;if(null!=window.izOptinDesign&&(y.Config.notification.dialogDesign=window.izOptinDesign),y.Config.notification.dialogDesign=z.loadDesign(y.Config.notification.promptDesign,y.Config.notification.dialogDesign),y.Config.notification.dialogDesign=z.dynamicBrandingPartnerHandler(y.Config.notification.dialogDesign),l.Helper.addHTML("div",y.Config.notification.dialogDesign,"izmiddle-box"))try{y.Config.brandingPartner!=y.Config.defaultBrandingPartner&&null!==(t=window.document.querySelector("#izmiddle-box a"))&&void 0!==t&&t.setAttribute("onclick","return false;")}catch(t){}l.Helper.izootoBrandingHandler(),z.sendEvent(h.KeyMapper.IZOOTO_OPTIN_SHOWN)},z.dynamicBrandingPartnerHandler=function(t){return y.Config.brandingPartner!=y.Config.defaultBrandingPartner&&(t=y.Config.notification.dialogDesign.replace("iZooto",y.Config.brandingPartner)),t},z.loadDesign=function(t,e){try{if("object"!=typeof t)return"";for(var n in t){var i;t.hasOwnProperty(n)&&(i=new RegExp("{{--"+n+"--}}","g"),e=e.replace(i,t[n]))}}catch(t){}return e},z.addIFrame=function(t,e,n){try{var i=document.createElement("IFRAME");return i.setAttribute("src",t),i.setAttribute("id",e),i.style.width="0px",i.style.height="0px",i.style.border="0px",i.setAttribute("visibility","hidden"),i.style.display="none",(null!=document.body?document.body:document.head).appendChild(i),l.Helper.displayLog("Set : ",e),i}catch(t){l.Helper.displayLog("Unable to subFrame : ",t)}},z.getPermissionStatusFromFrame=function(){return new Promise(function(e,t){l.Helper.addMsgReciever(function(t){t=l.Helper.parseToJSON(t.data);!t.hasOwnProperty(h.KeyMapper.IZOOTO_MESSAGE)||(t=t[h.KeyMapper.IZOOTO_MESSAGE]).hasOwnProperty("izPermsStatus")&&null!=t.izPermsStatus&&e(t.izPermsStatus)},!0);var n=y.Config.notification.sourceOrigin+"?action=izcheckperms";z.addIFrame(n,"izPermsFrame")})},z.getSubDomainPermissionStatus=function(){return new Promise(function(e,t){var n=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN),i=p.Storage.getStorage(h.KeyMapper.IZOOTO_PERMISSION_STATUS),o=z.getPermissionStatusFromStorage();0!=o||2==i?e(o):"https:"==y.Config.global.locationProtocol?z.getPermissionStatusFromFrame().then(function(t){1==t&&""!=n&&(t=0),z.updatePermissionStatus(t),e(t)}):""!=n?z.tokenValidator(function(t){z.updatePermissionStatus(t),e(t)}):e(o)}).catch(function(t){l.Helper.displayLog(t)})},z.setRepeatPromptDelay=function(t){var e;0!==t&&(e=(e=new Date).setTime(e.getTime()+60*t*1e3),l.Helper.displayLog("Setting repeat prompt delay for "+t+" minutes"),p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_REPEAT_PROMPT_DELAY,e))},z.setActivePrompt=function(t){var e;("https:"===y.Config.global.locationProtocol&&0==y.Config.notification.windowType||"http:"===y.Config.global.locationProtocol)&&(window.addEventListener("beforeunload",function(){p.Storage.removeStorage("izootoActivePrompt")}),e=(e=new Date).setTime(e.getTime()+60*t*1e3),p.Storage.setStorage("izootoActivePrompt",e))},z.isActivePrompt=function(){var t=new Date;return p.Storage.getStorage("izootoActivePrompt")>t.getTime()&&(l.Helper.displayLog("Notification prompt is already opened in another tab!"),!0)},z.updatePermissionStatus=function(t){t===h.KeyMapper.IZOOTO_PROMPT_ALLOWED||t===h.KeyMapper.IZOOTO_ALREADY_GRANTED||1===t?p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS,1):t===h.KeyMapper.IZOOTO_PROMPT_DENIED||t===h.KeyMapper.IZOOTO_ALREADY_DENIED||2==t?p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS,2):p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS,0),p.Storage.updateLastSync(h.KeyMapper.IZOOTO_PERMISSION_STATUS)},z.sendPermissionStatusFromFrame=function(){var t=0;"Notification"in window&&"granted"==window.Notification.permission&&(t=1),l.Helper.postMessage("parent","izPermsStatus",t)},z.updateSubscriptionProcessor=function(t,e){var n=l.Helper.getCurrentUUID(),i=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS);e=p.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN);e=z.getSubscriptionKey(e);"subscribe"==t?y.Config.store.isSoftSubscribeTriggered||(""!=e&&""!=n&&z.sendSubscriptionUpdate(n,0,function(){l.Helper.displayLog("Re-Subscribing")}),y.Config.store.isSoftSubscribeTriggered=!0,3==i&&p.Storage.removeConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS),z.triggerPromptHandler()):"unsubscribe"==t&&""!=e&&""!=n&&z.sendSubscriptionUpdate(n,2,function(){p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS,3),z.sendEvent(h.KeyMapper.IZOOTO_UNSUBSCRIBED)})},z.sendSubscriptionUpdate=function(t,e,n){var i=0==e?l.Helper.getEndpoint("SoftSubscribe"):2==e?l.Helper.getEndpoint("SoftUnsubscribe"):l.Helper.getEndpoint("supUrl"),e={data:z.getDeviceParameters()+"&bKey="+t+"&action="+e};d.HttpRequest.post(i,e,n)},z.isScreenScrollable=function(){try{var t=document.body,e=t.parentNode,t=t.scrollHeight-t.clientHeight;if("CSS1Compat"==document.compatMode&&(t=e.scrollHeight-e.clientHeight),2<=t/window.screen.availHeight)return!0}catch(t){}return l.Helper.displayLog("This page is not scrollable!"),!1},z.scrollHandler=function(t){var e=window.screen.availHeight,n=window.scrollY;1!=y.Config.notification.isTriggeredOnScoll&&(e<=n||document.documentElement.scrollTop>=e)&&(l.Helper.displayLog("Trigger on scroll called"),y.Config.notification.isTriggeredOnScoll=1,t())},z.brandingOverlayHandler=function(){1==y.Config.notification.overlay?z.openHttpsOverlay():1==y.Config.branding&&(l.Helper.displayLog("Enabling branding"),z.openHttpsBranding())},z.openHttpsBranding=function(){var t;if(!(0<y.Config.notification.windowType)&&0!=y.Config.branding){if(1!=l.Helper.getDeviceType())try{window.addEventListener("scroll",z.brandingScroll)}catch(t){}if(l.Helper.addHTML("div",y.Config.notification.httpsBranding,"izooto-branding"))try{y.Config.brandingPartner!=y.Config.defaultBrandingPartner&&null!==(t=window.document.querySelector("#izooto-branding a"))&&void 0!==t&&t.setAttribute("onclick","return false;")}catch(t){}l.Helper.izootoBrandingHandler()}},z.openHttpsOverlay=function(){var t;if(!(0<y.Config.notification.windowType)&&0!=y.Config.notification.overlay){if(1!=l.Helper.getDeviceType())try{window.addEventListener("scroll",z.brandingScroll)}catch(t){}if((y.Config.global.browserName=h.KeyMapper.BROWSER_CHROME)&&62<parseInt(l.Helper.getBrowserVersion())&&3==l.Helper.getDeviceType()&&(y.Config.notification.httpsOverlay=""),l.Helper.addHTML("div",y.Config.notification.httpsOverlay,"izooto-branding"))try{y.Config.brandingPartner!=y.Config.defaultBrandingPartner&&null!==(t=window.document.querySelector("#izooto-branding a"))&&void 0!==t&&t.setAttribute("onclick","return false;")}catch(t){}l.Helper.izootoBrandingHandler()}},z.brandingScroll=function(){null!=document.getElementById("izooto-branding")&&(30<window.pageYOffset||30<document.body.scrollTop)&&z.closeHttpsOverlay()},z.closeHttpsOverlay=function(){var t;if(!(0<y.Config.notification.windowType)){try{null!==(t=document.getElementById("izooto-branding"))&&void 0!==t&&t.remove()}catch(t){l.Helper.displayLog("Error-Removing-Div"+t)}if(1!=l.Helper.getDeviceType())try{window.removeEventListener("scroll",z.brandingScroll)}catch(t){}}},z.popupNotice=function(t){try{document.getElementById("dynamic_iz").innerHTML="<center>"+t+"</center>"}catch(t){}},z.setManifest=function(){try{if(1!=y.Config.global.browserType||0!=y.Config.notification.subscriptionType)return;var t=document.getElementsByTagName("head")[0],e=document.createElement("link");e.rel="manifest",e.href=y.Config.notification.manifest,t.appendChild(e),l.Helper.displayLog("Manifest setup done!")}catch(t){}},z.tokenValidator=function(i,t){l.Helper.displayLog("Validating token..."),null==t&&(t=l.Helper.getCurrentUUID());t=l.Helper.getEndpoint("subscriptionValidator")+"?s=1&bkey="+t+"&pid="+y.Config.client;d.HttpRequest.get(t,function(t,e){var n=1;if(200==e&&(l.Helper.displayLog("Response : ",t),t=l.Helper.parseToJSON(t),null!=i))return t.hasOwnProperty("status")&&0==t.status&&(n=0),void i(n)})},z.checkAlternates=function(){"object"==typeof window._izAlternate?(null!=window._izAlternate.initAlt&&"function"==typeof window._izAlternate.initAlt&&window._izAlternate.initAlt(),Object.keys(window._izAlternate).map(function(n,t){Object.keys(window._izooto).map(function(t,e){t===n&&(window._izooto[t]=window._izAlternate[n])})})):l.Helper.displayLog("No alternate implementations found")},z.subcriptionToObject=function(t){return"string"==typeof t&&l.Helper.isJSONString(t)&&(t=l.Helper.parseToJSON(t)),t},z.isCurrentTokenExpired=function(t,e){var n=p.Storage.getConfigLocal(e,h.KeyMapper.IZOOTO_SYNC),e=new Date;return!(e.getTime()<e.setTime(n+1e3*t))},z.isPermissionStatusExpired=function(t){return 1==t&&z.isCurrentTokenExpired(y.Config.notification.tokenExpire,h.KeyMapper.IZOOTO_PERMISSION_STATUS)},z.getPermissionStatusFromStorage=function(){var t=0,e=p.Storage.getConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS);return""==e||this.isPermissionStatusExpired(e)||(t=e),t},z.isHttpsSitePermissionAlreadyGranted=function(){var e=this;return new Promise(function(n,t){return o(e,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return(e=y.Config.notification.isSdkHttps)?[4,z.isSupported()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return e&&"granted"==window.Notification.permission&&2!=y.Config.global.browserType?n(!0):n(!1),[2]}})})})},z.getWindowType=function(){var t=window.location.href,e="";return-1!==(e=t.substr(t.lastIndexOf("?")+1)).indexOf("action=prompt")?1:-1!==e.indexOf("action=izrmsubs")?2:-1!==e.indexOf("action=izcheckmaster")?3:"action=izcheckperms"==e?4:-1!==e.indexOf("action=izvalidator&izObj=")?5:-1!==e.indexOf("action=noroot")?6:0},z.msgReciever=function(t){var e=l.Helper.parseToJSON(t.data);e.hasOwnProperty(h.KeyMapper.IZOOTO_MESSAGE)&&(t=e[h.KeyMapper.IZOOTO_MESSAGE],l.Helper.displayLog("Received event : ",t),"izCidToParent"==(null==t?void 0:t.k)?(z.setIzcidDb(t.v),p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_IZCID,t.v),p.Storage.updateLastSync("IZCID")):t.hasOwnProperty("rmSubToParent")&&void 0!==t.rmSubToParent?z.removeSubscriptionReceiver(t.rmSubToParent.izrmstatus):t.hasOwnProperty(h.KeyMapper.IZOOTO_MASTER_TO_CHILD)&&void 0!==t[h.KeyMapper.IZOOTO_MASTER_TO_CHILD]?v.MasterDomain.masterConfigReciver(t[h.KeyMapper.IZOOTO_MASTER_TO_CHILD]):t.hasOwnProperty(h.KeyMapper.IZOOTO_CHILD_TO_MASTER)&&void 0!==t[h.KeyMapper.IZOOTO_CHILD_TO_MASTER]?v.MasterDomain.setMasterStorage(t[h.KeyMapper.IZOOTO_CHILD_TO_MASTER]):t.hasOwnProperty("izPermsStatus")?(p.Storage.setConfigLocal(h.KeyMapper.IZOOTO_PERMISSION_STATUS,t.izPermsStatus),p.Storage.updateLastSync(h.KeyMapper.IZOOTO_PERMISSION_STATUS)):t.hasOwnProperty("syncWelcomeSent")?z.showWelcomeNotification(!0):t.hasOwnProperty("sendLocalNotification")?z.sendLocalNotification(t.sendLocalNotification):0<(e=Object.keys(t)).length&&(t.hasOwnProperty("serviceWorkerVersion")&&null!=t.serviceWorkerVersion&&(y.Config.notification.serviceWorkerVersion=t.serviceWorkerVersion),z.sendEvent(e[0],t[e[0]])))},z.syncHookInDb=function(n){var i;"syncNotificationClick"!=n&&"syncNotificationView"!=n||(null!=y.Config.notification.syncNotificationClick||null!=y.Config.notification.syncNotificationView?(i=y.Config.notification[n],s.IndexedDB.init().then(function(e){s.IndexedDB.getData(e,"options",n).then(function(t){(t&&t.hasOwnProperty("val")?t.val:"")!=i&&s.IndexedDB.addUpdate(e,n,i).then(function(t){l.Helper.displayLog(t)}).catch(function(t){l.Helper.displayLog(t)})}).catch(function(t){l.Helper.displayLog(t)})}).catch(function(t){l.Helper.displayLog(t)})):l.Helper.displayLog("Invalid Hook Request"))},z.syncNotificationSent=function(t){var e="pid="+y.Config.client+"&bkey="+l.Helper.getCurrentUUID()+"&btype="+y.Config.global.browserType+"&dtype="+y.Config.global.deviceType+"&rid="+t.rid,t=l.Helper.getEndpoint("notificationSent");d.HttpRequest.post(t,{data:e},function(){l.Helper.displayLog("sent Api synced successfully with "+y.Config.brandingPartner)})},z.syncNotificationView=function(t){var e={pid:y.Config.client,bkey:l.Helper.getCurrentUUID(),cid:t.id,rid:t.rid,op:"view",pl:1};1==t.viewFlag&&(t=l.Helper.getEndpoint("syncNotificationView"),d.HttpRequest.post(t,{data:Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")},function(){}))},z.showWelcomeNotification=function(t){try{var e=y.Config.welcomePlaybook,n=e.data;if(0==e.status)return;return(n.viewFlag=1,n.clickFlag=1,n.sysEvents=0,n.domainNum=0,z.getPayloadVerification(n))?t?(z.syncNotificationSent(n),void z.syncNotificationView(n)):z.sendLocalNotification(n).then(function(){return console.log("welocome payload",n),y.Config.notification.isSdkHttps&&!y.Config.notification.httpsNoRoot&&(z.syncNotificationSent(n),z.syncNotificationView(n)),!0}):void l.Helper.displayLog("Welcome playbook payload verification failed")}catch(t){}},z.getPayloadVerification=function(t){return!!(t.title&&t.message&&t.icon&&t.rid&&t.key&&t.id)},z.alternateDomainJson="",z.alternateDomainIndex=0,z.permissionDomain="",z.syncableEvents=[,h.KeyMapper.IZOOTO_PROMPTED,h.KeyMapper.IZOOTO_OPTIN_SHOWN,h.KeyMapper.IZOOTO_OPTIN_ALLOWED,h.KeyMapper.IZOOTO_OPTIN_CLOSED,h.KeyMapper.IZOOTO_ALREADY_DENIED],z);function z(){}e.NotificationHelper=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),p=n(1),n=(d.create=function(t,e,n,i,o,r,a){var s="",c=new XMLHttpRequest;if(c.onreadystatechange=function(){4==this.readyState&&200==this.status?"function"==typeof n&&n(this.responseText,this.status,a):4==this.readyState&&200!=this.status&&n(this.responseText,this.status,a)},c.open(e,t,!0),"POST"==e&&(c.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),"object"==typeof i&&0<Object.keys(i).length&&null!=i.data&&""!=i.data&&(s=i.data)),"object"==typeof o&&0<Object.keys(o).length)for(var l in o)p.Helper.displayLog("Header name"+l),c.setRequestHeader(l,o[l]);p.Helper.displayLog(t),""!=s?c.send(s):c.send()},d.get=function(t,e,n,i){""!=n&&null!=n&&null!=n.data&&""!=n.data&&0!=l.Config.notification.processPriority&&(n.data=n.data+"&pp="+l.Config.notification.processPriority),d.create(t,"GET",e,n,i)},d.post=function(i,o,r,a,t,e){var s=t||10;""!=o&&null!=o&&null!=o.data&&""!=o.data&&0!=l.Config.notification.processPriority&&(o.data=o.data+"&pp="+l.Config.notification.processPriority);var c=function(t,e,n){r(t,e,n),200!=e&&0<s&&setTimeout(function(){p.Helper.displayLog("Retrying to post request again..."),d.create(i,"POST",c,o,a,s,n),s--},2500)};d.create(i,"POST",c,o,a,void 0,e)},d);function d(){}e.HttpRequest=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(0),r=n(1),a=n(7),s=n(9),c=n(2),l=n(3),p=n(13),n=(d.init=function(){"[object Array]"==Object.prototype.toString.call(window._izq)?d.readSavedPreferences():window._izq=[],window._izq.push=function(t){if(null!=t[0])return d.process(t)},this.sync(!1)},d.sync=function(t){if(void 0===t&&(t=!0),r.Helper.displayLog("Syncing queue.."),!(window._izq.length<1)){for(var e=[],n=0;n<window._izq.length;n++)e.push(window._izq[n]);if(0<e.length)if(t)for(n=e.length-1;0<=n;n--)null!=e[n]&&(r.Helper.displayLog("Processing from queue",e[n][0]),this.process(e[n]),window._izq.splice(n,1));else for(n=e.length-1;0<=n;n--)null!=e[n]&&-1==o.Config.store.subscriptionBasedEventNameList.indexOf(e[n][0])?(r.Helper.displayLog("Processing from queue",e[n][0]),this.process(e[n]),window._izq.splice(n,1)):r.Helper.displayLog("Sync later queue item",e[n][0])}},d.process=function(t){try{if("debug"===t[0]&&1==t[1])return void a.Debugger.init();if(1==o.Config.izootoStatus){if(1==o.Config.notification.gdprPromptStatus&&0==o.Config.notification.isGdprAllowed&&this.isValidQueueForGdpr(t[0]))return void r.Helper.displayLog("Blocked due to GDPR is disallowed : ",t[0]);if(3==i.NotificationHelper.getPermissionStatusFromStorage()&&-1<o.Config.store.subscriptionBasedEventNameList.indexOf(t[0]))return void r.Helper.displayLog("Blocked due to soft unsubscribe : ",t[0]);if("event"===t[0]&&void 0!==t[1]&&"string"==typeof t[1]&&""!==t[1])i.NotificationHelper.userEventProcessor(t[1],t[2]),i.NotificationHelper.syncAsTrigger(t[1],t[2]);else if("triggerPromptWithDelay"==t[0])i.NotificationHelper.triggerPromptHandler(!0);else if("triggerPrompt"==t[0])i.NotificationHelper.triggerPromptHandler();else{if("customizeOptInPrompt"===t[0]&&"object"==typeof t[1])return void i.NotificationHelper.customizeOptInPrompt(t[1]);if("syncFCMToken"===t[0])"string"==typeof t[1]&&""!=t[1]&&(o.Config.notification.subscriptionType=1,o.Config.notification.fcmToken=t[1],i.NotificationHelper.sendEvent(l.KeyMapper.IZOOTO_PROMPT_ALLOWED,t[1]));else if("updateSubscription"===t[0])"subscribe"!=t[1]&&"unsubscribe"!=t[1]||i.NotificationHelper.updateSubscriptionProcessor(t[1]);else{if("getSubscriberId"===t[0])return o.Config.store.subscriberId||c.Storage.getStorage(l.KeyMapper.IZOOTO_UUID);if("getSubscriptionObject"===t[0])return c.Storage.getStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN);"userProfile"===t[0]&&(void 0!==t[1]||""!==t[1])||"personalizationProperty"===t[0]?i.NotificationHelper.userProfileProcessor(t[1]):"trigger"!==t[0]||void 0===t[1]&&""===t[1]?"gaId"===t[0]&&"string"==typeof t[1]&&"object"==typeof t[2]?s.GoogleAnalytics.init(t):"registerPromptDisplayCallback"===t[0]&&"function"==typeof t[1]?this.promptDisplayCallback=t[1]:"registerSubscriptionCallback"===t[0]&&"function"==typeof t[1]?this.subscriptionCallback=t[1]:"register_callback"===t[0]&&"function"==typeof t[1]&&(this.userCallback=t[1]):i.NotificationHelper.triggerProcessor(t[1],t[2],t[3])}}o.Config.notification.isTagsEnabled&&("add_tag"===t[0]||"remove_tag"===t[0]?console.warn(o.Config.brandingPartner+" :: Tags are no longer supported. See https://help.izooto.com/article/segementation/ "):"add_property"===t[0]&&void 0!==t[1]&&""!==t[1]&&i.NotificationHelper.addPropertyProcessorFallback(t[1]))}else r.Helper.displayLog("Sync action aborted! due to notification module disable");if("triggerMessengerPrompt"===t[0])return o.Config.messenger.autoPrompt=!0,void p.Messenger.init(!0)}catch(t){r.Helper.displayLog("Queue error :",t)}},d.readSavedPreferences=function(){r.Helper.displayLog("Saved Preferences : ",window._izq),window._izq.forEach(function(t){"subscriberProfile"==t[0]&&null!=t[1]&&"object"==typeof t[1]&&t[1].hasOwnProperty("isPaid")&&(o.Config.CRPSPlaybook.isPaidSubscriber=t[1].isPaid,r.Helper.displayLog("Paid subscriber is set to : ",t[1].isPaid)),"init"==t[0]&&null!=t[1]&&"object"==typeof t[1]?((t[1].hasOwnProperty("auto_prompt")||t[1].hasOwnProperty("notificationAutoPrompt")||t[1].hasOwnProperty("autoPrompt"))&&(o.Config.notification.autoPrompt=null!=t[1].auto_prompt?t[1].auto_prompt:null!=t[1].autoPrompt?t[1].autoPrompt:t[1].notificationAutoPrompt,r.Helper.displayLog("Notification auto prompt set to : ",t[1].auto_prompt),0==o.Config.notification.autoPrompt&&(o.Config.notification.promptType=2)),t[1].hasOwnProperty("messengerAutoPrompt")&&(o.Config.messenger.autoPrompt=t[1].messengerAutoPrompt,r.Helper.displayLog("Messenger auto prompt set to : ",t[1].messengerAutoPrompt))):"epSyncState"==t[0]&&1==t[1]&&(r.Helper.displayLog("Custom subscription found! waiting for for FCM Token sync command!"),o.Config.store.isNotificationDisabledManually=!0,d.sync())})},d.isValidQueueForGdpr=function(t){return-1<o.Config.notification.gdprNotAllowed.indexOf(t)},d);function d(){}e.Queue=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(0),c=n(1),o=n(5),n=(l.init=function(t){l.msg=l.getMsgSet(),s.Config.debugger.err=0,console.clear(),l.log(l.dash.repeat(20)+(s.Config.brandingPartner+" Debug Mode")+l.dash.repeat(20)),s.Config.debugger.status=1,l.log("Verifying "+s.Config.brandingPartner+" integration on your website",s.Config.debugger.infoCode);function e(){1==s.Config.debugger.err?l.log(l.msg.integration_f,s.Config.debugger.errCode):l.log(l.msg.integration,s.Config.debugger.successCode),t&&t(l.debuggerObj)}var n=s.Config.global.platform;l.debuggerObj.plugin=n,l.debugger.rcvObj={};var i=document.location.href,i=c.Helper.getParamFromUrl(i,"izObj");(i=c.Helper.parseToJSON(i))&&null!=i.domainRoot&&(s.Config.notification.domainRoot=i.domainRoot,s.Config.notification.httpsNoRoot=""!=s.Config.notification.domainRoot?1:0,s.Config.setupPath()),i&&null!=i.cdnHost&&""!=i.cdnHost&&(s.Config.notification.cdnHost=i.cdnHost),""!=n&&l.log(l.msg.plugin.replace("{plg}",n),s.Config.debugger.successCode);n=l.getScript();null!=n?(l.debuggerObj.scriptSrc=n,l.log(l.msg.code_t+l.msg.code_f+"("+n+")",s.Config.debugger.successCode),1==s.Config.notification.isSdkHttps?l.validateSw(function(){e()}):e()):(s.Config.debugger.err=1,l.log(l.msg.code_t+l.msg.code_nf,s.Config.debugger.errCode),e())},l.log=function(t,e){e=e||"",console.info("%c"+t,e)},l.getMsgSet=function(){var t=s.Config.brandingPartner,e="support@"+t.toLowerCase()+".com";return{code_t:t+" JS code: ",code_f:"found",code_nf:"missing. Learn more here: http://bit.ly/2WHcP4a",sw_t:"Service Worker JS: ",sw_f:"found at {sw}",sw_nf:"missing from {sw} , Learn more here: http://bit.ly/2K0yGSs",sw_ct:"Service Worker JS: Invalid Content-Type found ",html_f:t+" Html: found",html_nf:t+" Html: not found ",html_ct:t+" Html: Invalid Content-Type found ",mfst_t:"Manifest file: ",mfst_f:"found at {m}",mfst_nf:"missing form {m} , Learn more here: http://bit.ly/2K0yGSs",multi_mfst:"multiple manifest files found. Learn more here: http://bit.ly/2WCd2FC",gcm_t:"gcm_sender_id: ",gcm_nf:"missing in the manifest file. Learn more here: http://bit.ly/2WCd2FC",fallback:"FCM project: issue with your FCM project.",integration:t+" integration is working fine on your website.",integration_f:t+" integration is incomplete. Contact "+e+" to get assistance.",plugin:"You have integrated "+t+" using the {plg} plugin.",ev:"sent to "+t}},l.requestFile=function(t,n,i){var o=new XMLHttpRequest,e=Math.random();t+=t.includes("?")?"&":"?",t+=e,o.onreadystatechange=function(){var t,e;4==this.readyState&&(t=o.responseText,e="",o.getResponseHeader("Content-Type")?e=o.getResponseHeader("Content-Type"):o.getResponseHeader("content-type")&&(e=o.getResponseHeader("content-type")),200==this.status?n(this.status,t,e):i(this.status,t))},o.open("GET",t,!0),o.send()},l.getFileInfo=function(t,i){var o={};l.requestFile(t,function(t,e,n){o.status=!0,o.contentType=n,o.body=e,i(o)},function(t,e){o.status=!1,i(o)})},l.contentTypeValidator=function(t,e){var n=!0;return e=e.toLowerCase(),1==t?e.indexOf("application")<0&&e.indexOf("javascript")<0&&(n=!1):2==t&&e.indexOf("html")<0&&(n=!1),n},l.validateIzootoHtml=function(e){l.debuggerObj.plugin&&e();var n=this.getMsgSet();s.Config.debugger.host;l.getFileInfo(s.Config.notification.sourceOrigin,function(t){1==(l.debuggerObj.izootoHtml=t).status?(l.log(n.html_f,s.Config.debugger.successCode),l.contentTypeValidator(2,t.contentType)||(l.log(n.html_ct+t.contentType,s.Config.debugger.errCode),s.Config.debugger.err=1)):(l.log(n.html_nf,s.Config.debugger.errCode),s.Config.debugger.err=1),e()})},l.validateSw=function(e){var n=this.getMsgSet(),i=s.Config.debugger.host;l.getFileInfo(s.Config.notification.serviceWorkerPath,function(t){if(1==(l.debuggerObj.sw=t).status){if(l.log(n.sw_t+n.sw_f.replace("{sw}",i+s.Config.notification.serviceWorkerPath),s.Config.debugger.successCode),!l.contentTypeValidator(1,t.contentType))return l.log(n.sw_ct+t.contentType,s.Config.debugger.errCode),s.Config.debugger.err=1,void e();l.validateIzootoHtml(e)}else l.log(n.sw_t+n.sw_nf.replace("{sw}",i+s.Config.notification.serviceWorkerPath),s.Config.debugger.errCode),s.Config.debugger.err=1,e()})},l.validateGCM=function(t,i){var e="pid="+s.Config.client;e+="&gcm="+t,o.HttpRequest.post(s.Config.debugger.gcmValidator,{data:e},function(t){var e="fail",n=(t=c.Helper.parseToJSON(t)).response?t.response:"Something went wrong";"success"==t.status?(e=t.status,l.log("GCM Sender ID Validation "+e,s.Config.debugger.successCode),i(!0)):(l.log("GCM Sender ID Validation "+e+" , "+n,s.Config.debugger.errCode),i(!1))})},l.validateManifest=function(i){for(var o=l.getMsgSet(),r=s.Config.debugger.host,t=document.getElementsByTagName("link"),e=0;e<t.length;e++){var n=t[e],a=n.getAttribute("href"),n=n.getAttribute("rel");null!=n&&"manifest"==n&&a!=s.Config.notification.manifest&&(l.log(o.mfst_t+o.multi_mfst,s.Config.debugger.errCode),s.Config.debugger.err=1)}l.requestFile(s.Config.notification.manifest,function(t,e){l.log(o.mfst_t+o.mfst_f.replace("{m}",r+s.Config.notification.manifest),s.Config.debugger.successCode);try{var n=c.Helper.parseToJSON(e);if(""==(n=n.gcm_sender_id?n.gcm_sender_id:""))return l.log(o.gcm_t+o.gcm_nf,s.Config.debugger.errCode),void i(!1);l.validateGCM(n,i)}catch(t){l.log(o.gcm_t+o.gcm_nf.replace("{m}",r+s.Config.notification.manifest),s.Config.debugger.errCode)}},function(t,e){l.log(o.mfst_t+o.mfst_nf.replace("{m}",r+s.Config.notification.manifest),s.Config.debugger.errCode),i(!1)})},l.getScript=function(){for(var t=document.getElementsByTagName("script"),e=new RegExp(s.Config.notification.cdnHost+"/scripts/[^/]*.js"),n=0;n<t.length;n++){var i=t[n];if(null!=(i=i.getAttribute("src"))&&e.test(i))return i.startsWith("//")&&(i="https:"+i),i}return null},l.showMsgOverlay=function(){var t='<div class="iz-verification-overlay" style="width: 100%;position: fixed;top: 0;left:0;z-index: 9999999999;text-align: center;background: rgba(0,0,0,0.6);height: 100%;color: #fff;display: flex;justify-content: center;align-items: center;overflow-y: hidden;"><div class="inner-content" style="font-size: 2em;"><span style="line-height: 2;">Please wait while we are verifying '+s.Config.brandingPartner+" integration on your website. <br>This window will close automatically.</span></div></div>";c.Helper.addHTML("div",t,"iz-integration-overlay")},l.verifyIzootoIntegration=function(){l.showMsgOverlay(),l.init(function(t){c.Helper.postMessage("opener","integrationObj",t)})},l.dash="-",l.debuggerObj={sw:{},izootoHtml:{}},l.debugger={rcvObj:{}},l);function l(){}e.Debugger=n},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function i(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,o)}r((c=c.apply(t,a||[])).next())})},s=this&&this.__generator||function(n,i){var o,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch(r=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var c=n(0),l=n(3),p=n(2),d=n(4),u=n(1),f=n(6),g=n(11),n=(y.init=function(){return i(this,void 0,void 0,function(){var e,n,i,o,r,a;return s(this,function(t){switch(t.label){case 0:return(e=c.Config.UUID=u.Helper.getCurrentUUID(),3!=c.Config.notification.windowType||window.self==window.top)?[3,4]:(n={token:"",subscribed_on:"",uuid:e},p.Storage.getStorage(l.KeyMapper.IZOOTO_MASTER_DOMAIN)?(i=y.getMasterStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN),r=y.getMasterStorage(l.KeyMapper.IZOOTO_SUBSCRIBED_ON),""!=e||""==i?[3,2]:[4,u.Helper.getUUIDFromEndpoint(i)]):[3,3]);case 1:""!=(o=t.sent())&&(e=o,p.Storage.setStorage(l.KeyMapper.IZOOTO_UUID,e)),t.label=2;case 2:n={token:i,subscribed_on:r,uuid:e},t.label=3;case 3:return u.Helper.postMessage("parent",l.KeyMapper.IZOOTO_MASTER_TO_CHILD,n),u.Helper.addMsgReciever(d.NotificationHelper.msgReciever),[3,10];case 4:return window.location.origin!=c.Config.notification.masterDomain?[3,9]:""==(i=y.getMasterStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN))?[3,7]:""!=e?[3,6]:[4,u.Helper.getUUIDFromEndpoint(i)];case 5:""!=(o=t.sent())&&(e=o,p.Storage.setStorage(l.KeyMapper.IZOOTO_UUID,e)),t.label=6;case 6:return(r=y.getMasterStorage(l.KeyMapper.IZOOTO_SUBSCRIBED_ON))==c.Config.notification.masterDomain?(g.Main.moduleInitializer(),[2]):(1==d.NotificationHelper.getPermissionStatusFromStorage()?f.Queue.sync():d.NotificationHelper.tokenValidator(function(t){1==t?(d.NotificationHelper.updatePermissionStatus(1),f.Queue.sync()):g.Main.moduleInitializer()}),[3,8]);case 7:g.Main.moduleInitializer(),t.label=8;case 8:return[3,10];case 9:c.Config.store.isMDSyncingRequired&&(u.Helper.addMsgReciever(d.NotificationHelper.msgReciever),a=c.Config.notification.masterDomain+c.Config.notification.masterDomainPath+"?action=izcheckmaster&domain="+window.location.origin,d.NotificationHelper.addIFrame(a,l.KeyMapper.IZOOTO_MASTER_AS_FRAME)),1==d.NotificationHelper.getPermissionStatusFromStorage()?(d.NotificationHelper.sendEvent(l.KeyMapper.IZOOTO_ALREADY_GRANTED,y.getMasterStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN)),f.Queue.sync()):c.Config.store.isMDSyncingRequired||(u.Helper.addMsgReciever(d.NotificationHelper.msgReciever),a=c.Config.notification.masterDomain+c.Config.notification.masterDomainPath+"?action=izcheckmaster&domain="+window.location.origin,d.NotificationHelper.addIFrame(a,l.KeyMapper.IZOOTO_MASTER_AS_FRAME)),t.label=10;case 10:return[2]}})})},y.masterDomainCallback=function(t){var e,n,i=!0;""!=c.Config.notification.masterDomain&&(t&&(i=!1,t=y.getMasterStorage(l.KeyMapper.IZOOTO_MASTER_DOMAIN),e=p.Storage.getStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN),e=u.Helper.parseToJSON(e),t=""!=t?d.NotificationHelper.getSubscriptionKey(t):"",e=d.NotificationHelper.getSubscriptionKey(e),""!=t&&t==e||(i=!0)),i&&(window.location.origin==c.Config.notification.masterDomain?(n='{"iz_'+c.Config.client+'":{"'+l.KeyMapper.IZOOTO_PUSH_TOKEN+'":'+p.Storage.getStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN)+',"'+l.KeyMapper.IZOOTO_SUBSCRIBED_ON+'":"'+c.Config.notification.masterDomain+'","user_properties":{}}}',p.Storage.setStorage(l.KeyMapper.IZOOTO_MASTER_DOMAIN,n)):self==top&&(e={token:p.Storage.getStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN),subscribed_on:window.location.origin,uuid:u.Helper.getCurrentUUID()},i=document.getElementById(l.KeyMapper.IZOOTO_MASTER_AS_FRAME),u.Helper.postMessage(i,l.KeyMapper.IZOOTO_CHILD_TO_MASTER,e),n='{"iz_'+c.Config.client+'":{"'+l.KeyMapper.IZOOTO_PUSH_TOKEN+'":'+p.Storage.getStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN)+',"'+l.KeyMapper.IZOOTO_SUBSCRIBED_ON+'":"'+window.location.origin+'","user_properties":{}}}',p.Storage.setStorage(l.KeyMapper.IZOOTO_MASTER_DOMAIN,n)),window._izq=window._izq||[],window._izq.push(["userProfile",{add:{subscribed_on_url:window.location.origin}}])))},y.setMasterStorage=function(t){var e="";t.hasOwnProperty("uuid")&&t.uuid&&(e=t.uuid);var n='{"iz_'+c.Config.client+'":{"'+l.KeyMapper.IZOOTO_PUSH_TOKEN+'":'+t.token+',"'+l.KeyMapper.IZOOTO_SUBSCRIBED_ON+'":"'+t.subscribed_on+'","user_properties":{}}}';p.Storage.setStorage(l.KeyMapper.IZOOTO_MASTER_DOMAIN,n),p.Storage.setStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN,encodeURIComponent(t.token)),e&&p.Storage.setStorage(l.KeyMapper.IZOOTO_UUID,e)},y.getMasterStorage=function(t){var e="iz_"+c.Config.client,n="",e=(n=u.Helper.parseToJSON(p.Storage.getStorage(l.KeyMapper.IZOOTO_MASTER_DOMAIN)))[e];return""!=n&&null!=e&&null!=e[t]?e[t]:""},y.masterConfigReciver=function(t){var e=p.Storage.getStorage(l.KeyMapper.IZOOTO_UUID),n=t.token,i=t.subscribed_on,t=t.uuid,o={token:JSON.stringify(n),subscribed_on:i,uuid:t};if(t||(p.Storage.setStorage(l.KeyMapper.IZOOTO_UUID,t),e&&e!=t&&u.Helper.UUIDMapper(e,t)),""!=n){if(!t)return void g.Main.moduleInitializer();d.NotificationHelper.tokenValidator(function(t){return 1==t?(d.NotificationHelper.updatePermissionStatus(l.KeyMapper.IZOOTO_PROMPT_ALLOWED),y.setMasterStorage(o),d.NotificationHelper.sendEvent(l.KeyMapper.IZOOTO_ALREADY_GRANTED,y.getMasterStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN)),void f.Queue.sync()):0==t?(p.Storage.removeConfigLocal(l.KeyMapper.IZOOTO_PERMISSION_STATUS),void g.Main.moduleInitializer()):void 0},t)}else g.Main.moduleInitializer()},y);function y(){}e.MasterDomain=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(0),n=(r.init=function(t){o.Config.ga.id=t[1];t=t[2];t.subscriptionCallback&&"object"==typeof t.subscriptionCallback&&(o.Config.ga.subscriptionCallback=t.subscriptionCallback),t.promptDisplayCallback&&"object"==typeof t.promptDisplayCallback&&(o.Config.ga.promptDisplayCallback=t.promptDisplayCallback)},r.process=function(t){if(""!=o.Config.ga.id)try{window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date;var e=""!=o.Config.global.platform?o.Config.global.platform:"custom";window.ga("create",o.Config.ga.id,"auto"),window.ga("send","event","izooto",t,e,{nonInteraction:!0}),i.Helper.displayLog("Sending response : ",t)}catch(t){}},r.isCallbackAllowed=function(t,e){for(var n in t){var i=t[n];if("string"==typeof i&&"all"==i.toLowerCase()||i==e)return!0}return!1},r.initUsingConfig=function(){""!==o.Config.ga.id&&o.Config.ga.subscriptionCallback.push(1,2)},r);function r(){}e.GoogleAnalytics=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(1),i=n(0),n=(o.init=function(t){return new Promise(function(e,n){"undefined"==typeof indexedDB&&n("DB not supported"),""!=o.instance&&e(o.instance);var i=indexedDB.open("izooto",3);i.onerror=function(t){n("DB not load")},i.onsuccess=function(t){o.instance=i.result,s.Helper.displayLog("Success : IndexedDB Instance"),e(o.instance)},i.onupgradeneeded=function(t){var e=t.target.result,t=t.oldVersion;t<2&&(e.createObjectStore("swEvents",{keyPath:"eventName"}),e.createObjectStore("options",{keyPath:"key"})),t<3&&e.createObjectStore("notificationLog",{keyPath:"key"})}}).catch(function(t){s.Helper.displayLog(t)})},o.addUpdate=function(i,o,r){return new Promise(function(e,n){var t=i.transaction(["options"],"readwrite").objectStore("options").put({key:o,val:r});t.onsuccess=function(t){e(o+" added to db.")},t.onerror=function(t){n("Unable to add data in db!")}}).catch(function(t){s.Helper.displayLog(t)})},o.addUpdateToTable=function(i,o,r){return new Promise(function(t,e){var n=i.transaction([o],"readwrite").objectStore(o).put(r);n.onsuccess=function(){t(o+" added to db.")},n.onerror=function(){e("Unable to add data in db!")}})},o.getData=function(t,o,r){return new Promise(function(n,e){var i=t.transaction([o]).objectStore(o).get(r);i.onerror=function(t){e("Unable to retrieve data from db!")},i.onsuccess=function(t){var e="";i.result?e=i.result:s.Helper.displayLog("Not found in db-> "+o+" -> "+r),n(e)}}).catch(function(t){s.Helper.displayLog(t)})},o.getIndexDBData=function(e,r,a){return new Promise(function(n,i){var t=e.transaction([r]).objectStore(r),o="all"==a?t.getAll():t.get(a);o.onerror=function(t){i("Unable to retrieve data from db!")},o.onsuccess=function(t){var e="";o.result?e=o.result:i("Not found in db! "+r+"::"+a),n(e)}}).catch(function(t){s.Helper.displayLog(t)})},o.setIndexedDb=function(n){window._izooto.sysEvents=i.Config.notification.sysEvents,"gaId"==n&&1!=i.Config.ga.swEvents||"sysEvents"==n&&1!=i.Config.notification.sysEventsFlag?s.Helper.displayLog("Not saved : ",n):o.init().then(function(e){o.getData(e,"options",n).then(function(t){(t&&!t.hasOwnProperty("val")||t.val!=window._izooto[n])&&o.addUpdate(e,n,window._izooto[n]).then(function(t){s.Helper.displayLog(t)}).catch(function(t){s.Helper.displayLog(t)})}).catch(function(t){s.Helper.displayLog(t)})}).catch(function(t){s.Helper.displayLog(t)})},o.instance="",o);function o(){}e.IndexedDB=n},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function i(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,o)}r((c=c.apply(t,a||[])).next())})},r=this&&this.__generator||function(n,i){var o,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch(r=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),o(n(24)).default.polyfill();var a=n(1),s=n(0),c=n(16),l=n(14),p=n(4),d=n(6),u=n(2),f=n(7),g=n(10),y=n(17),m=n(18),b=n(15),h=n(3),O=n(13),w=n(8),v=n(20),S=n(19),C=n(21),_=n(22),T=n(23),n=(z.init=function(){if(void 0!==window._izooto)throw new Error("Duplicate Pixel Found !!");window._izooto={},1==s.Config.izootoStatus?"undefined"==typeof Promise?z.initIzooto():p.NotificationHelper.getIzCidPromise().then(function(){z.initIzooto()}):a.Helper.displayLog(s.Config.brandingPartner+" has been disabled for this site!")},z.initIzooto=function(){return i(this,void 0,void 0,function(){var e;return r(this,function(t){switch(t.label){case 0:return z.referenceHolder(),z.izootoFallbackHandler(),s.Config.init(),v.Session.init(),window._izooto.client=s.Config.client,u.Storage.legacyStorageMigration(),d.Queue.init(),(e=""!=s.Config.notification.masterDomain)?[4,p.NotificationHelper.isSupported()]:[3,2];case 1:e=t.sent(),t.label=2;case 2:return e?w.MasterDomain.init():z.moduleInitializer(),[2]}})})},z.referenceHolder=function(){window._izooto=s.Config,window._izooto.helperClass=a.Helper,window._izooto.gdprClass=c.GDPR,window._izooto.queueClass=d.Queue,window._izooto.notificationClass=l.Notification,window._izooto.notificationHelperClass=p.NotificationHelper,window._izooto.storageClass=u.Storage,window._izooto.debuggerClass=f.Debugger,window._izooto.indexedDBClass=g.IndexedDB,window._izooto.videoDropOffClass=m.VideoDropOff,window._izooto.tabAbandonmentClass=y.TabAbandonments,window._izooto.shopifyClass=b.Shopify,window._izooto.masterDomainClass=w.MasterDomain,window._izooto.messengerClass=O.Messenger,window._izooto.sessionClass=v.Session,window._izooto.crpsPlaybookClass=S.CRPSPlaybook,window._izooto.recommendArticleClass=C.RecommendArticle,window._izooto.autoSegmentClass=_.AutoSegment,window._izooto.newsHubClass=T.NewsHub},z.moduleInitializer=function(){return i(this,void 0,void 0,function(){return r(this,function(t){switch(t.label){case 0:return[4,z.UUIDHandler()];case 1:return t.sent(),l.Notification.init(),O.Messenger.init(),[2]}})})},z.UUIDHandler=function(){return i(this,void 0,void 0,function(){var e,n,i,o;return r(this,function(t){switch(t.label){case 0:return(e=u.Storage.getStorage(h.KeyMapper.IZOOTO_PUSH_TOKEN),n=p.NotificationHelper.getSubscriptionKey(e),a.Helper.isUUID())?(s.Config.UUID=a.Helper.getUUID(),[3,10]):[3,1];case 1:return n?[4,a.Helper.getUUIDFromEndpoint(e)]:[3,3];case 2:return i=t.sent(),s.Config.UUID=""==i?n:i,a.Helper.setUUID(),[3,10];case 3:return[4,p.NotificationHelper.isHttpsSitePermissionAlreadyGranted()];case 4:return t.sent()?(o="",a.Helper.displayLog("Recovering Old Subscription..."),1!=s.Config.notification.httpsNoRoot?[3,6]:(a.Helper.displayLog("No root flow..."),[4,p.NotificationHelper.httpsNoRootGetOldSubscription()])):[3,10];case 5:return o=t.sent(),[3,8];case 6:return[4,p.NotificationHelper.httpsGetOldSubscription()];case 7:o=t.sent(),t.label=8;case 8:return o?[4,a.Helper.getUUIDFromEndpoint(o)]:[3,10];case 9:""==(i=t.sent())?(o=p.NotificationHelper.getSubscriptionKey(o),s.Config.UUID=o):s.Config.UUID=i,a.Helper.setUUID(),t.label=10;case 10:return a.Helper.getCurrentUUID()||(a.Helper.displayLog("Assining new uuid..."),s.Config.UUID=a.Helper.getUUID()),[2]}})})},z.izootoFallbackHandler=function(){window._izooto.optinCallback=function(t){l.Notification.optinCallback(t)},window._izooto.gdprCallback=function(t){c.GDPR.gdprCallback(t)},window._izooto.closeDialog=function(t){l.Notification.closeDialog(t)},window._izooto.openPopup=function(t){l.Notification.openPopup(!0)},window._izooto.closeHttpsBranding=function(){p.NotificationHelper.closeHttpsOverlay()},window._izooto.gdprAllow=function(){c.GDPR.gdprAllow()},window._izooto.gdprDisallow=function(){c.GDPR.gdprDisallow()},window._izooto.syncHookInDb=function(){return p.NotificationHelper.syncHookInDb("syncNotificationView")},window._izooto.syncHookInDb=function(){return p.NotificationHelper.syncHookInDb("syncNotificationClick")},window._izooto.getStorage=function(t){return"iztoken"==t?t=h.KeyMapper.IZOOTO_PUSH_TOKEN:"uid"==t&&(t=h.KeyMapper.IZOOTO_UUID),u.Storage.getStorage(t)},window._izooto.getBrowserKeyFromToken=function(t){return p.NotificationHelper.getSubscriptionKey(t)}},z);function z(){}(e.Main=n).init()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),n=(i.setCookie=function(t,e,n){void 0===n&&(n=o.Config.global.cookieExpiryDays);var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);i="expires="+i.toUTCString();document.cookie=t+"="+e+";path=/;"+o.Config.global.cookieDomain+i+";"+o.Config.global.cookieSameSite},i.getCookie=function(t){try{for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return decodeURIComponent(o.substring(e.length,o.length))}}catch(t){}return""},i.removeCookie=function(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT; "+o.Config.global.cookieSameSite},i);function i(){}e.CookieStorage=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(4),a=n(2),s=n(5),c=n(3),n=(l.init=function(t){if("http:"!=i.Config.global.locationProtocol&&0==i.Config.notification.windowType){if(0!=i.Config.messenger.status&&""!=i.Config.messenger.pageId){try{null==(l.messengerPrompt=i.Config.messenger.prompt).title&&(l.messengerPrompt.title="Connect with us for exclusive deals and offers!"),l.messengerPrompt.poweredbysrc=i.Config.notification.promptDesign.poweredbysrc}catch(t){}if(l.htmlContainer=r.NotificationHelper.loadDesign(l.messengerPrompt,l.getHtmlContainer()),1!=t){if(!i.Config.messenger.autoPrompt)return;if(l.isDelayed())return}l.triggered||(l.triggered=!0,window.fbAsyncInitIzooto=function(){window.FB.init({appId:l.appId,autoLogAppEvents:!0,xfbml:!0,version:"v7.0"}),window.FB.Event.subscribe("send_to_messenger",function(t){"rendered"==t.event&&0==t.is_after_optin&&setTimeout(function(){var t=document.getElementById("izootoFbMessengerMainContainer");t&&(t.style.display="block",l.sendEvent(c.KeyMapper.IZOOTO_MESSENGER_PROMPTED),l.setRepeatPromptDelay(i.Config.messenger.repeatDelay))},400),"opt_in"==t.event&&(l.setMultiMessengerStorage(c.KeyMapper.IZOOTO_MSNGR_IS_SUBSCRIBED,1),l.sendEvent(c.KeyMapper.IZOOTO_MESSENGER_SUBSCRIBED),setTimeout(function(){l.htmlContainerClose()},1e3))})},o.Helper.addExternalJS("https://connect.facebook.net/en_US/sdk.js").then(function(){window.fbAsyncInitIzooto(),l.addHtmlContainer(i.Config.messenger.pageId)}).catch(function(t){o.Helper.displayLog("Error while adding fb messenger scring",t)}))}}else o.Helper.displayLog("Messenger is disabled for this device!")},l.htmlContainerClose=function(){var t=document.getElementById("izootoFbMessengerMainContainer");t&&(t.style.display="none")},l.getHtmlContainer=function(){return'<style> #izFbContainer{ padding: 0 40px;} #izFbContainer .fb_iframe_widget{ margin-left: 65px;} #izFbContainer .fb_iframe_widget iframe{ display: inline-block; position: relative;} .izooto-widget-overlay { background: transparent; width: unset; height: unset; position: unset; top: unset; left: unset; z-index: 2147483647; } .izooto-widget-position { position: fixed; right: 10px; bottom: 10px; z-index: 2147483647; } .izooto-fb-widget { background: #fff; box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.01), 0px 1px 18px 0px rgba(0, 0, 0, 0.03); border-radius: 4px; font-family: "sans-serif", Helvetica, Arial, Helvetica Neue; font-size: 15px; letter-spacing: 0.4px; width: 360px; position: relative; } .izooto-fb-close { background: transparent; border: none; font-size: 22px; position: relative; top: 2px; cursor: pointer; color: grey; } #izooto-fb-close-wrapper { display: flex; justify-content: flex-end; background: #dfeeff; padding: 0 5px; margin: 0 -24px;} .izooto-fb-top { padding: 30px; border-radius: 4px 4px 0 0; background: #dfeeff; padding-bottom: 10px; padding-top: 0; margin-top: -4px; } .izooto-fb-title { line-height: 20px; font-weight: 500; color: #000; padding-bottom: 6px; } a.izooto-fb-branding { display: block; padding-top: 6px; font-size: 11px; color: #1f82f7; font-family: "sans-serif", Helvetica, Arial, Helvetica Neue; text-decoration: none; letter-spacing: 0.8px; } a:hover.izooto-fb-branding { display: block; padding-top: 6px; font-size: 11px; color: #1f82f7; font-family: "sans-serif", Helvetica, Arial, Helvetica Neue; text-decoration: none; letter-spacing: 0.8px; } .izooto-fb-bottom { background: white; border-radius: 0 0 4px 4px; padding: 24px 0; background: #fff; } @media screen and (max-width:600px) { .izooto-widget-overlay { background: #00000070; width: 100%; height: 100%; position: fixed; top: 0; left: 0; z-index: 2147483647; } .izooto-widget-position { position: absolute; left: 50%; top: 50%; right: unset; bottom: unset; z-index: 2147483647; transform: translate(-50%, -50%); } #izooto-fb-close-wrapper { padding: 0; } .izooto-fb-close { background: #195086; border: none; font-size: 22px; position: relative; top: -10px; cursor: pointer; color: white; border-radius: 50px; width: 28px; height: 28px; text-align: center; vertical-align: middle; display: unset; padding: 0 0; line-height: 0; margin: 0 -5px; } }</style><div class="izooto-widget-overlay"> <div class="izooto-widget-position"> <div class="izooto-fb-widget"> <div class="izooto-fb-top" dir="auto"><div id="izooto-fb-close-wrapper"> <button type="button" class="izooto-fb-close" onclick="_izooto.messengerClass.htmlContainerClose();">&times;</button> </div>  <div class="izooto-fb-title">{{--title--}}</div><a target="_blank" href="{{--poweredbysrc--}}" class="izooto-fb-branding izbranding"><span style="color:grey;">Powered by</span> '+i.Config.brandingPartner+'</a></div> <div class="izooto-fb-bottom" dir="auto"> <div id="izFbContainer"></div> </div> </div> </div>'},l.addHtmlContainer=function(t){var e=l.htmlContainer,n=document.createElement("div");n.setAttribute("id","izootoFbMessengerMainContainer"),n.style.display="none",n.innerHTML=e,(document.body?document.body:document.head).appendChild(n);var e=o.Helper.getCurrentUUID(),n=i.Config.client+"=/="+e+"=/="+i.Config.global.os+"=/="+i.Config.global.browserVer+"=/="+i.Config.global.deviceType+"=/="+i.Config.global.browserType,e=document.createElement("div");e.setAttribute("class","fb-send-to-messenger"),e.setAttribute("messenger_app_id",l.appId),e.setAttribute("page_id",t),e.setAttribute("color","blue"),e.setAttribute("size","large"),e.setAttribute("data-ref",n),null!==(n=document.getElementById("izFbContainer"))&&void 0!==n&&n.appendChild(e),o.Helper.izootoBrandingHandler()},l.isDelayed=function(){return o.Helper.displayLog("Messenger delay"),1==l.getMultiMessengerStorage(c.KeyMapper.IZOOTO_MSNGR_IS_SUBSCRIBED)||l.getMultiMessengerStorage(c.KeyMapper.IZOOTO_MSNGR_REPEAT_PROMPT_DELAY)>Date.now()},l.syncEvent=function(t){var e="",e=t==c.KeyMapper.IZOOTO_MESSENGER_SUBSCRIBED?(o.Helper.setUUID(),o.Helper.getEndpoint("syncMessenger")):o.Helper.getEndpoint(t),t=l.getParameterToSync(t);s.HttpRequest.post(e,{data:t},function(){o.Helper.displayLog("Messenger Event Synced on: ",e)})},l.setRepeatPromptDelay=function(t){var e;0!==t&&(e=(e=new Date).setTime(e.getTime()+60*t*1e3),o.Helper.displayLog("Messenger: Setting repeat prompt delay for "+t+" minutes"),l.setMultiMessengerStorage(c.KeyMapper.IZOOTO_MSNGR_REPEAT_PROMPT_DELAY,e))},l.setMultiMessengerStorage=function(t,e){var n=a.Storage.getConfigLocal(i.Config.messenger.pageId,c.KeyMapper.IZOOTO_MESSENGER);(n=n?o.Helper.parseToJSON(n):{})[t]=e;n=JSON.stringify(n);a.Storage.setConfigLocal(i.Config.messenger.pageId,n,c.KeyMapper.IZOOTO_MESSENGER)},l.getMultiMessengerStorage=function(t){var e=a.Storage.getConfigLocal(i.Config.messenger.pageId,c.KeyMapper.IZOOTO_MESSENGER);return e&&null!=(e=o.Helper.parseToJSON(e))[t]?e[t]:""},l.sendEvent=function(t){var e=[c.KeyMapper.IZOOTO_MESSENGER_SUBSCRIBED];i.Config.messenger.syncPrompt&&e.push(c.KeyMapper.IZOOTO_MESSENGER_PROMPTED),-1!=e.indexOf(t)&&l.syncEvent(t)},l.getParameterToSync=function(t){var e=("pid="+i.Config.client+"\n\t\t\t\t\t\t\t&btype="+i.Config.global.browserType+"\n\t\t\t\t\t\t\t&dtype="+i.Config.global.deviceType+" \n\t\t\t\t\t\t\t&os="+i.Config.global.os+"\n                            &page_id="+i.Config.messenger.pageId+"\n\t\t\t\t\t\t\t&bKey="+o.Helper.getCurrentUUID()).replace(/^\s+|\s+$/gm,"").split("\n").join("");switch(t){case c.KeyMapper.IZOOTO_MESSENGER_SUBSCRIBED:e+="&ms=1";break;case c.KeyMapper.IZOOTO_MESSENGER_PROMPTED:e+="&msp=1";break;default:e+="&"+t+"=1"}return e},l.triggered=!1,l.appId="1061905150807841",l);function l(){}e.Messenger=n},function(t,e,n){"use strict";var i=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function i(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,o)}r((c=c.apply(t,a||[])).next())})},o=this&&this.__generator||function(n,i){var o,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch(r=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),c=n(1),l=n(0),r=n(7),a=n(2),p=n(6),d=n(3),u=n(9),n=(f.init=function(){return i(this,void 0,void 0,function(){var e,n;return o(this,function(t){switch(t.label){case 0:return c.Helper.displayLog("Initializing notification module..."),l.Config.notification.eventsToSync=l.Config.notification.eventsToSync.map(function(t){return s.NotificationHelper.syncableEvents[t]}),e=l.Config.notification.windowType,(n=0==l.Config.izootoStatus)?[3,2]:[4,s.NotificationHelper.isSupported()];case 1:n=!t.sent(),t.label=2;case 2:return n?(c.Helper.displayLog(l.Config.brandingPartner+" notification disabled!"),[2]):[3,3];case 3:return[4,s.NotificationHelper.setSubscriberIdFromDb()];case 4:if(t.sent(),6==e){if(window.top!=window.self)return s.NotificationHelper.noRootHandler(),[2]}else{if(5==e)return r.Debugger.verifyIzootoIntegration(),[2];if(4==e&&self!=top)return s.NotificationHelper.sendPermissionStatusFromFrame(),[2];if(2==e&&self!=top)return s.NotificationHelper.removeSubscriptionInFrame(),[2];if(1==e)return s.NotificationHelper.nativeHandler(),[2]}if(!e){if(window.self!=window.top)return p.Queue.sync(),[2];if(""!=l.Config.notification.allowedDomain&&(n=l.Config.global.locationProtocol+"//"+document.location.hostname,l.Config.notification.allowedDomain.indexOf(n)<0&&!e))return[2];u.GoogleAnalytics.initUsingConfig()}if(l.Config.store.isNotificationDisabledManually)return c.Helper.displayLog("Notfication prompt handled by site developer!"),[2];if(3==s.NotificationHelper.getPermissionStatusFromStorage())return s.NotificationHelper.sendEvent(d.KeyMapper.IZOOTO_ALREADY_UNSUBSCRIBED),[2];s.NotificationHelper.promptHandler(),t.label=5;case 5:return[2]}})})},f.optinCallback=function(t){try{"function"==typeof t&&(l.Config.notification.optinModule=new t,null!=l.Config.notification.optinModule.data&&(window.izOptinDesign=l.Config.notification.optinModule.data),s.NotificationHelper.showOptin())}catch(t){}},f.closeDialog=function(t){var e;try{a.Storage.removeStorage("izootoActivePrompt"),t=1===t?d.KeyMapper.IZOOTO_OPTIN_ALLOWED:d.KeyMapper.IZOOTO_OPTIN_CLOSED,s.NotificationHelper.sendEvent(t),null!==(e=document.getElementById("izmiddle-box"))&&void 0!==e&&e.remove()}catch(t){c.Helper.displayLog("Error removing div : ",t)}},f.openPopup=function(t){var e,n,i,o,r,a;void 0===t&&(t=!1),t&&this.closeDialog(1),2!=l.Config.global.browserType?l.Config.notification.isSdkHttps&&"https:"==l.Config.global.locationProtocol?s.NotificationHelper.nativeHandler():(c.Helper.addMsgReciever(s.NotificationHelper.msgReciever),r=null!=window.screenLeft?window.screenLeft:screen.left,a=null!=window.screenTop?window.screenTop:screen.top,e=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,n=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height,o=i=200,t=l.Config.notification.promptType,1!==l.Config.notification.promptType&&2!=l.Config.notification.promptType||(t=1,o=i=500),r=e/2-i/2+r,a=n/2-o/2+a,l.Config.notification.hidePopup&&0===l.Config.notification.promptType&&(o=i=100,r=a=1e4),t=l.Config.notification.sourceOrigin+"?action=prompt&izpt="+t,1!=l.Config.notification.fullPopUp||0==l.Config.notification.promptType?(window.open(t,l.Config.brandingPartner+" Subscription","scrollbars=yes, width="+i+", height="+o+", top="+a+", left="+r),s.NotificationHelper.sendEvent(d.KeyMapper.IZOOTO_POPUP_OPEN)):window.open(t,l.Config.brandingPartner+" Subscription")):s.NotificationHelper.requestSafariPermission()},f);function f(){}e.Notification=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=n(0),u=n(1),f=n(2),g=n(5),y=n(4),a=n(12),m=n(3),n=(b.init=function(t){window._izooto[b._izLastVariantCookieName]="";var e,n=null!=t?t:!1;if(2==d.Config.notification.isShopify)return b.shopifyCart(),void u.Helper.displayLog("Old Shopify");1==d.Config.notification.isShopify&&(u.Helper.displayLog("New Shopify"),t=5*Math.random(),(e=new XMLHttpRequest).addEventListener("load",function(t){b.shopifyCartTracker(e,n)}),e.open("GET","/cart.js?"+t),e.send()),b.resetProductCookie(),b.checkAndSendShopifyEvents(!0)},b.shopifyCartTracker=function(t,e){var n,i="iz_sh_cart_v2";u.Helper.displayLog(t),u.Helper.displayLog("Purge :"+e),o=u.Helper.parseToJSON(t.responseText),u.Helper.displayLog(o),o.items,n=o.token;var o,r=f.Storage.getStorage(i);null!=n&&""!=n&&((t=new Date).setTime(t.getTime()+864e5),t.toUTCString(),n==r&&!e||(o=f.Storage.getStorage(m.KeyMapper.IZOOTO_PUSH_TOKEN),t=0,o=u.Helper.parseToJSON(o),1<Object.keys(o).length&&(t=1),u.Helper.displayLog("[Mapper hit]"),r=u.Helper.getEndpoint("ShopifyMapper"),e=f.Storage.getStorage(m.KeyMapper.IZOOTO_PUSH_TOKEN),e=u.Helper.parseToJSON(e),e="bkey="+u.Helper.getCurrentUUID(),1==t&&(e=e+"&auth="+o.keys.auth+"&pk="+o.keys.p256dh),e+="&btype="+u.Helper.getBrowserType(),e+="&dtype="+u.Helper.getDeviceType(),e+="&pid="+d.Config.client,e+="&shopify_token="+n,d.Config.global.browserName!=m.KeyMapper.BROWSER_SAFARI&&(e+="&"+u.Helper.endPointParamExtract(f.Storage.getStorage(m.KeyMapper.IZOOTO_PUSH_TOKEN))),e+="&pte="+d.Config.notification.subscriptionType,e+="&custom_topic=custom-js-mapper",g.HttpRequest.post(r,{data:e},function(){}),a.CookieStorage.setCookie(i,n,1)))},b.shopifyFix=function(){try{var t=document.createElement("img");t.style.width="0px",t.style.height="0px",t.src=document.location.protocol+"//"+document.location.hostname+d.Config.notification.manifest}catch(t){}},b.shopifyCart=function(){var t=f.Storage.getStorage("cart");if(void 0!==t&&""!==t&&(-1!=t.indexOf("=")&&(t=t.split("=")[1]),t!==f.Storage.getStorage("iz_sh_cart"))){if("ckout="==t)return;a.CookieStorage.setCookie("iz_sh_cart",t),window._izq.push(["event","add_to_cart",{cart_id:t}]),u.Helper.displayLog("Sent add to cart event : "+t)}},b.resetProductCookie=function(){window._izooto[b._izLastVariantCookieName]="",a.CookieStorage.setCookie(b._izLastVariantCookieName,"")},b.checkIfVariantChanged=function(){var t=""==window._izooto[b._izLastVariantCookieName]?a.CookieStorage.getCookie(b._izLastVariantCookieName):window._izooto[b._izLastVariantCookieName],e=window.ShopifyAnalytics.meta.selectedVariantId;return u.Helper.displayLog("Product heartbeat"),1!=b.sentShopifyProduct&&(void 0===e?(b.sentShopifyProduct=1,!0):e!=t&&(u.Helper.displayLog("Set cookie of iz_last_sh_variant"),window._izooto[b._izLastVariantCookieName]=e,a.CookieStorage.setCookie(b._izLastVariantCookieName,e),!0))},b.listenToProductVariant=function(t){b.checkIfVariantChanged()&&(u.Helper.displayLog("Variant modified"),t()),setTimeout(function(){b.listenToProductVariant(t)},b._izProductVariantModifiedCheckInterval)},b.getShopifyModule=function(){var t;try{if(t=window.ShopifyAnalytics.meta.page.pageType)return t}catch(t){d.Config.debug&&console.warn("ShopifyAnalytics not available, parsing URL")}var e=location.hostname,n=location.pathname.split("/"),i=n[1],n=n[2];if(u.Helper.displayLog("PartOne :"+n+", PartZero:"+i),""===i)return b._izShopifyModules.storeSections.home;if(i===b._izShopifyModules.storeRoots.cart)return b._izShopifyModules.storeRoots.cart;if(i===b._izShopifyModules.storeRoots.account&&n===b._izShopifyModules.storeRoots.orders)return b._izShopifyModules.storeRoots.orders;if("account"===i&&!i)return b._izShopifyModules.storeSections.orders;if("checkout.shopify.com"===e||"checkouts"===n)return b._izShopifyModules.storeSections.checkout;if(void 0!==window.__st&&window.__st.s){n=window.__st.partZero.split("-")[0];if("collections"===n)return b._izShopifyModules.storeSections.collection;if("products"===n)return b._izShopifyModules.storeSections.product}},b.sendShopifyProductViewEvent=function(){var t=location.pathname,l=window.ShopifyAnalytics.meta.selectedVariantId,t=t.split("/"),p=t[t.length-1],t=b._izAjaxApi.products+p;t+="?izreq=product";g.HttpRequest.get(t,function(t){try{var e=JSON.parse(t)}catch(t){u.Helper.displayLog("Could not fetch data from product API")}if("object"==typeof e&&""!=f.Storage.getStorage(m.KeyMapper.IZOOTO_PUSH_TOKEN)){var n,i=e.product,o=i.variants,r=f.Storage.getStorage(m.KeyMapper.IZOOTO_PUSH_TOKEN),a=u.Helper.getEndpoint("shopifyAPI")+"?p=p",s="pid="+d.Config.client;for(n in s+=y.NotificationHelper.getSubscriptionParameters(r),s+="&btype="+u.Helper.getBrowserType(),s+="&pte="+d.Config.notification.subscriptionType,s+="&custom_topic="+b._izShopifyTopics.productView,s+="&product_id="+i.id.toString(),s+="&product_title="+encodeURIComponent(i.title),s+="&product_handle="+encodeURIComponent(p),s+="&product_page="+encodeURIComponent(window.location.href),s+="&product_type="+i.product_type,u.Helper.displayLog(i),null!=i.image&&null!=i.image.src&&(s+="&product_image="+i.image.src),o){var c=o[n];if(c.id==l){s+="&product_price="+c.price;break}}g.HttpRequest.post(a,{data:s},function(t){u.Helper.displayLog(t)}),u.Helper.displayLog("Shopify product view event attempted successfully.")}},void 0,{Accept:"application/json"})},b.sendShopifyCollectionViewEvent=function(){var t=b._izShopifyModules.storeSections.collection+"s",e=location.pathname.split("/"),t=e.indexOf(t);if(-1==t)u.Helper.displayLog("Unable to identify collection");else{var a=e[t+1];if(b._izEventNames.collectionAll==a)return void u.Helper.displayLog("Ignoring collection view event for:"+b._izEventNames.collectionAll);t=b._izAjaxApi.collections+a;t+="?izreq=collections";g.HttpRequest.get(t,function(t){var e,n,i,o,r;try{e=JSON.parse(t)}catch(t){u.Helper.displayLog("Could not fetch data from collection API")}"object"==typeof e&&""!=f.Storage.getStorage(m.KeyMapper.IZOOTO_PUSH_TOKEN)&&(n=e.collection,i=u.Helper.getEndpoint("shopifyAPI")+"?p=p",o=f.Storage.getStorage(m.KeyMapper.IZOOTO_PUSH_TOKEN),r="pid="+d.Config.client,r+=y.NotificationHelper.getSubscriptionParameters(o),r+="&btype="+u.Helper.getBrowserType(),r+="&pte="+d.Config.notification.subscriptionType,r+="&custom_topic="+b._izShopifyTopics.collectionView,r+="&collection_id="+n.id.toString(),r+="&collection_handle="+encodeURIComponent(a),r+="&collection_title="+encodeURIComponent(n.title),r+="&collection_page="+encodeURIComponent(window.location.href),null!=n.image&&null!=n.image.src&&(r+="&collection_image="+n.image.src),g.HttpRequest.post(i,{data:r},function(t){u.Helper.displayLog(t)}),u.Helper.displayLog("Shopify collection view event attempted successfully."))},void 0,{Accept:"application/json"})}},b.checkAndSendShopifyEvents=function(t){var e=b.getShopifyModule();switch(u.Helper.displayLog("Detected shopify module : ",e),e){case b._izShopifyModules.storeSections.collection:u.Helper.displayLog("Inside collection view case"),b.sendShopifyCollectionViewEvent();break;case b._izShopifyModules.storeSections.product:u.Helper.displayLog("Inside product view case"),null!=t&&t?(u.Helper.displayLog("Now listening to product view event"),b.listenToProductVariant(b.sendShopifyProductViewEvent)):b.sendShopifyProductViewEvent()}},b._izShopifyModules={storeSections:{home:"home",collection:"collection",product:"product",cart:"cart",checkout:"checkout",order:"order",orders:"orders"},storeRoots:{cart:"cart",account:"account",orders:"orders"}},b._izEventNames={productView:"product_viewed",collectionView:"collection_viewed",collectionAll:"all"},b._izAjaxApi={products:"/products/",collections:"/collections/"},b._izShopifyTopics={productView:"product/view",collectionView:"collection/view"},b._izLastVariantCookieName="iz_last_sh_variant",b._izProductVariantModifiedCheckInterval=5e3,b.sentShopifyProduct=0,b);function b(){}e.Shopify=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(4),a=n(5),s=n(2),c=n(6),l=n(3),n=(p.init=function(){try{null!=i.Config.notification.gdprPrompt&&self==top&&(i.Config.notification.gdprPrompt.title=null!=i.Config.notification.gdprPrompt.title&&""!=i.Config.notification.gdprPrompt.title?i.Config.notification.gdprPrompt.title:"In order to send relevant and personalized notifications to you, we would like to capture your location and website activity.",i.Config.notification.gdprPrompt.btn2Txt=null!=i.Config.notification.gdprPrompt.btn2Txt&&""!=i.Config.notification.gdprPrompt.btn2Txt?i.Config.notification.gdprPrompt.btn2Txt:"Agree",i.Config.notification.gdprPrompt.btn1Txt=null!=i.Config.notification.gdprPrompt.btn1Txt&&""!=i.Config.notification.gdprPrompt.btn1Txt?i.Config.notification.gdprPrompt.btn1Txt:"Not Now")}catch(t){}var t=s.Storage.getConfigLocal(l.KeyMapper.IZOOTO_GDPR_CONSENT);return 1==t||3==t?(o.Helper.displayLog("GDPR prompt is already allowed by the user"),void(i.Config.notification.isGdprAllowed=1)):2==t?(o.Helper.displayLog("GDPR prompt is already denied by the user"),void(i.Config.notification.isGdprAllowed=0)):void(1==i.Config.notification.gdprPromptStatus&&p.getGdprLocation())},p.closeGdprDialog=function(t){var e;try{null!==(e=document.getElementById("izgdpr-box"))&&void 0!==e&&e.remove()}catch(t){o.Helper.displayLog("Error Removing GDPR : ",t)}},p.gdprAllow=function(){p.closeGdprDialog(),s.Storage.setConfigLocal(l.KeyMapper.IZOOTO_GDPR_CONSENT,1),i.Config.notification.isGdprAllowed=1,c.Queue.sync(),p.sendGdprStatus(1)},p.sendGdprStatus=function(t){try{var e=o.Helper.getEndpoint("gdprStatusUrl"),n=r.NotificationHelper.getDeviceParameters(),i=s.Storage.getStorage(l.KeyMapper.IZOOTO_PUSH_TOKEN);n+=r.NotificationHelper.getSubscriptionParameters(i),n+="&gs="+t,r.NotificationHelper.getExtraParameterToSync().then(function(t){n+=t,a.HttpRequest.post(e,{data:n},function(){o.Helper.displayLog("GDPR Status sent")})})}catch(t){}},p.getGdprLocation=function(){a.HttpRequest.get(o.Helper.getEndpoint("gdprLocationUrl"),function(t,e){200==e&&(o.Helper.displayLog("GDPR Location: ",t),1==(t=o.Helper.parseToJSON(t)).status?p.loadGdprOptin():s.Storage.setConfigLocal(l.KeyMapper.IZOOTO_GDPR_CONSENT,3))})},p.loadGdprOptin=function(){var t=i.Config.notification.gdprPromptType,t=i.Config.notification.optInSrc+"gdpr/"+t+".js";o.Helper.addExternalJS(t)},p.gdprCallback=function(t){try{"function"==typeof t&&(i.Config.notification.gdprModule=new t,null!=i.Config.notification.gdprModule.data&&(window.izGdprDesign=i.Config.notification.gdprModule.data),p.show())}catch(t){}},p.show=function(){null!=window.izGdprDesign&&(i.Config.notification.gdprDialogDesign=window.izGdprDesign),i.Config.notification.gdprDialogDesign=r.NotificationHelper.loadDesign(i.Config.notification.gdprPrompt,i.Config.notification.gdprDialogDesign),o.Helper.addHTML("div",i.Config.notification.gdprDialogDesign,"izgdpr-box")},p.gdprDisallow=function(){p.closeGdprDialog(),s.Storage.setConfigLocal(l.KeyMapper.IZOOTO_GDPR_CONSENT,2),p.sendGdprStatus(2)},p);function p(){}e.GDPR=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(4),a=n(1),r=n(0),s=n(2),c=n(3),n=(l.init=function(){a.Helper.displayLog("Tab Abandonment"),l.timerInstance=0,l.focused=!0,1==r.Config.tabAbandonment.status&&(l.interval=setInterval(function(){document.hasFocus()?l.focused||l.onFocus():l.focused&&l.onBlur()},1e3))},l.run=function(){l.reset(),a.Helper.displayLog("Tab Abandonment : Initialized");var t={url:window.location.href};s.Storage.setConfigLocal(c.KeyMapper.IZOOTO_TAB_ABANDONMENT,JSON.stringify(t))},l.onBlur=function(){l.focused=!1,l.run(),l.timerInstance=setInterval(function(){var e=s.Storage.getConfigLocal(c.KeyMapper.IZOOTO_TAB_ABANDONMENT);r.Config.tabAbandonment.counter++;try{e=JSON.parse(e)}catch(t){e={}}a.Helper.displayLog("TabAbandonment counter : ",r.Config.tabAbandonment.counter),e.url!=window.location.href?l.reset():r.Config.tabAbandonment.counter==r.Config.tabAbandonment.timeout&&(l.pushNotification(),l.reset())},1e3),a.Helper.displayLog("Ta : blurred")},l.onFocus=function(){l.focused=!0,l.reset(),a.Helper.displayLog("Ta : focused")},l.reset=function(){a.Helper.displayLog("Tab Abandonment : timer reset"),r.Config.tabAbandonment.counter=0,clearInterval(l.timerInstance)},l.pushNotification=function(){var t,e,n=r.Config.tabAbandonment.pushTimeout,i=l.getPayload();""!=i.id&&""!=i.rid&&(t=s.Storage.getConfigLocal(c.KeyMapper.IZOOTO_TAB_ABANDONMENT_PUSH,c.KeyMapper.IZOOTO_SYNC),e=a.Helper.getTimeDiff(t,!0),""!=t&&e<n?l.reset():(1==r.Config.notification.httpsNoRoot?(n=document.getElementById("izSubFrame"),a.Helper.postMessage(n,"sendLocalNotification",i)):o.NotificationHelper.sendLocalNotification(i),s.Storage.updateLastSync(c.KeyMapper.IZOOTO_TAB_ABANDONMENT_PUSH),o.NotificationHelper.syncNotificationView(i),o.NotificationHelper.syncNotificationSent(i)))},l.getPayload=function(){var t={};t.key=r.Config.client,t.title="You were reading <~[@article_title]~>",t.message="Pick up where you left off",t.icon="https://cdnimg.izooto.com/icons/4/JD-12-128.png",t.banner="<~[@featured_image]~>",t.link="<~[@last_visited_url]~>",t.tag="tabAbandonment",t.reqInt=!0,t.id="",t.rid="",t.viewFlag=1,t.clickFlag=1,t.sysEvents=0,t.domainNum=0;var e=window.location.href;e.indexOf("utm_campaign=")<0&&(t.link+=e.includes("?")?"&":"?",t.link+="utm_source=izooto&utm_medium=push_notifications&utm_campaign=recover_abandoned_tab&utm_term=notification1");var n,i=r.Config.tabAbandonment.data;for(n in t)i.hasOwnProperty(n)||(i[n]=t[n]);return i=l.getFilterData(i)},l.urlUtmHandler=function(t,e){var n,i,o=e.split("&"),r={};for(n in o){var a=o[n].split("=");r[a[0]]=a[1]}for(i in t=new URL(t),r)t.searchParams.set(i,r[i]);return t.href},l.getFilterData=function(t){var e,n,i,o={},r=window.location.href;for(e in o.article_title=""!=a.Helper.getMetaValue("og:title")?a.Helper.getMetaValue("og:title"):a.Helper.getMetaValue("title"),o.featured_image=a.Helper.getMetaValue("og:image"),o.last_visited_url=r,t){"string"==typeof t[e]&&0<=t[e].indexOf("<~[@")&&(n=t[e].indexOf("<~[@"),i=t[e].indexOf("]~>"),"last_visited_url"==(n=t[e].substring(n+4,i))&&0<t[e].indexOf("utm_campaign")?(i=t[e].split("?"),t[e]=i[0],i=i[1],t[e]=t[e].replace("<~[@"+n+"]~>",o[n]),t[e]=l.urlUtmHandler(r,i)):t[e]=t[e].replace("<~[@"+n+"]~>",o[n]))}return t},l);function l(){}e.TabAbandonments=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),r=n(1),n=(a.init=function(){i.Config.videoDropoff.status&&a.isCurrentUrlMatchingWith(i.Config.videoDropoff.allowedUrls)&&(r.Helper.displayLog("Initializing recover video watchtime playbook..."),a.detectPlayer())},a.syncTrigger=function(t,e){window._izq.push(["trigger",t,e])},a.sendToApi=function(t){var e=0,n=a.playerState;if(0==n.length)n.push(t);else{for(var i=0;i<n.length;i++)if(n[i].playerId==t.playerId){if(n[i].status==t.status)return;n[i]=t,e=1;break}e||n.push(t)}var o={player_id:t.playerId,title:t.title,url:t.url,player:t.player_type,duration:t.duration.toString()};t.hasOwnProperty("thumbnail")&&(o.thumbnail=t.thumbnail);try{"started"==t.status?a.syncTrigger("video_started",o):"ended"==t.status&&a.syncTrigger("video_completed",{playerid:t.playerId})}catch(t){}r.Helper.displayLog("Video Payload : ",o)},a.html5Payload=function(t,e){void 0===t&&(t="started");var n=[];n.status=t,n.playerId=e.id,n.title=document.title,n.url=location.href,n.player_type="html5",n.duration=e.duration,a.sendToApi(n)},a.html5Handler=function(){var t=document.querySelectorAll("video");t&&t.forEach(function(t){var e;t.id||(e=a.generateRandomString("iz-video-",7),t.setAttribute("id",e)),t.onplaying=function(){r.Helper.displayLog("Playing html 5 video!");a.html5Payload("started",t)},t.onended=function(){a.html5Payload("ended",t)}})},a.ytPayload=function(t,e){void 0===t&&(t="started");var n=[];n.status=t,n.playerId=e.getIframe().id,n.title=e.playerInfo.videoData.title||document.title;t="https://img.youtube.com/vi/"+e.playerInfo.videoData.video_id+"/0.jpg";n.thumbnail=t,n.url=location.href,n.player_type="youtube",n.duration=e.playerInfo.duration,a.sendToApi(n)},a.isValidYtUrl=function(t){return new RegExp("^https://(?:www.)?youtube.com/embed/[A-z0-9]+").test(t)},a.initYtPlayer=function(t){if(window.YT,0,window.YT.get(t)){var e=window.YT.get(t);return e.addEventListener("onStateChange",a.onYtPlayerStateChange),e}return new window.YT.Player(t,{events:{onStateChange:a.onYtPlayerStateChange}})},a.onYtPlayerStateChange=function(t){switch(t.data){case window.YT.PlayerState.PLAYING:a.ytPayload("started",t.target);break;case window.YT.PlayerState.ENDED:a.ytPayload("ended",t.target)}},a.fixPlayerReference=function(i){setInterval(function(){for(var t=0;t<i.length;t++){var e=i[t].getIframe(),n=a.getClosureKeyName(i[t]);i[t][n]!==window.YT.get(e.id)[n]&&(i[t]=window.YT.get(e.id),i[t].addEventListener("onStateChange",a.onYtPlayerStateChange))}},1e3)},a.fixYtEnableJsApi=function(t){var e=new URL(t.src);""==r.Helper.getParamFromUrl(t.src,"enablejsapi")?(e.searchParams.set("enablejsapi","1"),t.setAttribute("src",e)):null==r.Helper.getParamFromUrl(t.src,"enablejsapi")&&(e.searchParams.append("enablejsapi","1"),t.setAttribute("src",e))},a.fixYtOrigin=function(t){var e=new URL(t.src);""==r.Helper.getParamFromUrl(t.src,"origin")?(e.searchParams.set("origin",window.location.origin),t.setAttribute("src",e)):null==r.Helper.getParamFromUrl(t.src,"origin")&&(e.searchParams.append("origin",window.location.origin),t.setAttribute("src",e))},a.isJsApiEnabled=function(t){return null!=r.Helper.getParamFromUrl(t,"enablejsapi")},a.addYTApiScirptPromise=function(){return new Promise(function(t,e){var n,i,o=setInterval(function(){"object"==typeof window.YT&&"function"==typeof window.YT.get&&(clearInterval(o),t(!0))},1e3);void 0!==window.YT?t(!0):((n=document.createElement("script")).src="//www.youtube.com/player_api",(i=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,i))}).catch(function(t){r.Helper.displayLog(t)})},a.ytHandler=function(){setInterval(function(){for(var t,e,i=document.querySelectorAll("iframe[src*='https://www.youtube.com/embed/']"),n=0;n<i.length;n++){a.isValidYtUrl(i[n].src)&&(i[n].hasAttribute("izplayer")||(i[n].setAttribute("izplayer","1"),i[n].id||(t=a.generateRandomString("iz-video-",7),i[n].setAttribute("id",t)),a.fixYtOrigin(i[n]),a.isJsApiEnabled(i[n].src)?function(e){var n=setInterval(function(){try{var t=window.YT.get(i[e].id);t&&(clearInterval(n),t.addEventListener("onStateChange",a.onYtPlayerStateChange),a.ytPlayerReference.push(t))}catch(t){}},1e3)}(n):(e=i[n],a.fixYtEnableJsApi(e),a.addYTApiScirptPromise().then(function(){var t=a.initYtPlayer(e.id);a.ytPlayerReference.push(t)}))))}a.fixPlayerReference(a.ytPlayerReference)},1e3)},a.detectPlayer=function(){a.html5Handler(),a.ytHandler()},a.isCurrentUrlMatchingWith=function(t){if(0==t.length)return 1;for(var e=0;e<t.length;e++)if(-1!=document.location.href.search(t[e]))return r.Helper.displayLog("Matched with :",t[e]),1;return 0},a.ytPlayerReference=[],a.playerState=[],a.generateRandomString=function(t,e){return void 0===t&&(t=""),void 0===e&&(e=7),t+Math.random().toString(36).substring(e)},a.getClosureKeyName=function(t){try{for(var e in t){if(-1!=e.search("closure_"))return e.toString()}}catch(t){throw new Error("Please update keyName of player")}},a);function a(){}e.VideoDropOff=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(20),a=n(2),s=n(3),n=(c.init=function(){o.Helper.displayLog("Paid Subscriber status:",i.Config.CRPSPlaybook.isPaidSubscriber),i.Config.CRPSPlaybook.status&&c.isSyncAllowed()&&c.sendStartTrigger()},c.isSyncAllowed=function(){if(3<r.Session.getSessionCount()&&!i.Config.notification.windowType&&!i.Config.CRPSPlaybook.isPaidSubscriber){var t=a.Storage.getConfigLocal(s.KeyMapper.IZOOTO_CRPS_PLAYBOOK,s.KeyMapper.IZOOTO_SYNC);return t&&o.Helper.getDateDiffrenceFromPresent(t)<=c.reSendTriggerDays?(o.Helper.displayLog("Abort! Reader to paid subscriber last sync not expired!"),!1):!0}return!1},c.sendStartTrigger=function(){window._izq.push(["trigger",i.Config.CRPSPlaybook.startTriggerName],void 0,function(t,e){200==e&&(a.Storage.updateLastSync(s.KeyMapper.IZOOTO_CRPS_PLAYBOOK),o.Helper.displayLog("ReadersToPaidSubscribers Start Trigger sent  sucessfully!"))})},c.reSendTriggerDays=30,c);function c(){}e.CRPSPlaybook=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(3),n=(s.init=function(){i.Config.global.isSessionHandled||(s.sessionHandler(),i.Config.global.isSessionHandled=!0)},s.sessionHandler=function(){var t;o.Helper.displayLog("Session handler initiated..."),s.isSessionExpired()&&(e=r.Storage.getConfigLocal(a.KeyMapper.IZOOTO_SESSION_COUNT,a.KeyMapper.IZOOTO_SESSION),t=r.Storage.getConfigLocal(a.KeyMapper.IZOOTO_FIRST_SESSION,a.KeyMapper.IZOOTO_SYNC),e&&t&&o.Helper.getDateDiffrenceFromPresent(t)<=s.visitWithinDays?r.Storage.setConfigLocal(a.KeyMapper.IZOOTO_SESSION_COUNT,e+1,a.KeyMapper.IZOOTO_SESSION):(r.Storage.setConfigLocal(a.KeyMapper.IZOOTO_SESSION_COUNT,1,a.KeyMapper.IZOOTO_SESSION),r.Storage.updateLastSync(a.KeyMapper.IZOOTO_FIRST_SESSION)));var e=(e=new Date).setTime(e.getTime()+60*s.sessionExpiryMinute*1e3);o.Helper.displayLog("if inactivity detected session will expired at : ",new Date(e)),r.Storage.setConfigLocal(a.KeyMapper.IZOOTO_SESSION_EXPIRY,e,a.KeyMapper.IZOOTO_SESSION)},s.isSessionExpired=function(){var t=r.Storage.getConfigLocal(a.KeyMapper.IZOOTO_SESSION_EXPIRY,a.KeyMapper.IZOOTO_SESSION),e=new Date;return!(""!=t&&t>e.getTime())&&(o.Helper.displayLog("Session expired detected!"),!0)},s.getSessionCount=function(){return r.Storage.getConfigLocal(a.KeyMapper.IZOOTO_SESSION_COUNT,a.KeyMapper.IZOOTO_SESSION)||0},s.sessionExpiryMinute=30,s.visitWithinDays=7,s);function s(){}e.Session=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(3),r=n(0),a=n(1),n=(s.init=function(){r.Config.recommendArticle.status&&"/"!=s.currentArticlePath&&(a.Helper.displayLog("Recommend Article initilalized!"),s.isSyncAllowed()&&s.sync())},s.isSyncAllowed=function(){var t=new Date,e=i.Storage.getConfigLocal(o.KeyMapper.LAST_SYNC_OF_RECOMMEND_ARTICLE,o.KeyMapper.IZOOTO_SYNC);if(!e)return!0;var n=new Date(e);if(t.getDate()!=n.getDate())return i.Storage.removeConfigLocal(o.KeyMapper.RECOMMEND_ARTICLE_SYNCED_PATH,o.KeyMapper.IZOOTO_RECOMMEND_ARTICLE),!0;if(t.getTime()<t.setTime(e+1e3*s.recommendArticleExpire))return a.Helper.displayLog("Recommend Article wait till time expire!"),!1;e=i.Storage.getConfigLocal(o.KeyMapper.RECOMMEND_ARTICLE_SYNCED_PATH,o.KeyMapper.IZOOTO_RECOMMEND_ARTICLE);return(e=a.Helper.parseToJSON(e)||[]).length<s.dailyArticleSyncLimit&&-1==e.indexOf(s.currentArticlePath)||(a.Helper.displayLog("Recommend Article Aborted: same url already synced! or  daily limit reached"),!1)},s.sync=function(){var n=i.Storage.getConfigLocal(o.KeyMapper.RECOMMEND_ARTICLE_SYNCED_PATH,o.KeyMapper.IZOOTO_RECOMMEND_ARTICLE);(n=a.Helper.parseToJSON(n)||[]).push(s.currentArticlePath);var t=[window.location.protocol,"//",window.location.host,window.location.pathname].join("");window._izq.push(["trigger",s.triggerName,{article_url:t},function(t,e){200==e&&(i.Storage.setConfigLocal(o.KeyMapper.RECOMMEND_ARTICLE_SYNCED_PATH,JSON.stringify(n),o.KeyMapper.IZOOTO_RECOMMEND_ARTICLE),i.Storage.updateLastSync(o.KeyMapper.LAST_SYNC_OF_RECOMMEND_ARTICLE),a.Helper.displayLog("Recommend Article synced sucessfully!"))}])},s.currentArticlePath=window.document.location.pathname,s.dailyArticleSyncLimit=2,s.triggerName="_article_read",s.recommendArticleExpire=7200,s);function s(){}e.RecommendArticle=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),n=(r.init=function(){1==i.Config.autoSegmentStatus&&r.addCustomModuleConfig()},r.addCustomModuleConfig=function(){var t=i.Config.hashFileName;t?(t="https://cdn.izooto.com/scripts/custom/"+t+".js",o.Helper.addExternalJS(t,"izCustomModule",!0).then(r.customModuleHandler).catch(function(t){o.Helper.displayLog("Failed to add custom module script")})):o.Helper.displayLog(i.Config.brandingPartner+" hash file name not found!")},r.customModuleHandler=function(){try{var t=window._izootoCustomeModuleConfig?window._izootoCustomeModuleConfig:void 0;if(t){if(t.hasOwnProperty("autoSegmentMethod")&&1==i.Config.autoSegmentStatus)try{window._izootoCustomeModuleConfig.autoSegmentMethod=o.Helper.getParsedMethod(t.autoSegmentMethod),r.autoSegmentHandler(t.autoSegmentMethod)}catch(t){}}else o.Helper.displayLog("No any custom module found!")}catch(t){}},r.autoSegmentHandler=function(t){var e,n;"function"==typeof t&&(e=[],"string"==typeof(t=t())&&""!=t?e.push(t):e=t,Array.isArray(e)&&e.length?(n={},e.forEach(function(t){n[t]=!0}),o.Helper.displayLog("Pushing user profile :",n),window._izq.push(["userProfile",{add:n}])):o.Helper.displayLog("No segment found to sycn!"))},r);function r(){}e.AutoSegment=n},function(t,e,n){"use strict";var s=this&&this.__awaiter||function(t,a,s,c){return new(s=s||Promise)(function(n,e){function i(t){try{r(c.next(t))}catch(t){e(t)}}function o(t){try{r(c.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,o)}r((c=c.apply(t,a||[])).next())})},c=this&&this.__generator||function(n,i){var o,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch(r=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}};Object.defineProperty(e,"__esModule",{value:!0});var v=n(2),S=n(0),C=n(1),i=n(5),r=n(10),_=n(3),n=(l.init=function(){return s(this,void 0,void 0,function(){var e;return c(this,function(t){switch(t.label){case 0:return S.Config.newsHub.status?[4,l.readLastClickVisitFromDb()]:[3,3];case 1:return t.sent(),[4,(e=l).getAllNotificationsFromDb()];case 2:e.notificationDbList=t.sent(),l.notificationShowList=[],C.Helper.displayLog("New Hub initiated..."),l.render().then(function(t){l.minimumNotificationToShow=t,l.handler(l.currentJsonFileIndex)}),t.label=3;case 3:return[2]}})})},l.handler=function(n,a){return void 0===a&&(a=l.minimumNotificationToShow),s(this,void 0,void 0,function(){var o,e,r=this;return c(this,function(t){return o=0,C.Helper.displayLog("minimum notification show :",a),e="https://nh.iz.do/nh/"+S.Config.hashFileName+"/"+n+".json",i.HttpRequest.get(e,function(n,i){return s(r,void 0,void 0,function(){var e;return c(this,function(t){return 200==i||304==i?(l.cdnDataHanlder(n),e=C.Helper.parseToJSON(n),o=parseInt(e[e.length-1].p.ct)):l.shouldLoadMore=!1,l.dbLatestTimeStamp<o?l.shouldLoadMore=!0:(l.shouldLoadMore=!1,C.Helper.displayLog("Merging notification from db"),l.showAllNotificationFromDb()),0==l.notificationShowList.length?l.showWidget(!0):!(l.notificationShowList.length>=a||200!=i&&304!=i)?l.handler(++l.currentJsonFileIndex):l.showWidget(),[2]})})}),[2]})})},l.loadMoreNotifications=function(n){var a=this;return new Promise(function(o,t){var r,e;l.isNewsLoading||(l.isNewsLoading=!0,r=0,C.Helper.displayLog("Getting notification for page index "+n+" from CDN"),e="https://nh-stage.izooto.com/nh/"+S.Config.hashFileName+"/"+n+".json",l.shouldLoadMore?(l.addDummyLoader(),i.HttpRequest.get(e,function(n,i){return s(a,void 0,void 0,function(){var e;return c(this,function(t){return 200==i||304==i?(l.cdnDataHanlder(n),e=C.Helper.parseToJSON(n),r=parseInt(e[e.length-1].p.ct),l.dbLatestTimeStamp<r?l.shouldLoadMore=!0:(l.shouldLoadMore=!1,C.Helper.displayLog("Merging notification from db"),l.showAllNotificationFromDb())):l.shouldLoadMore=!1,l.removeDummyLoader(),o(!0),l.isNewsLoading=!1,[2]})})})):(l.shouldLoadMore=!1,l.showAllNotificationFromDb(),o(!(l.isNewsLoading=!1))))})},l.showAllNotificationFromDb=function(){l.notificationDbList.forEach(function(t){l.notificationShowList.push(t)})},l.cdnDataHanlder=function(t){for(var e=0,n=C.Helper.parseToJSON(t);e<n.length;e++){var i=n[e];(!i.a||l.seggmentParser(C.Helper.parseToJSON(i.a)))&&l.setCDNDataIntoDB(i.p)}},l.addNewsHandler=function(){return s(this,void 0,void 0,function(){var i,o,e;return c(this,function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),l.notificationShowList.length?[3,2]:!l.shouldLoadMore||l.isNewsLoading?[2,!1]:[4,l.loadMoreNotifications(++l.currentJsonFileIndex)];case 1:t.sent(),t.label=2;case 2:return(i=document.querySelector(this.notificationSelector.notificationWrapperId))||this.isNewsContainerLoaded?l.notificationShowList.length?((o=l.notificationShowList.splice(0,S.Config.newsHub.pagination)).forEach(function(t,e){var n=l.payloadParser(t);n&&l.appendNews(n,i),C.Helper.displayLog("News ID:  Data:",t),o.length==++e&&document.addEventListener("mouseup",function(e){document.querySelectorAll(l.notificationSelector.sharingActionList).forEach(function(t){t.contains(e.target)||(t.style.display="none")})})}),[3,4]):[2]:(C.Helper.displayLog("News container not loaded!"),[2]);case 3:return e=t.sent(),C.Helper.displayLog("add news handler error:",e),[3,4];case 4:return[2]}})})},l.getFormattedDate=function(t){if(t)try{t=parseInt(t);var e=new Date(t),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Decr"][e.getMonth()],i=e.getDate(),o=e.getHours(),r=e.getMinutes(),e=12<=o?"PM":"AM";return n+" "+i+", "+((o=(o%=12)||12)+":"+(r=r<10?"0"+r:r)+" "+e)}catch(t){C.Helper.displayLog("get formatted date error:",t)}return""},l.payloadParser=function(t){if(C.Helper.displayLog("news data",t),t&&t.hasOwnProperty("payload"))try{var e=t.key,n=t.clickedAt;t=t.payload;var i=l.getFormattedDate(t.ct);return{id:e,title:t.t,message:t.m,url:C.Helper.replaceQueryParam("utm_medium","news_hub",t.ln),bannerImage:t.bi,icon:t.i,createdAt:i,clickedAt:n,cid:t.id}}catch(t){C.Helper.displayLog("Payload parser error:",t)}},l.appendNews=function(e,t){C.Helper.displayLog("Appending news ",e);var n,i="iz-news-hub-notification-"+e.id,o=l.noticationHtmlElement.cloneNode(!0),i="#"+(o.id=i);for(n in e)try{var r,a=o.querySelector(l.notificationPrefix+n);"icon"==n?a.src=e[n]:"message"==n?(r=70<e[n].length?e[n].substring(0,60)+"...":e[n],a.childNodes[0].nodeValue=r):"title"!=n&&"createdAt"!=n||(a.innerText=e[n])}catch(t){C.Helper.displayLog("Error in append news payload- "+n+":",e)}var s=o.querySelector(l.notificationSelector.isRead);e.clickedAt&&(o.querySelector(l.notificationSelector.markAsReadButton).remove(),s.remove()),null!=t&&t.insertAdjacentHTML("beforeend",o.outerHTML),null!==(t=document.querySelector(i))&&void 0!==t&&t.addEventListener("click",function(t){-1<(null===(t=null===(t=null==t?void 0:t.target)||void 0===t?void 0:t.outerHTML)||void 0===t?void 0:t.indexOf("option"))||(null!==(t=document.querySelector(i+" "+l.notificationSelector.markAsReadButton))&&void 0!==t&&t.dispatchEvent(new Event("click")),l.syncClick(e),null!==(t=window.open(e.url,"_blank"))&&void 0!==t&&t.focus())},!1);t=document.querySelector(i+" "+l.notificationSelector.sharingButton);null!=t&&t.addEventListener("click",function(t){var e=document.querySelector(i+" "+l.notificationSelector.sharingActionList);e&&(e.style.display="flex"),t.stopPropagation()},!0);t=document.querySelector(i+" "+l.notificationSelector.sharePostLink);null!=t&&t.addEventListener("click",function(t){l.showSocialSharePopup(e),t.stopPropagation()},!0),e.clickedAt||(c=document.querySelector(i+" "+l.notificationSelector.markAsReadButton),l.markAsReadHandler(e.id,c,i));var c=document.querySelector(i+" "+l.notificationSelector.viewMore);l.viewMoreHandler(e.message,c,i)},l.viewMoreHandler=function(n,i,o){try{70<n.length?null!=i&&i.addEventListener("click",function(t){var e=document.querySelector(o+" "+l.notificationSelector.message);e.childNodes[0].nodeValue=n,e.style.webkitLineClamp="unset",e.style.maxHeight="min-content",i.style.display="none",t.stopPropagation()}):i.style.display="none"}catch(t){C.Helper.displayLog("view more handler error:",t)}},l.markAllAsReadHandler=function(){var t;try{null!==(t=document.querySelectorAll(".iz-news-hub-notification"))&&void 0!==t&&t.forEach(function(t){null!==(t=t.querySelector(l.notificationSelector.isRead))&&void 0!==t&&t.remove(),null!==(t=document.querySelector(l.notificationSelector.markAsReadButton))&&void 0!==t&&t.remove()})}catch(t){C.Helper.displayLog(t)}l.setPayloadData(l.ridsList,{clickedAt:Date.now()})},l.markAsReadHandler=function(n,i,o){try{i.addEventListener("click",function(t){var e;l.closeActionList(),null!==(e=document.querySelector(o+" "+l.notificationSelector.isRead))&&void 0!==e&&e.remove(),l.setPayloadData(n,{clickedAt:Date.now()}),i.remove(),t.stopPropagation()})}catch(t){C.Helper.displayLog(t)}},l.setPayloadData=function(t,i){"number"==typeof t&&(t=[t]),t.forEach(function(n){r.IndexedDB.init().then(function(e){C.Helper.displayLog("Set payload data  to db : "+n,i),r.IndexedDB.getData(e,"notificationLog",n).then(function(t){t.hasOwnProperty("clickedAt")&&!t.clickedAt&&i.hasOwnProperty("clickedAt")?(t.clickedAt=i.clickedAt,r.IndexedDB.addUpdateToTable(e,"notificationLog",t).then(function(t){C.Helper.displayLog("Mark as read : "+n+" successfull")}).catch(function(t){C.Helper.displayLog("Mark as read Error "+n,t)})):C.Helper.displayLog("Notication Log : data not found in db!")}).catch(function(t){C.Helper.displayLog(t)})}).catch(function(t){C.Helper.displayLog(t)})})},l.showSocialSharePopup=function(o){try{document.querySelector(l.popupSelector.animatedLoader).style.display="flex",document.querySelector(l.popupSelector.content).style.display="none",l.closeActionList();var r=document.querySelector(l.popupSelector.id);r.querySelector(l.popupSelector.title).innerText="",r.querySelector(l.popupSelector.message).innerText="",r.querySelector(l.popupSelector.image).src="",i.HttpRequest.get(o.url,function(t){var e=(new DOMParser).parseFromString(t,"text/html"),n=null===(i=e.querySelector("meta[name='description']"))||void 0===i?void 0:i.content,i=null===(t=e.querySelector("meta[name='title']"))||void 0===t?void 0:t.content,t=null===(t=e.querySelector("meta[property='og:image']"))||void 0===t?void 0:t.content,e=null===(e=e.querySelector("meta[name='twitter:image']"))||void 0===e?void 0:e.content;r.querySelector(l.popupSelector.title).innerText=i||o.title,r.querySelector(l.popupSelector.message).innerText=n||o.message,r.querySelector(l.popupSelector.image).src=t||e||o.bannerImage||o.icon,document.querySelector(l.popupSelector.animatedLoader).style.display="none",document.querySelector(l.popupSelector.content).style.display="flex"});var t,e=l.getSharingLink(o.url);for(t in e){var n=r.querySelector(l.socialSharePrefix+t);n.href=e[t],n.target="_blank","link"==t&&(n.value=e[t])}r.style.display="flex"}catch(t){C.Helper.displayLog("show social share popup error:",t)}},l.closeActionList=function(){try{var t=document.querySelectorAll(l.notificationSelector.sharingActionList);null!=t&&t.forEach(function(t){t.style.display="none"})}catch(t){C.Helper.displayLog("close action list error:",t)}},l.getSharingLink=function(t){return{whatsapp:"https://api.whatsapp.com/send?text="+(t=encodeURIComponent(t)),facebook:"https://www.facebook.com/sharer/sharer.php?u="+t,twitter:"https://twitter.com/intent/tweet?url="+t+"&text=",mail:"mailto:info@example.com?&subject=&cc=&bcc=&body="+t,linkedin:"https://www.linkedin.com/shareArticle?mini=true&url="+t,link:decodeURIComponent(t)}},l.render=function(){return s(this,void 0,void 0,function(){return c(this,function(t){return[2,new Promise(function(n,t){C.Helper.displayLog("Rendering News Hub"),i.HttpRequest.get("https://cdn.izooto.com/newshub/widget.html",function(t,e){t&&(C.Helper.addHTML("div",t),(l.animatedLoaderHtmlElement=document.querySelector(l.notificationSelector.animatedLoader)).remove(),(l.noticationHtmlElement=document.querySelector(".iz-news-hub-notification")).remove(),l.applyConfigStyle(),document.querySelector(".iz-news-hub-branding-text").href="https://www.izooto.com/campaign/getting-started-with-izooto?utm_source=referral&utm_medium=news_hub&utm_campaign="+S.Config.notification.siteUrl,t=window.getComputedStyle(document.querySelector("#iz-news-hub-notifications-body-container")).height,t=((t=parseInt(t))-62)/85,n(parseInt(t)+1))})})]})})},l.showWidget=function(t){var e;void 0===t&&(t=!1),t?(document.querySelector(l.notificationSelector.noNotification).style.display="flex",document.querySelector(l.notificationSelector.notificationWrapperId).style.display="none",document.querySelector(l.notificationSelector.markAllAsReadButtonId).style.display="none"):(l.isNewsContainerLoaded=!0,l.addNewsHandler(),e=document.querySelector("#iz-news-hub-notifications-body-container"),null!==(t=document.querySelector(l.popupSelector.close))&&void 0!==t&&t.addEventListener("click",function(t){document.querySelector(l.popupSelector.id).style.display="none",t.stopPropagation()}),e.addEventListener("scroll",function(){e.scrollHeight-50<e.scrollTop+e.clientHeight&&l.addNewsHandler()}),null!==(t=document.querySelector(l.notificationSelector.markAllAsReadButtonId))&&void 0!==t&&t.addEventListener("click",function(){l.markAllAsReadHandler()}),null!==(t=document.querySelector("#iz-news-hub-copy-btn"))&&void 0!==t&&t.addEventListener("click",l.copyNewsLinkToClipboard)),document.querySelectorAll(l.notificationSelector.closeButton+" , "+l.notificationSelector.triggerFloating+" , "+l.notificationSelector.triggerSticky).forEach(function(t){t.addEventListener("click",l.toggleNewsHubDispaly)})},l.applyConfigStyle=function(){try{var t,e=document.querySelector(l.notificationSelector.triggerSticky),n=document.querySelector(l.notificationSelector.triggerFloating);e.style.display="none",n.style.display="none",2==S.Config.newsHub.designType?(e.style.display="flex",S.Config.newsHub.placement[1]||e.classList.add("iz-news-hub-sidebar-container-left")):(n.style.display="flex",t="iz-news-hub-floating-icon-container-"+(S.Config.newsHub.placement[0]?"bottom":"top")+"-"+(S.Config.newsHub.placement[1]?"right":"left"),n.classList.contains(t)||n.classList.add(t));var i="https://cdn.izooto.com/newshub/icons/"+S.Config.newsHub.iconType+".svg";document.querySelectorAll(l.notificationSelector.mainIcon).forEach(function(t){t.src=i}),setTimeout(function(){var t;null!==(t=document.querySelector(l.notificationSelector.triggerFloating+" "+l.notificationSelector.mainIcon))&&void 0!==t&&t.classList.add("izooto-news-hub-swing-animation")},1e3),S.Config.newsHub.placement[1]||document.querySelector(l.notificationSelector.newsHubCotainerId).classList.add("iz-news-hub-notification-container-left"),S.Config.newsHub.mainColor&&(document.querySelector("#iz-news-hub-title-container").style.backgroundColor=S.Config.newsHub.mainColor,e.style.backgroundColor=S.Config.newsHub.mainColor,n.querySelector("#iz-news-hub-icon-container").style.backgroundColor=S.Config.newsHub.mainColor),document.querySelector("#iz-news-hub-main-container").style.display="block"}catch(t){C.Helper.displayLog("Error while applying config:",t)}},l.toggleNewsHubDispaly=function(){var t,e=document.querySelector(l.notificationSelector.newsHubCotainerId),n=S.Config.newsHub.placement[1]?"right":"left";"none"===e.style.display?(e.style.display="block",e.classList.add("izooto-slide-in-"+n+"-animation")):(t=function(){e.style.display="none",e.removeEventListener("animationend",t),e.classList.remove("izooto-slide-out-"+n+"-animation")},e.classList.remove("izooto-slide-in-"+n+"-animation"),e.addEventListener("animationend",t),e.classList.add("izooto-slide-out-"+n+"-animation"))},l.setCDNDataIntoDB=function(t){var e={payload:t};if(e&&t.hasOwnProperty("r")){if(16<=t.r.length)return void C.Helper.displayLog("Excluding plalybook & subid notifications");e.key=parseInt(t.r),e.clickedAt=!1,e.receivedAt=Date.now()}-1<l.ridsList.indexOf(parseInt(t.r))?C.Helper.displayLog("Notification already exsits in db"):(l.ridsList.push(parseInt(t.r)),l.notificationShowList.push(e),l.notificationShowList.sort(function(t,e){return e.payload.ct-t.payload.ct}),r.IndexedDB.init().then(function(t){r.IndexedDB.addUpdateToTable(t,"notificationLog",e).then(function(t){C.Helper.displayLog(t)}).catch(function(t){C.Helper.displayLog(t)})}).catch(function(t){C.Helper.displayLog(t)}))},l.copyNewsLinkToClipboard=function(){var t=document.querySelector("#iz-news-hub-social-share-link"),e=null==t?void 0:t.value;if(navigator.clipboard){navigator.clipboard.writeText(e).then(function(){C.Helper.displayLog("Async: Copying to clipboard was successful!")},function(t){C.Helper.displayLog("Async: Could not copy text: ",t)});var n=document.querySelector("#iz-news-hub-copy-btn");n.innerHTML="COPIED",setTimeout(function(){n.innerHTML="COPY"},3e3)}else{t.focus(),t.select();try{var i=document.execCommand("copy")?"successful":"unsuccessful";C.Helper.displayLog("Fallback: Copying text command was "+i)}catch(t){C.Helper.displayLog("Fallback: Oops, unable to copy",t)}}},l.addDummyLoader=function(){var t;null!==(t=document.querySelector(l.notificationSelector.notificationWrapperId))&&void 0!==t&&t.insertAdjacentHTML("afterend",l.animatedLoaderHtmlElement.outerHTML)},l.removeDummyLoader=function(){var t=document.querySelector(l.notificationSelector.animatedLoader);t.parentNode.removeChild(t)},l.syncClick=function(t){t="pid="+S.Config.client+"&bkey="+C.Helper.getCurrentUUID()+"&rid="+t.id+"&cid="+t.cid+"&op=click&ver="+S.Config.notification.serviceWorkerVersion+"&isid=1&cs=1";i.HttpRequest.post(C.Helper.getEndpoint("notificationClick"),{data:t},function(){C.Helper.displayLog("News hub click sync successfully with "+S.Config.brandingPartner)})},l.getAllNotificationsFromDb=function(){return s(this,void 0,void 0,function(){var n=this;return c(this,function(t){switch(t.label){case 0:return[4,r.IndexedDB.init().then(function(e){return s(n,void 0,void 0,function(){var o;return c(this,function(t){switch(t.label){case 0:return o=[],[4,r.IndexedDB.getIndexDBData(e,"notificationLog","all").then(function(t){if(t){t.sort(function(t,e){return e.payload.ct-t.payload.ct}),t.forEach(function(t){t.key.toString().length<=15&&(o.push(t),l.ridsList.push(t.key))});for(var e=0,n=o;e<n.length;e++){var i=n[e];if(!i.payload.hasOwnProperty("vr")){l.dbLatestTimeStamp=parseInt(i.payload.ct);break}}return o}C.Helper.displayLog("Notication Log : data not found in db!")}).catch(function(t){C.Helper.displayLog(t)})];case 1:return[2,t.sent()]}})})})];case 1:return[2,t.sent()]}})})},l.seggmentParser=function(t){var e,n=["px","dev","lci","lvi"];for(e in t){if(!(-1<n.indexOf(e)))return!1;if("dev"==e){if(-1==t.dev[0].indexOf(S.Config.global.deviceType))return C.Helper.displayLog("Device segment validation failed"),!1}else{if("px"==e&&!l.isUserPropertySegmentValidated(t))return C.Helper.displayLog("User property segment validation failed"),!1;if(("lci"==e||"lvi"==e)&&!l.isDateTimeSegmentValidated(t,e))return C.Helper.displayLog("Last click segment validation failed"),!1}}return!0},l.isUserPropertySegmentValidated=function(a){var t,s={yes:!0,no:!1},c=a.px;for(t in c){var e=function(e){for(var t=c[e],n=0,i=t.values;n<i.length;n++){var o=i[n],r=o.v;if(1==t.multi)switch(o.op){case"equals":if(r.every(function(t){return-1==v.Storage.getConfigLocal(e,_.KeyMapper.IZOOTO_USER_PROPERTY).indexOf(t)}))return{value:!1};break;case"not equals":if(r.every(function(t){return-1<v.Storage.getConfigLocal(e,_.KeyMapper.IZOOTO_USER_PROPERTY).indexOf(t)}))return{value:!1}}else{if("datetime"==t.type)return{value:l.isDateTimeSegmentValidated(a,"px",e)};switch(r="boolean"==t.type?s[r]:r,o.op){case"equals":if(v.Storage.getConfigLocal(e,_.KeyMapper.IZOOTO_USER_PROPERTY)!=r)return{value:!1};break;case"not equals":if(v.Storage.getConfigLocal(e,_.KeyMapper.IZOOTO_USER_PROPERTY)==r)return{value:!1};break;case"greater than":if(v.Storage.getConfigLocal(e,_.KeyMapper.IZOOTO_USER_PROPERTY)<=r)return{value:!1};break;case"less than":if(v.Storage.getConfigLocal(e,_.KeyMapper.IZOOTO_USER_PROPERTY)>=r)return{value:!1}}}}}(t);if("object"==typeof e)return e.value}return!0},l.isDateTimeSegmentValidated=function(t,e,n){var i,o=t[e],r="lci"==e?S.Config.store.lastClick:S.Config.store.lastView;if("px"==e)try{var a=v.Storage.getConfigLocal(n,_.KeyMapper.IZOOTO_USER_PROPERTY);if(!a)return!1;r=new Date(a).getTime();for(var s=[],a=null===(a=o[n])||void 0===a?void 0:a.values,c=0,l=a;c<l.length;c++){var p=l[c];s.push(p.v)}o=s}catch(t){}if(!r)return C.Helper.displayLog("Last click or visit key not found in db"),!1;for(var d=0,u=o;d<u.length;d++){var f=!!(i=u[d]).d1&&new Date(i.d1),g=!!i.d2&&new Date(i.d2),y=!!i.days&&i.days,m=!!i["min-days"]&&i["min-days"],b=!!i["max-days"]&&i["max-days"],h=(h=new Date(r)).toLocaleDateString(),O=new Date,w=new Date;switch(C.Helper.displayLog("Last Click Visit Operation: ",i.op),i.op){case"before":if(r>f.getTime())return!1;break;case"after":if(r<f.getTime())return!1;break;case"on":if(h!=f.toLocaleDateString())return!1;break;case"between":if(f.getTime()>r&&r<g.getTime())return!1;break;case"in the past":if(w.setDate(O.getDate()-y),r<w.getTime())return!1;break;case"was exactly":if(w.setDate(O.getDate()-y),h!=w.toLocaleDateString())return!1;break;case"today":if(h!=O.toLocaleDateString())return!1;break;case"relative between":m=w.setDate(O.getDate()-m),b=w.setDate(O.getDate()-b);if(r<m&&r<b)return!1;break;default:return!1}}return!0},l.readLastClickVisitFromDb=function(){return new Promise(function(e,t){r.IndexedDB.init().then(function(t){C.Helper.displayLog("Getting last visit & click from Db"),r.IndexedDB.getIndexDBData(t,"swEvents","click").then(function(t){t?(C.Helper.displayLog("Last click found from db: ",t),S.Config.store.lastClick=1e3*t.timestamp):C.Helper.displayLog("Last click  not found ")}).catch(function(t){C.Helper.displayLog(t)}).finally(function(){r.IndexedDB.getIndexDBData(t,"swEvents","view").then(function(t){t?(C.Helper.displayLog("Last view found from db: ",t),S.Config.store.lastView=1e3*t.timestamp,e(S.Config.store.lastView)):(C.Helper.displayLog("Last view not found"),e(!1))}).catch(function(t){C.Helper.displayLog(t)})})}).catch(function(t){C.Helper.displayLog(t)})})},l.getHTML=function(){return'\n\t\t<div id="iz-news-hub-main-container">\n\t\t  <div class="iz-news-hub-floating-icon-container iz-news-hub-floating-icon-container-bottom-right"\n\t\t\tid="iz-news-hub-floating-icon">\n\t\t\t<div id="iz-news-hub-icon-container">\n\t\t\t<img src="" class="iz-news-hub-main-icon">\t\t\n\t\t\t  <span id="iz-news-hub-bell-icon-tooltip">News Hub</span>\n\t\t\t</div>\n\t\t  </div>\n\t\t\n\t\t  <div\n\t\t\tclass="iz-news-hub-sidebar-container iz-d-flex iz-d-flex-row iz-align-item-center"\n\t\t\tid="iz-news-hub-sticky-sidebar">\n\t\t\t\t<img src="" class="iz-news-hub-main-icon">\n\t\t\t<span id="iz-news-hub-sidebar-text">News Hub</span>\n\t\t  </div>\n\t\t\n\t\t  <div class="iz-news-hub-notification-container" id="iz-news-hub-notification-container" style="display:none;">\n\t\t\t<div id="iz-news-hub-notification-header">\n\t\t\t  <div id="iz-news-hub-title-container" class="iz-d-flex iz-d-flex-row iz-d-flex-space-btwn iz-align-item-center">\n\t\t\t\t<div class="iz-d-flex iz-d-flex-row iz-align-item-center">\n\t\t\t\t  <div>\n\t\t\t\t\t<svg width="22" viewBox="0 0 24 26" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t  <path\n\t\t\t\t\t\td="M10.9003 26C12.8623 26 14.5036 24.6013 14.8805 22.75H6.9201C7.2972 24.6013 8.93846 26 10.9003 26Z"\n\t\t\t\t\t\tfill="white" />\n\t\t\t\t\t  <path\n\t\t\t\t\t\td="M18.4966 12.999C18.4923 12.999 18.4879 13 18.4836 13C14.303 13 10.9003 9.59827 10.9003 5.41675C10.9003 4.26723 11.1647 3.18059 11.6251 2.20345C11.3867 2.18083 11.1451 2.16675 10.9003 2.16675C6.71222 2.16675 3.31702 5.56175 3.31702 9.75002V12.7703C3.31702 14.9142 2.37777 16.9379 0.729953 18.3311C0.180683 18.8002 -0.0631072 19.5476 0.134067 20.2768C0.363773 21.125 1.20226 21.6667 2.082 21.6667H19.7132C20.6362 21.6667 21.5062 21.0687 21.6935 20.1641C21.8387 19.4643 21.5895 18.7655 21.0468 18.3094C19.4716 16.9889 18.5605 15.0485 18.4966 12.999Z"\n\t\t\t\t\t\tfill="white" />\n\t\t\t\t\t  <path\n\t\t\t\t\t\td="M23.9003 5.41673C23.9003 8.40826 21.4753 10.8333 18.4836 10.8333C15.492 10.8333 13.067 8.40826 13.067 5.41673C13.067 2.4252 15.492 0 18.4836 0C21.4753 0 23.9003 2.4252 23.9003 5.41673Z"\n\t\t\t\t\t\tfill="white" />\n\t\t\t\t\t</svg>\n\t\t\t\t  </div>\n\t\t\t\t  <span class="iz-news-hub-header-title-text">News Hub</span>\n\t\t\t\t</div>\n\t\t\n\t\t\t\t<div>\n\t\t\t\t  <button type="button"\n\t\t\t\t\tclass="iz-news-hub-close-news-hub-btn iz-news-hub-btn iz-news-hub-btn-gray-at-hover iz-news-hub-icon-btn iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center">\n\t\t\t\t\t<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#ffffff">\n\t\t\t\t\t  <path d="M0 0h24v24H0V0z" fill="none"></path>\n\t\t\t\t\t  <path\n\t\t\t\t\t\td="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z">\n\t\t\t\t\t  </path>\n\t\t\t\t\t</svg>\n\t\t\t\t  </button>\n\t\t\t\t</div>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t<div id="iz-news-hub-notifications-body-container">\n\t\t\t  <div class="iz-d-flex iz-d-flex-row iz-d-flex-space-btwn iz-align-item-center" id="iz-news-hub-posts-header">\n\t\t\t\t<span class="iz-text-body">Notifications</span>\n\t\t\n\t\t\t\t<div class="iz-d-flex iz-d-flex-row iz-align-item-center">\n\t\t\t\t  <a href="javascript:void(0)" id="iz-news-hub-mark-all-as-read-btn" class="iz-text-body iz-fs-12">Mark All as\n\t\t\t\t\tRead</a>\n\t\t\t\t</div>\n\t\t\t  </div>\n\n\t\t\t  <div class="iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center"\n        id="iz-news-hub-no-notifications-container" style="display:none;">\n        <svg width="106" height="87" viewBox="0 0 106 87" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path\n            d="M68.817 41.069C72.0094 39.6798 72.9294 34.854 70.872 30.2904C68.8145 25.7267 64.5587 23.1533 61.3663 24.5426C58.1739 25.9318 57.2538 30.7576 59.3113 35.3212C61.3687 39.8849 65.6246 42.4582 68.817 41.069Z"\n            fill="#BA2026" />\n          <path\n            d="M15.2795 36.951L14.0966 37.3967L9.65229 39.0214C2.50344 41.6334 -1.02218 49.2098 1.77994 55.9456C4.5878 62.6814 12.6554 66.0211 19.8042 63.4092L24.2428 61.7844L25.4429 61.3613L15.2795 36.951Z"\n            fill="#808080" />\n          <path\n            d="M54.538 11.7905L53.6193 12.7721C47.4063 19.4294 40.1125 25.0283 32.0349 29.3409C26.0582 32.5258 19.8606 35.2931 13.4881 37.6224L8.98057 39.2641C6.48214 40.1312 4.29854 41.7012 2.70168 43.7787C1.10482 45.8561 0.165261 48.3492 0 50.9474L3.07774 49.8191C3.39388 49.7026 3.74334 49.709 4.05488 49.8369C4.36642 49.9647 4.6166 50.2045 4.75442 50.5074C4.81436 50.6586 4.84251 50.8201 4.83718 50.9823C4.83184 51.1445 4.79313 51.3039 4.72338 51.451C4.65362 51.5981 4.55427 51.7297 4.43131 51.8381C4.30836 51.9464 4.16434 52.0291 4.00795 52.0813L0.160778 53.4973C0.249585 54.0406 0.374259 54.5777 0.534011 55.1051L3.87588 53.8809C4.19343 53.7611 4.54569 53.7657 4.85988 53.8938C5.17407 54.0219 5.42616 54.2636 5.56405 54.5692C5.62399 54.7204 5.65214 54.8819 5.64681 55.0441C5.64147 55.2063 5.60276 55.3657 5.53301 55.5128C5.46325 55.6599 5.3639 55.7915 5.24094 55.8999C5.11798 56.0082 4.97397 56.0909 4.81758 56.1431L1.47571 57.3617C1.73904 57.8537 2.03441 58.3286 2.35998 58.7833L4.14002 58.1345C4.45756 58.0147 4.80983 58.0193 5.12402 58.1474C5.4382 58.2755 5.69029 58.5173 5.82818 58.8228C5.88812 58.974 5.91628 59.1355 5.91094 59.2977C5.90561 59.4599 5.86689 59.6193 5.79714 59.7664C5.72739 59.9135 5.62804 60.0451 5.50508 60.1535C5.38212 60.2618 5.2381 60.3446 5.08171 60.3967L4.09408 60.7521C6.07821 62.554 8.53264 63.7792 11.1838 64.2911C13.835 64.8031 16.5789 64.5818 19.1095 63.6518L23.6113 62.0045C30.0225 59.6626 36.592 57.7625 43.2721 56.318C52.4166 54.3653 61.8197 53.8587 71.1268 54.8174L72.5163 54.9584L54.538 11.7905Z"\n            fill="#E8E8E8" />\n          <path\n            d="M28.7734 61.6492L29.2558 65.4797C29.2778 65.6834 29.2291 65.8884 29.1176 66.0615C29.006 66.2345 28.8382 66.3655 28.6414 66.433L28.4863 66.4895L26.2642 62.5687L28.7734 61.6492Z"\n            fill="#BA2026" />\n          <path\n            d="M25.9597 85.7999L14.8718 66.2355L26.7521 61.8973L29.7839 69.8573C31.3984 74.0356 33.3992 78.0597 35.7614 81.8791C35.8601 82.058 35.9177 82.256 35.9302 82.4591C35.9427 82.6622 35.9097 82.8656 35.8336 83.0548C35.7576 83.2441 35.6402 83.4147 35.4898 83.5546C35.3395 83.6946 35.1597 83.8005 34.9633 83.8649L27.8833 86.4543C27.5361 86.5904 27.1507 86.5991 26.7975 86.479C26.4443 86.3588 26.1469 86.1177 25.9597 85.7999Z"\n            fill="#262626" />\n          <path\n            d="M12.6554 66.2243L2.38863 41.5602C2.31862 41.4016 2.28249 41.2305 2.28247 41.0576C2.28245 40.8847 2.31854 40.7137 2.38851 40.555C2.45848 40.3964 2.56084 40.2535 2.68926 40.1353C2.81768 40.0171 2.96942 39.9261 3.1351 39.8678L18.7535 34.1587C19.0697 34.0425 19.4197 34.0531 19.728 34.1882C20.0363 34.3233 20.2782 34.572 20.4014 34.8808L30.674 59.5449C30.7413 59.7042 30.7752 59.8752 30.7736 60.0476C30.772 60.2201 30.735 60.3905 30.6647 60.5485C30.5945 60.7066 30.4924 60.849 30.3648 60.9674C30.2371 61.0858 30.0864 61.1776 29.9218 61.2373L14.3091 66.9351C13.9936 67.0522 13.644 67.0433 13.335 66.9105C13.026 66.7777 12.7821 66.5314 12.6554 66.2243Z"\n            fill="#DE1F26" />\n          <path\n            d="M71.5345 54.9132L53.9237 12.6028C53.7963 12.2978 53.7327 11.9707 53.7365 11.6411C53.7403 11.3114 53.8116 10.9858 53.946 10.6838C54.0805 10.3817 54.2754 10.1093 54.5191 9.88265C54.7629 9.65604 55.0505 9.47989 55.3649 9.36467L55.4683 9.33082C56.0765 9.10595 56.7501 9.12342 57.3455 9.37951C57.9408 9.6356 58.4108 10.1101 58.6551 10.7017L76.2717 53.0121C76.3981 53.3175 76.4609 53.6448 76.4563 53.9745C76.4517 54.3042 76.3798 54.6297 76.2448 54.9316C76.1099 55.2335 75.9147 55.5058 75.6708 55.7323C75.4269 55.9588 75.1392 56.1349 74.8247 56.2502L74.7271 56.2841C74.1179 56.5062 73.4446 56.4875 72.8492 56.2318C72.2537 55.9761 71.7824 55.5034 71.5345 54.9132Z"\n            fill="#E01F26" />\n          <g style="mix-blend-mode:multiply" opacity="0.17">\n            <path\n              d="M35.7616 81.8791C33.3995 78.0596 31.3986 74.0355 29.7841 69.8573L28.5037 66.4724L28.6415 66.4217C28.8383 66.3541 29.0061 66.2232 29.1177 66.0501C29.2292 65.877 29.2779 65.672 29.2559 65.4683L28.7735 61.6378L29.922 61.2147C30.0804 61.1605 30.2263 61.0757 30.3509 60.9653C30.4755 60.8549 30.5764 60.7211 30.6476 60.5718C30.7188 60.4225 30.7588 60.2607 30.7653 60.0959C30.7719 59.9312 30.7448 59.7668 30.6856 59.6125C34.8352 58.3451 39.0308 57.2469 43.2722 56.318C52.4167 54.3652 61.8199 53.8587 71.1269 54.8173L71.5174 54.8568C71.787 55.46 72.2834 55.9376 72.9029 56.1899C73.5223 56.4422 74.217 56.4496 74.842 56.2108C75.1506 56.1083 75.4349 55.9454 75.6777 55.732C75.9205 55.5186 76.1168 55.2591 76.2547 54.9692C76.3926 54.6792 76.4693 54.3648 76.4801 54.0449C76.4909 53.7251 76.4357 53.4063 76.3177 53.108L70.6733 39.5687C72.2121 37.5096 72.4418 34.0401 71.0178 30.6271L1.78017 55.9456C1.94095 56.3236 2.11895 56.6959 2.30844 57.0739L1.46436 57.3842C1.72769 57.8762 2.02306 58.3511 2.34863 58.8058L3.19271 58.5012C3.69961 59.2115 4.27661 59.871 4.91533 60.47L4.08273 60.7746C6.2429 62.7593 8.97428 64.0399 11.9034 64.4415L12.6499 66.2355C12.7903 66.5474 13.0477 66.7942 13.3685 66.9245C13.6893 67.0547 14.0489 67.0585 14.3725 66.935L15.1017 66.6699L25.9599 85.8224C26.1462 86.1338 26.4387 86.3704 26.7855 86.4902C27.1324 86.61 27.5112 86.6052 27.8548 86.4768L34.9348 83.8874C35.1369 83.8268 35.3228 83.7227 35.4787 83.5825C35.6346 83.4422 35.7567 83.2696 35.8359 83.0771C35.9152 82.8846 35.9496 82.6771 35.9368 82.4698C35.9239 82.2625 35.8641 82.0607 35.7616 81.8791Z"\n              fill="#231F20" />\n          </g>\n          <path\n            d="M67.4231 19.1582L68.3935 18.4361L78.8325 10.6509L72.545 9.3365L83.3343 0L69.1687 9.86115L74.9509 10.5945"\n            fill="white" />\n          <path\n            d="M81.4854 41.3796L82.5649 41.6955L94.0662 45.0803L92.5905 40.8888L105.654 43.9126L90.6726 39.0723L92.4699 42.7617"\n            fill="white" />\n        </svg>\n\n        <svg width="76" height="7" viewBox="0 0 76 7" fill="none" xmlns="http://www.w3.org/2000/svg"\n          style="margin-top: 8px;">\n          <g style="mix-blend-mode:multiply" opacity="0.19">\n            <path\n              d="M37.9086 6.0711C58.4266 6.0711 75.0597 4.91937 75.0597 3.49863C75.0597 2.07788 58.4266 0.926147 37.9086 0.926147C17.3907 0.926147 0.757568 2.07788 0.757568 3.49863C0.757568 4.91937 17.3907 6.0711 37.9086 6.0711Z"\n              fill="#1D62AF" />\n          </g>\n        </svg>\n\n        <span class="title">You have no new updates.</span>\n        <span class="message">Watch this space to get latest updates.</span>\n      </div>\n\n\t\t\t  <div id="iz-news-hub-posts-main-container">\n\t\t\t\t\x3c!--  start of posts --\x3e\n\t\t\n\t\t\t\t<div class="iz-news-hub-post-container iz-news-hub-notification-loader iz-d-flex iz-d-flex-row">\n\t\t\t\t  <div class="iz-news-hub-post-icon-wrapper-loader iz-animated-background"></div>\n\t\t\t\t  <div class="iz-news-hub-post-text-loader-container iz-d-flex iz-d-flex-col">\n\t\t\t\t\t<div class="iz-news-hub-post-heading-loader iz-animated-background"></div>\n\t\t\t\t\t<div class="iz-news-hub-post-message-loader iz-animated-background"></div>\n\t\t\t\t\t<div class="iz-news-hub-post-datetime-loader iz-animated-background"></div>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\n\t\t\t\t<div id="iz-news-hub-notification-"\n\t\t\t\t  class="iz-news-hub-post-container iz-news-hub-notification iz-d-flex iz-d-flex-row">\n\t\t\t\t  <div class="iz-news-hub-customer-icon-container">\n\t\t\t\t\t<img class="iz-news-hub-notification-icon" src="" alt="News 18 Icon" />\n\t\t\t\t  </div>\n\t\t\t\t  <div class="iz-news-hub-post-text-container">\n\t\t\t\t\t<span class="iz-news-hub-notification-title iz-text-body iz-black-color iz-line-clamp iz-line-clamp-2">Jaya\n\t\t\t\t\t  Bachchan to feature in a\n\t\t\t\t\t  film</span>\n\t\t\t\t\t<span\n\t\t\t\t\t  class="iz-news-hub-notification-message iz-text-body iz-black-color iz-line-clamp iz-line-clamp-3">Actress\n\t\t\t\t\t  Jaya Bachchan will reportedly return to acting after her 2016 special appearance in the film \'Ki &amp; Ka\'\n\t\t\t\t\t  and will star in an upcoming Marathi movie.\n\t\t\t\t\t  <a href="javascript:void(0)" class="iz-news-hub-notification-view-more">View More</a>\n\t\t\t\t\t</span>\n\t\t\n\t\t\t\t\t<span class="iz-news-hub-notification-createdAt iz-fs-12 iz-black-color-light">Jun 13, 4:56 PM</span>\n\t\t\t\t  </div>\n\t\t\t\t  <div class="iz-news-hub-post-options-container iz-d-flex iz-d-flex-col">\n\t\t\t\t\t<div class="iz-news-hub-notification-unread-indicator"></div>\n\t\t\n\t\t\t\t\t<button\n\t\t\t\t\t  class="iz-news-hub-notification-share-btn iz-news-hub-btn iz-news-hub-icon-btn iz-news-hub-btn-gray-at-hover iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center">\n\t\t\t\t\t  <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000">\n\t\t\t\t\t\t<path d="M0 0h24v24H0V0z" fill="none"></path>\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t  d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t  </svg>\n\t\t\t\t\t</button>\n\t\t\n\t\t\t\t\t<div class="iz-news-hub-notification-share-options-container iz-d-flex iz-d-flex-col">\n\t\t\t\t\t  <span class="options-text iz-black-color">Options</span>\n\t\t\t\t\t  <ul class="iz-news-hub-post-share-options-list">\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t  <a href="javascript:void(0)"\n\t\t\t\t\t\t\tclass="iz-d-flex iz-d-flex-row iz-align-item-center iz-black-color iz-text-body iz-news-hub-btn-gray-at-hover iz-news-hub-notification-mark-as-read">\n\t\t\t\t\t\t\t<svg width="22" height="20" viewBox="0 0 22 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\td="M1 1H7C8.06087 1 9.07828 1.42143 9.82843 2.17157C10.5786 2.92172 11 3.93913 11 5V19C11 18.2044 10.6839 17.4413 10.1213 16.8787C9.55871 16.3161 8.79565 16 8 16H1V1Z"\n\t\t\t\t\t\t\t\tstroke="#3E3E3E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\td="M21 1H15C13.9391 1 12.9217 1.42143 12.1716 2.17157C11.4214 2.92172 11 3.93913 11 5V19C11 18.2044 11.3161 17.4413 11.8787 16.8787C12.4413 16.3161 13.2044 16 14 16H21V1Z"\n\t\t\t\t\t\t\t\tstroke="#3E3E3E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\n\t\t\t\t\t\t\t<span>Mark as read</span>\n\t\t\t\t\t\t  </a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t  <a href="javascript:void(0)"\n\t\t\t\t\t\t\tclass="iz-d-flex iz-d-flex-row iz-align-item-center iz-black-color iz-text-body iz-news-hub-btn-gray-at-hover iz-news-hub-notification-share-link">\n\t\t\t\t\t\t\t<svg width="20" height="22" viewBox="0 0 20 22" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\td="M16 7C17.6569 7 19 5.65685 19 4C19 2.34315 17.6569 1 16 1C14.3431 1 13 2.34315 13 4C13 5.65685 14.3431 7 16 7Z"\n\t\t\t\t\t\t\t\tstroke="#3E3E3E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\td="M4 14C5.65685 14 7 12.6569 7 11C7 9.34315 5.65685 8 4 8C2.34315 8 1 9.34315 1 11C1 12.6569 2.34315 14 4 14Z"\n\t\t\t\t\t\t\t\tstroke="#3E3E3E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n\t\t\t\t\t\t\t  <path\n\t\t\t\t\t\t\t\td="M16 21C17.6569 21 19 19.6569 19 18C19 16.3431 17.6569 15 16 15C14.3431 15 13 16.3431 13 18C13 19.6569 14.3431 21 16 21Z"\n\t\t\t\t\t\t\t\tstroke="#3E3E3E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n\t\t\t\t\t\t\t  <path d="M6.58984 12.51L13.4198 16.49" stroke="#3E3E3E" stroke-width="2" stroke-linecap="round"\n\t\t\t\t\t\t\t\tstroke-linejoin="round"></path>\n\t\t\t\t\t\t\t  <path d="M13.4098 5.51001L6.58984 9.49001" stroke="#3E3E3E" stroke-width="2"\n\t\t\t\t\t\t\t\tstroke-linecap="round" stroke-linejoin="round"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\n\t\t\t\t\t\t\t<span>Share</span>\n\t\t\t\t\t\t  </a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t  </ul>\n\t\t\t\t\t</div>\n\t\t\t\t  </div>\n\t\t\t\t</div>\n\t\t\n\t\t\t\t\x3c!--  //end of posts --\x3e\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t<div id="iz-news-hub-notification-footer">\n\t\t\t  <span class="iz-fs-12 iz-black-color"> <strong>News Hub</strong> Powered by <a\n\t\t\t\t  href="https://www.izooto.com/campaign/getting-started-with-izooto?utm_source=referral&utm_medium=PoweredBy&utm_campaign={Website_Name}"\n\t\t\t\t  target="_blank" class="iz-news-hub-branding-text">iZooto</a> </span>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n\t\t\n\t\t<div class="iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center" id="iz-news-hub-popup-sharing">\n\t\t  <div class="iz-news-hub-post-share-container iz-d-flex iz-d-flex-col">\n\t\t\t\x3c!-- SHARING-POP-UP-META-FETCHER-LOADER --\x3e\n\t\t\t<div class="iz-d-flex iz-d-flex-row" id="iz-news-hub-popup-animated-loader" style="display:none;">\n\t\t\t  <div class="iz-news-hub-post-share-img-loader-container iz-animated-background"></div>\n\t\t\t  <div class="iz-news-hub-post-share-content-loader-container iz-d-flex iz-d-flex-col">\n\t\t\t\t<div class="iz-news-hub-post-share-title-text-loader iz-animated-background"></div>\n\t\t\t\t<div class="iz-news-hub-post-share-title-text-loader iz-animated-background"></div>\n\t\t\t\t<div class="iz-news-hub-post-share-title-text-loader iz-animated-background"></div>\n\t\t\n\t\t\t\t<div class="iz-news-hub-post-share-message-text-loader-wrapper">\n\t\t\t\t  <div class="iz-news-hub-post-share-message-text-loader iz-animated-background"></div>\n\t\t\t\t  <div class="iz-news-hub-post-share-message-text-loader iz-animated-background"></div>\n\t\t\t\t  <div class="iz-news-hub-post-share-message-text-loader iz-animated-background"></div>\n\t\t\t\t  <div class="iz-news-hub-post-share-message-text-loader iz-animated-background"></div>\n\t\t\t\t  <div class="iz-news-hub-post-share-message-text-loader iz-animated-background"></div>\n\t\t\t\t</div>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\t\x3c!-- END-OF-SHARING-POP-UP-META-FETCHER-LOADER --\x3e\n\t\t\t<div class="iz-d-flex iz-d-flex-row" id="iz-news-hub-popup-content">\n\t\t\t  <div class="iz-news-hub-post-share-img-container">\n\t\t\t\t<img id="iz-news-hub-popup-image" src="" alt="Post Image" />\n\t\t\t  </div>\n\t\t\t  <div class="iz-news-hub-post-share-content-container iz-d-flex iz-d-flex-col">\n\t\t\t\t<span id="iz-news-hub-popup-title" class="iz-news-hub-post-share-title-text iz-text-body iz-black-color"></span>\n\t\t\t\t<span id="iz-news-hub-popup-message"\n\t\t\t\t  class="iz-news-hub-post-share-message-text iz-line-clamp iz-line-clamp-7 iz-text-body iz-black-color-light"></span>\n\t\t\t  </div>\n\t\t\t</div>\n\t\t\n\t\t\t<div class="iz-news-hub-post-share-on-social-media-container">\n\t\t\t  <span class="iz-news-hub-post-share-text iz-black-color">Share</span>\n\t\t\t  <ul class="iz-d-flex iz-d-flex-row iz-d-flex-space-btwn iz-align-item-center">\n\t\t\t\t<li>\n\t\t\t\t  <a href="javascript:void(0)" id="iz-news-hub-social-share-whatsapp"\n\t\t\t\t\tclass="iz-d-flex iz-d-flex-col iz-align-item-center">\n\t\t\t\t\t<div\n\t\t\t\t\t  class="iz-news-hub-icon-container iz-whatsapp-icon iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center">\n\t\t\t\t\t  <svg fill="#ffffff" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="48px" height="48px">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t  d="M 12.011719 2 C 6.5057187 2 2.0234844 6.478375 2.0214844 11.984375 C 2.0204844 13.744375 2.4814687 15.462563 3.3554688 16.976562 L 2 22 L 7.2324219 20.763672 C 8.6914219 21.559672 10.333859 21.977516 12.005859 21.978516 L 12.009766 21.978516 C 17.514766 21.978516 21.995047 17.499141 21.998047 11.994141 C 22.000047 9.3251406 20.962172 6.8157344 19.076172 4.9277344 C 17.190172 3.0407344 14.683719 2.001 12.011719 2 z M 12.009766 4 C 14.145766 4.001 16.153109 4.8337969 17.662109 6.3417969 C 19.171109 7.8517969 20.000047 9.8581875 19.998047 11.992188 C 19.996047 16.396187 16.413812 19.978516 12.007812 19.978516 C 10.674812 19.977516 9.3544062 19.642812 8.1914062 19.007812 L 7.5175781 18.640625 L 6.7734375 18.816406 L 4.8046875 19.28125 L 5.2851562 17.496094 L 5.5019531 16.695312 L 5.0878906 15.976562 C 4.3898906 14.768562 4.0204844 13.387375 4.0214844 11.984375 C 4.0234844 7.582375 7.6067656 4 12.009766 4 z M 8.4765625 7.375 C 8.3095625 7.375 8.0395469 7.4375 7.8105469 7.6875 C 7.5815469 7.9365 6.9355469 8.5395781 6.9355469 9.7675781 C 6.9355469 10.995578 7.8300781 12.182609 7.9550781 12.349609 C 8.0790781 12.515609 9.68175 15.115234 12.21875 16.115234 C 14.32675 16.946234 14.754891 16.782234 15.212891 16.740234 C 15.670891 16.699234 16.690438 16.137687 16.898438 15.554688 C 17.106437 14.971687 17.106922 14.470187 17.044922 14.367188 C 16.982922 14.263188 16.816406 14.201172 16.566406 14.076172 C 16.317406 13.951172 15.090328 13.348625 14.861328 13.265625 C 14.632328 13.182625 14.464828 13.140625 14.298828 13.390625 C 14.132828 13.640625 13.655766 14.201187 13.509766 14.367188 C 13.363766 14.534188 13.21875 14.556641 12.96875 14.431641 C 12.71875 14.305641 11.914938 14.041406 10.960938 13.191406 C 10.218937 12.530406 9.7182656 11.714844 9.5722656 11.464844 C 9.4272656 11.215844 9.5585938 11.079078 9.6835938 10.955078 C 9.7955938 10.843078 9.9316406 10.663578 10.056641 10.517578 C 10.180641 10.371578 10.223641 10.267562 10.306641 10.101562 C 10.389641 9.9355625 10.347156 9.7890625 10.285156 9.6640625 C 10.223156 9.5390625 9.737625 8.3065 9.515625 7.8125 C 9.328625 7.3975 9.131125 7.3878594 8.953125 7.3808594 C 8.808125 7.3748594 8.6425625 7.375 8.4765625 7.375 z">\n\t\t\t\t\t\t</path>\n\t\t\t\t\t  </svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="social-media-platform-text iz-text-body iz-black-color">WhatsApp</span>\n\t\t\t\t  </a>\n\t\t\t\t</li>\n\t\t\n\t\t\t\t<li>\n\t\t\t\t  <a href="javascript:void(0)" id="iz-news-hub-social-share-facebook"\n\t\t\t\t\tclass="iz-d-flex iz-d-flex-col iz-align-item-center">\n\t\t\t\t\t<div\n\t\t\t\t\t  class="iz-news-hub-icon-container iz-facebook-icon iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center">\n\t\t\t\t\t  <svg width="13" height="24" viewBox="0 0 13 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t  d="M13 0H9.45455C7.88736 0 6.38436 0.632141 5.27619 1.75736C4.16802 2.88258 3.54545 4.4087 3.54545 6V9.6H0V14.4H3.54545V24H8.27273V14.4H11.8182L13 9.6H8.27273V6C8.27273 5.68174 8.39724 5.37652 8.61887 5.15147C8.84051 4.92643 9.14111 4.8 9.45455 4.8H13V0Z"\n\t\t\t\t\t\t  fill="white"></path>\n\t\t\t\t\t  </svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="social-media-platform-text iz-text-body iz-black-color">Facebook</span>\n\t\t\t\t  </a>\n\t\t\t\t</li>\n\t\t\n\t\t\t\t<li>\n\t\t\t\t  <a href="javascript:void(0)" id="iz-news-hub-social-share-twitter"\n\t\t\t\t\tclass="iz-d-flex iz-d-flex-col iz-align-item-center">\n\t\t\t\t\t<div\n\t\t\t\t\t  class="iz-news-hub-icon-container iz-twitter-icon iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center">\n\t\t\t\t\t  <svg width="22" height="18" viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t  d="M22 0.0100557C21.0424 0.685533 19.9821 1.20217 18.86 1.54006C18.2577 0.847566 17.4573 0.356748 16.567 0.133982C15.6767 -0.0887839 14.7395 -0.0327487 13.8821 0.294509C13.0247 0.621767 12.2884 1.20446 11.773 1.96377C11.2575 2.72309 10.9877 3.62239 11 4.54006V5.54006C9.24263 5.58562 7.50127 5.19587 5.93101 4.4055C4.36074 3.61513 3.01032 2.44869 2 1.01006C2 1.01006 -2 10.0101 7 14.0101C4.94053 15.408 2.48716 16.109 0 16.0101C9 21.0101 20 16.0101 20 4.51006C19.9991 4.23151 19.9723 3.95365 19.92 3.68006C20.9406 2.67355 21.6608 1.40277 22 0.0100557Z"\n\t\t\t\t\t\t  fill="white"></path>\n\t\t\t\t\t  </svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="social-media-platform-text iz-text-body iz-black-color">Twitter</span>\n\t\t\t\t  </a>\n\t\t\t\t</li>\n\t\t\n\t\t\t\t<li>\n\t\t\t\t  <a href="javascript:void(0)" id="iz-news-hub-social-share-mail"\n\t\t\t\t\tclass="iz-d-flex iz-d-flex-col iz-align-item-center">\n\t\t\t\t\t<div\n\t\t\t\t\t  class="iz-news-hub-icon-container iz-mail-icon iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center">\n\t\t\t\t\t  <svg width="22" height="18" viewBox="0 0 22 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path d="M3 1H19C20.1 1 21 1.9 21 3V15C21 16.1 20.1 17 19 17H3C1.9 17 1 16.1 1 15V3C1 1.9 1.9 1 3 1Z"\n\t\t\t\t\t\t  stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>\n\t\t\t\t\t\t<path d="M21 3L11 10L1 3" stroke="white" stroke-width="2" stroke-linecap="round"\n\t\t\t\t\t\t  stroke-linejoin="round"></path>\n\t\t\t\t\t  </svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="social-media-platform-text iz-text-body iz-black-color">Mail</span>\n\t\t\t\t  </a>\n\t\t\t\t</li>\n\t\t\n\t\t\t\t<li>\n\t\t\t\t  <a href="javascript:void(0)" id="iz-news-hub-social-share-linkedin"\n\t\t\t\t\tclass="iz-d-flex iz-d-flex-col iz-align-item-center">\n\t\t\t\t\t<div\n\t\t\t\t\t  class="iz-news-hub-icon-container iz-linkedin-icon iz-d-flex iz-d-flex-col iz-d-flex-center iz-align-item-center">\n\t\t\t\t\t  <svg width="100%" height="100%" viewBox="0 0 26 25" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path\n\t\t\t\t\t\t  d="M5.41667 2.71739C5.41667 4.23913 4.225 5.43478 2.70833 5.43478C1.19167 5.43478 0 4.23913 0 2.71739C0 1.19565 1.19167 0 2.70833 0C4.225 0 5.41667 1.19565 5.41667 2.71739ZM5.41667 7.6087H0V25H5.41667V7.6087ZM14.0833 7.6087H8.66667V25H14.0833V15.8696C14.0833 10.7609 20.5833 10.3261 20.5833 15.8696V25H26V14.0217C26 5.43478 16.3583 5.76087 14.0833 10V7.6087Z"\n\t\t\t\t\t\t  fill="white" />\n\t\t\t\t\t  </svg>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="social-media-platform-text iz-text-body iz-black-color">LinkedIn</span>\n\t\t\t\t  </a>\n\t\t\t\t</li>\n\t\t\t  </ul>\n\t\t\t</div>\n\t\t\n\t\t\t<div class="iz-news-hub-copy-post-link-container">\n\t\t\t  <input type="text" name="iz-news-hub-social-share-link" id="iz-news-hub-social-share-link" value="" disabled="" />\n\t\t\t  <button type="button" id="iz-news-hub-copy-btn" class="iz-news-hub-btn">COPY</button>\n\t\t\t</div>\n\t\t\n\t\t\t<div class="iz-news-hub-cancel-share-container iz-d-flex iz-d-flex-row iz-d-flex-center iz-align-item-center">\n\t\t\t  <button type="button" id="iz-news-hub-popup-close"\n\t\t\t\tclass="iz-news-hub-close-sharing-dialog iz-news-hub-btn">Close</button>\n\t\t\t</div>\n\t\t  </div>\n\t\t</div>\n\t\t\n\t\t<style>\n\t\t  body {\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t\tfont-family: "Roboto", sans-serif;\n\t\t\tbox-sizing: border-box;\n\t\t  }\n\t\t\n\t\t  * {\n\t\t\tfont-family: "Roboto", sans-serif;\n\t\t\tbox-sizing: border-box;\n\t\t  }\n\t\t\n\t\t  /* COMMOM-STYLES */\n\t\t\n\t\t  .iz-d-flex {\n\t\t\tdisplay: flex;\n\t\t  }\n\t\t\n\t\t  .iz-d-flex-row {\n\t\t\tflex-direction: row;\n\t\t  }\n\t\t\n\t\t  .iz-d-flex-space-btwn {\n\t\t\tjustify-content: space-between;\n\t\t  }\n\t\t\n\t\t  .iz-d-flex-center {\n\t\t\tjustify-content: center;\n\t\t  }\n\t\t\n\t\t  .iz-d-flex-col {\n\t\t\tflex-direction: column;\n\t\t  }\n\t\t\n\t\t  .iz-flex-wrap {\n\t\t\tflex-wrap: wrap;\n\t\t  }\n\t\t\n\t\t  .iz-align-item-center {\n\t\t\talign-items: center;\n\t\t  }\n\t\t\n\t\t  .iz-text-body {\n\t\t\tfont: 400 14px/24px "Roboto", sans-serif;\n\t\t\tletter-spacing: normal;\n\t\t  }\n\t\t\n\t\t  .iz-fs-12 {\n\t\t\tfont-size: 12px;\n\t\t  }\n\t\t\n\t\t  .iz-black-color {\n\t\t\tcolor: rgba(0, 0, 0, 0.87) !important;\n\t\t  }\n\t\t\n\t\t  .iz-black-color-light {\n\t\t\tcolor: rgba(0, 0, 0, 0.54) !important;\n\t\t  }\n\t\t\n\t\t  .iz-line-clamp {\n\t\t\tdisplay: block;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\tposition: relative;\n\t\t\tline-height: 1.25;\n\t\t\tword-break: break-word;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tpadding: 0;\n\t\t  }\n\t\t\n\t\t\n\t\t  .iz-line-clamp-3,\n\t\t  .iz-line-clamp-4 {\n\t\t\tline-height: 1.25em !important;\n\t\t  }\n\t\t\n\t\t  @supports (-webkit-line-clamp: 1) {\n\t\t\t.iz-line-clamp:after {\n\t\t\t  display: none !important;\n\t\t\t}\n\t\t  }\n\t\t\n\t\t  .iz-line-clamp-1 {\n\t\t\t-webkit-line-clamp: 1;\n\t\t\tmax-height: calc(1em * 1.5 * 1);\n\t\t  }\n\t\t\n\t\t  .iz-line-clamp-2 {\n\t\t\t-webkit-line-clamp: 2;\n\t\t\tmax-height: calc(1em * 1.75 * 2);\n\t\t  }\n\t\t\n\t\t  .iz-line-clamp-3 {\n\t\t\t-webkit-line-clamp: 3;\n\t\t\tmax-height: calc(1em * 1.5 * 3);\n\t\t  }\n\t\t\n\t\t  .iz-line-clamp-7 {\n\t\t\t-webkit-line-clamp: 7;\n\t\t\tmax-height: calc(1em * 1.5 * 7);\n\t\t  }\n\t\t\n\t\t  .iz-news-hub-btn {\n\t\t\tbox-sizing: border-box;\n\t\t\tposition: relative;\n\t\t\t-webkit-user-select: none;\n\t\t\t-moz-user-select: none;\n\t\t\t-ms-user-select: none;\n\t\t\tuser-select: none;\n\t\t\tcursor: pointer;\n\t\t\toutline: none;\n\t\t\tborder: none;\n\t\t\t-webkit-tap-highlight-color: transparent;\n\t\t\tdisplay: inline-block;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-decoration: none;\n\t\t\tvertical-align: baseline;\n\t\t\ttext-align: center;\n\t\t\tmargin: 0;\n\t\t\tmin-width: 64px;\n\t\t\tline-height: 36px;\n\t\t\tpadding: 0 16px;\n\t\t\tborder-radius: 4px;\n\t\t\toverflow: visible;\n\t\t\ttransition: background-color ease-in 0.1s;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-btn-gray-at-hover:hover,\n\t\t  .iz-news-hub-btn-gray-at-hover:hover {\n\t\t\tbackground-color: rgba(154, 160, 166, 0.2) !important;\n\t\t  }\n\t\t\n\t\t  .iz-news-hub-icon-btn {\n\t\t\tpadding: 0;\n\t\t\tmin-width: 0;\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tflex-shrink: 0;\n\t\t\tline-height: 40px;\n\t\t\tborder-radius: 50%;\n\t\t  }\n\t\t\n\t\t  @keyframes placeHolderShimmer {\n\t\t\t0% {\n\t\t\t  background-position: -468px 0;\n\t\t\t}\n\t\t\n\t\t\t100% {\n\t\t\t  background-position: 468px 0;\n\t\t\t}\n\t\t  }\n\t\t\n\t\t  .iz-animated-background {\n\t\t\tanimation-duration: 1.25s;\n\t\t\tanimation-fill-mode: forwards;\n\t\t\tanimation-iteration-count: infinite;\n\t\t\tanimation-name: placeHolderShimmer;\n\t\t\tanimation-timing-function: linear;\n\t\t\tbackground: #f6f6f6;\n\t\t\tbackground: linear-gradient(to right, #f6f6f6 8%, #f0f0f0 18%, #f6f6f6 33%);\n\t\t\tbackground-size: 800px 104px;\n\t\t\tposition: relative;\n\t\t  }\n\n\t\t  /* SWING-ANIMATION */\n\t\t  @-webkit-keyframes izootoSwing {\n\t\t\t20% {\n\t\t\t  -webkit-transform: rotate(15deg);\n\t\t\t  transform: rotate(15deg);\n\t\t\t}\n\t\t  \n\t\t\t40% {\n\t\t\t  -webkit-transform: rotate(-10deg);\n\t\t\t  transform: rotate(-10deg);\n\t\t\t}\n\t\t  \n\t\t\t60% {\n\t\t\t  -webkit-transform: rotate(5deg);\n\t\t\t  transform: rotate(5deg);\n\t\t\t}\n\t\t  \n\t\t\t80% {\n\t\t\t  -webkit-transform: rotate(-5deg);\n\t\t\t  transform: rotate(-5deg);\n\t\t\t}\n\t\t  \n\t\t\tto {\n\t\t\t  -webkit-transform: rotate(0deg);\n\t\t\t  transform: rotate(0deg);\n\t\t\t}\n\t\t  }\n\t\t  \n\t\t  @keyframes izootoSwing {\n\t\t\t20% {\n\t\t\t  -webkit-transform: rotate(15deg);\n\t\t\t  transform: rotate(15deg);\n\t\t\t}\n\t\t  \n\t\t\t40% {\n\t\t\t  -webkit-transform: rotate(-10deg);\n\t\t\t  transform: rotate(-10deg);\n\t\t\t}\n\t\t  \n\t\t\t60% {\n\t\t\t  -webkit-transform: rotate(5deg);\n\t\t\t  transform: rotate(5deg);\n\t\t\t}\n\t\t  \n\t\t\t80% {\n\t\t\t  -webkit-transform: rotate(-5deg);\n\t\t\t  transform: rotate(-5deg);\n\t\t\t}\n\t\t  \n\t\t\tto {\n\t\t\t  -webkit-transform: rotate(0deg);\n\t\t\t  transform: rotate(0deg);\n\t\t\t}\n\t\t  }\n\n    \t/* SLIDE-IN-RIGHT-ANIMATION */\n\t\t@-webkit-keyframes izootoSlideInRight {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(100%, 0, 0);\n\t\t\ttransform: translate3d(100%, 0, 0);\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translateZ(0);\n\t\t\ttransform: translateZ(0);\n\t\t}\n\t\t}\n\n\t\t@keyframes izootoSlideInRight {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(100%, 0, 0);\n\t\t\ttransform: translate3d(100%, 0, 0);\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translateZ(0);\n\t\t\ttransform: translateZ(0);\n\t\t}\n\t\t}\n\n\n\t\t/* SLIDE-OUT-RIGHT-ANIMATION */\n\t\t@-webkit-keyframes izootoSlideOutRight {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(0, 0, 0);\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translate3d(100%, 0, 0);\n\t\t\ttransform: translate3d(100%, 0, 0);\n\t\t}\n\t\t}\n\n\t\t@keyframes izootoSlideOutRight {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(0, 0, 0);\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translate3d(100%, 0, 0);\n\t\t\ttransform: translate3d(100%, 0, 0);\n\t\t}\n\t\t}\n\n\n\t\t/* SLIDE-IN-LEFT-ANIMATION */\n\t\t@-webkit-keyframes izootoSlideInLeft {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(-100%, 0, 0);\n\t\t\ttransform: translate3d(-100%, 0, 0);\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translateZ(0);\n\t\t\ttransform: translateZ(0);\n\t\t}\n\t\t}\n\n\t\t@keyframes izootoSlideInLeft {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(-100%, 0, 0);\n\t\t\ttransform: translate3d(-100%, 0, 0);\n\t\t\tvisibility: visible;\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translateZ(0);\n\t\t\ttransform: translateZ(0);\n\t\t}\n\t\t}\n\n\t\t/* SLIDE-OUT-LEFT-ANIMATION */\n\t\t@-webkit-keyframes izootoSlideOutLeft {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(0, 0, 0);\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translate3d(-100%, 0, 0);\n\t\t\ttransform: translate3d(-100%, 0, 0);\n\t\t}\n\t\t}\n\n\t\t@keyframes izootoSlideOutLeft {\n\t\t0% {\n\t\t\t-webkit-transform: translate3d(0, 0, 0);\n\t\t\ttransform: translate3d(0, 0, 0);\n\t\t}\n\n\t\tto {\n\t\t\t-webkit-transform: translate3d(-100%, 0, 0);\n\t\t\ttransform: translate3d(-100%, 0, 0);\n\t\t}\n\t\t}\n\n\t\t\n\t\t  /* END-OF-COMMON-STYLES */\n\t\t\n\t\t  #iz-news-hub-main-container {\n\t\t\tposition: relative;\n\t\t\twidth: 100%;\n\t\t\theight: 100vh;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container {\n\t\t\tposition: fixed;\n\t\t\tz-index: 9999999999;\n\t\t\tmax-width:57px;\n\t\t  }\n\n\t\t  .izooto-news-hub-swing-animation{\n\t\t\twebkit-animation-name: izootoSwing;\n\t\t\tanimation-name: izootoSwing;\n\t\t\twebkit-animation-duration: 0.8s;\n\t\t\tanimation-duration: 0.8s;\n\t\t\t-webkit-animation-fill-mode: none;\n\t\t\tanimation-fill-mode: none;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-bottom-right {\n\t\t\tbottom: 20px;\n\t\t\tright: 21px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-bottom-left {\n\t\t\tbottom: 20px;\n\t\t\tleft: 21px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-top-left #iz-news-hub-bell-icon-tooltip,\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-top-right #iz-news-hub-bell-icon-tooltip {\n\t\t\ttop: 60px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-top-right #iz-news-hub-bell-icon-tooltip,\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-bottom-right #iz-news-hub-bell-icon-tooltip {\n\t\t\tleft: unset;\n\t\t\tright: 0;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-top-right {\n\t\t\ttop: 18px;\n\t\t\tright: 20px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon.iz-news-hub-floating-icon-container-top-left {\n\t\t\ttop: 18px;\n\t\t\tleft: 20px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon #iz-news-hub-icon-container {\n\t\t\twidth: 57px;\n\t\t\theight: 57px;\n\t\t\tdisplay: flex;\n\t\t\tposition: relative;\n\t\t\tflex-flow: column wrap;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: #1d85fc;\n\t\t\tcursor: pointer;\n\t\t\tbox-shadow: 0px 2px 9px rgba(0, 0, 0, 0.25);\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-bell-icon-tooltip {\n\t\t\tdisplay: none;\n\t\t\tfont-size: 14px;\n\t\t\ttransition: all ease-in 0.1s;\n\t\t\tposition: absolute;\n\t\t\ttop: -30px;\n\t\t\tleft: 0;\n\t\t\tbackground-color: rgba(97, 97, 97, .9);\n\t\t\tcolor: #fff;\n\t\t\tborder-radius: 4px;\n\t\t\twidth: 81px;\n\t\t\tmax-width: 100px;\n\t\t\tpadding: 4px 8px;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon #iz-news-hub-icon-container:hover>#iz-news-hub-bell-icon-tooltip {\n\t\t\tdisplay: block;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-floating-icon .iz-news-hub-main-icon,\n\t\t  #iz-news-hub-sticky-sidebar .iz-news-hub-main-icon {\n\t\t\twidth: 24px;\n\t\t\theight: 24px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-sticky-sidebar.iz-news-hub-sidebar-container {\n\t\t\twidth: 164px;\n\t\t\tmax-height: 41px;\n\t\t\tpadding: 10px 16px;\n\t\t\tcolor: #ffffff;\n\t\t\tbackground-color: #1d85fc;\n\t\t\tposition: fixed;\n\t\t\tz-index: 9999999999;\n\t\t\tright: -2px;\n\t\t\tbottom: 50%;\n\t\t\tcursor: pointer;\n\t\t\ttransform: rotate(-90deg) translate(0, 60px);\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-sticky-sidebar.iz-news-hub-sidebar-container-left {\n\t\t\tright: unset;\n\t\t\tleft: -122px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-sidebar-text {\n\t\t\tmargin-left: 15px;\n\t\t\tfont-size: 18px;\n\t\t\tfont-weight: 700;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container.iz-news-hub-notification-container {\n\t\t\tdisplay: none;\n\t\t\twidth: 390px;\n\t\t\theight: auto;\n\t\t\tposition: fixed;\n\t\t\tz-index: 99999999999;\n\t\t\tright: 0;\n\t\t\ttop: 0;\n\t\t\tbackground: #ffffff;\n\t\t\tborder-top-left-radius: 6px;\n\t\t\tbox-shadow: 0px 4px 15px rgb(0 0 0 / 39%);\n\t\t\twebkit-animation-duration: .8s;\n\t\t\tanimation-duration: .8s;\n\t\t\t-webkit-animation-fill-mode: none;\n\t\t\tanimation-fill-mode: none;\n\t\t  }\n\n\t\t  .izooto-slide-in-right-animation{\n\t\t\twebkit-animation-name: izootoSlideInRight;\n\t\t\tanimation-name: izootoSlideInRight;\n\t\t  }\n\n\t\t  .izooto-slide-out-right-animation{\n\t\t\twebkit-animation-name: izootoSlideOutRight;\n\t\t\tanimation-name: izootoSlideOutRight;\n\t\t  }\n\n\t\t  .izooto-slide-in-left-animation{\n\t\t\twebkit-animation-name: izootoSlideInLeft;\n\t\t\tanimation-name: izootoSlideInLeft;\n\t\t  }\n\n\t\t  .izooto-slide-out-left-animation{\n\t\t\twebkit-animation-name: izootoSlideOutLeft;\n\t\t\tanimation-name: izootoSlideOutLeft;\n\t\t  }\n\n\t\t  #iz-news-hub-notification-container.iz-news-hub-notification-container-left {\n\t\t\tright: unset;\n\t\t\tleft: 0;\n\t\t\tborder-top-left-radius: 0px;\n\t\t\tborder-top-right-radius: 6px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-header {\n\t\t\twidth: 100%;\n\t\t\tmax-width: 390px;\n\t\t\tposition: fixed;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-title-container {\n\t\t\tbox-sizing: border-box;\n\t\t\tpadding: 20.5px;\n\t\t\tmax-height: 59px;\n\t\t\tbackground: #1d85fc;\n\t\t\tborder-top-left-radius: 6px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container.iz-news-hub-notification-container-left #iz-news-hub-title-container {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 6px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-title-container svg {\n\t\t\tvertical-align: middle;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-header-title-text {\n\t\t\tfont-size: 18px;\n\t\t\tmargin-left: 10px;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #ffffff;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-close-news-hub-btn {\n\t\t\tdisplay: flex;\n\t\t\twidth: 28px;\n\t\t\theight: 28px;\n\t\t\tline-height: 28px;\n\t\t\tbackground-color: transparent;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notifications-body-container {\n\t\t\twidth: 100%;\n\t\t\tmargin-top: 59px;\n\t\t\theight: calc(100vh - 59px);\n\t\t\tposition: relative;\n\t\t\toverflow-y: auto;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-posts-header {\n\t\t\twidth: 100%;\n\t\t\tmax-width: 390px;\n\t\t\tmax-height: 30px;\n\t\t\tposition: fixed;\n\t\t\tz-index: 1;\n\t\t\tpadding: 10px 20.5px;\n\t\t\tbackground-color: #f3f3f3;\n\t\t\tbox-sizing: border-box;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-posts-header span {\n\t\t\tfont-weight: 500;\n\t\t\tcolor: rgba(0, 0, 0, 0.87);\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-posts-main-container {\n\t\t\tmargin-top: 30px;\n\t\t\tmargin-bottom: 23px;\n\t\t  }\n\n\t\t  #iz-news-hub-no-notifications-container {\n\t\t\theight: 100%;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-no-notifications-container .title {\n\t\t\tmargin-top: 13px;\n\t\t\tmargin-bottom: 5px;\n\t\t\tfont-size: 20px;\n\t\t\tfont-weight: 700;\n\t\t\tcolor: #374163;\n\t\t\tline-height: 24px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-no-notifications-container .message {\n\t\t\tfont-weight: 400;\n\t\t\tfont-size: 15px;\n\t\t\tcolor: #374163;\n\t\t\tline-height: 18px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-mark-all-as-read-btn {\n\t\t\tfont-weight: 500;\n\t\t\ttext-decoration: none;\n\t\t\tbackground-color: transparent;\n\t\t\tcolor: rgba(0, 0, 0, 0.87);\n\t\t\tline-height: 28px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-mark-all-as-read-btn:hover {\n\t\t\ttext-decoration: underline;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-loader {\n\t\t\twidth: 100%;\n\t\t\tpadding: 10px 15px;\n\t\t\tbackground-color: #ffffff;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-loader.iz-news-hub-post-container:hover {\n\t\t\tbackground-color: transparent;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-icon-wrapper-loader {\n\t\t\twidth: 32px;\n\t\t\tmin-width: 32px;\n\t\t\theight: 32px;\n\t\t\tborder-radius: 50%;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-loader-container {\n\t\t\twidth: 100%;\n\t\t\tpadding-left: 10px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-loader-container .iz-news-hub-post-heading-loader {\n\t\t\twidth: 100%;\n\t\t\theight: 18px;\n\t\t\tmargin-bottom: 5px;\n\t\t\tborder-radius: 3px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-loader-container .iz-news-hub-post-message-loader {\n\t\t\twidth: 100%;\n\t\t\theight: 17px;\n\t\t\tmargin-bottom: 5px;\n\t\t\tborder-radius: 3px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-loader-container .iz-news-hub-post-datetime-loader {\n\t\t\twidth: 63px;\n\t\t\theight: 10px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-container {\n\t\t\twidth: 100%;\n\t\t\tpadding: 10px 15px;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: #ffffff;\n\t\t\tborder-bottom: 1px solid #e5e5e5;\n\t\t\ttransition: background-color ease-in 0.1s;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-container:hover {\n\t\t\tbackground-color: #f9f9f9;\n\t\t  }\n\t\t\n\t\t  .iz-news-hub-customer-icon-container img {\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tmax-width: 100%;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-container {\n\t\t\twidth: 289px;\n\t\t\tposition: relative;\n\t\t\tpadding-left: 10px;\n\t\t\tpadding-right: 5px;\n\t\t\tbox-sizing: border-box;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-container .iz-news-hub-notification-title {\n\t\t\tfont-weight: bold;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-container .iz-news-hub-notification-message {\n\t\t\tpadding-top: 5px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-container .iz-news-hub-notification-view-more {\n\t\t\ttext-decoration: none;\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #1D85FC;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-text-container .iz-news-hub-notification-createdAt {\n\t\t\tdisplay: block;\n\t\t\tmargin-top: 5px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-options-container {\n\t\t\twidth: 30px;\n\t\t\tposition: relative;\n\t\t\talign-items: flex-end;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-unread-indicator {\n\t\t\twidth: 8px;\n\t\t\theight: 8px;\n\t\t\tposition: absolute;\n\t\t\tright: 5px;\n\t\t\ttop: 30%;\n\t\t\tborder-radius: 50%;\n\t\t\tbackground-color: #1d85fc;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-share-btn {\n\t\t\tdisplay: none;\n\t\t\tmin-width: 28px;\n\t\t\tmax-width: 28px;\n\t\t\theight: 28px;\n\t\t\tpadding: 0;\n\t\t\tline-height: unset;\n\t\t\tbackground-color: transparent;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-post-container:hover .iz-news-hub-notification-share-btn {\n\t\t\tdisplay: flex;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-share-options-container {\n\t\t\tdisplay: none;\n\t\t\twidth: 166px;\n\t\t\tz-index: 3;\n\t\t\tposition: absolute;\n\t\t\tright: 0;\n\t\t\ttop: 0;\n\t\t\tbackground: #ffffff;\n\t\t\tbox-shadow: 0px 2px 7px rgba(0, 0, 0, 0.25);\n\t\t\tborder-radius: 11px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-share-options-container .options-text {\n\t\t\tfont-size: 16px;\n\t\t\tpadding: 6px 12px;\n\t\t\tbackground: #f2f2f2;\n\t\t\tborder-radius: 11px 11px 0 0;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-share-options-container .iz-news-hub-post-share-options-list {\n\t\t\tlist-style: none;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t\tdisplay: flex;\n\t\t\tflex-flow: column wrap;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-share-options-container .iz-news-hub-post-share-options-list li {\n\t\t\tlist-style: none;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-share-options-container .iz-news-hub-post-share-options-list li a {\n\t\t\ttext-decoration: none;\n\t\t\ttransition: background-color ease-in 0.1s;\n\t\t\tpadding: 15px 12px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-notification-share-options-container .iz-news-hub-post-share-options-list li a svg {\n\t\t\twidth: 24px;\n\t\t\tmargin-right: 15px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-footer {\n\t\t\twidth: 100%;\n\t\t\tmax-width: 390px;\n\t\t\tline-height: 21px;\n\t\t\tposition: fixed;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: #F3F3F3;\n\t\t\ttext-align: center;\n\t\t\tborder-top: 1px solid #e5e5e5;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-branding-text {\n\t\t\tcolor: #1d85fc;\n\t\t\ttext-decoration: none;\n\t\t\tfont-weight: 600;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-notification-container .iz-news-hub-branding-text:hover {\n\t\t\ttext-decoration: underline;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing {\n\t\t\tdisplay: none;\n\t\t\tposition: fixed;\n\t\t\tz-index: 999999999999;\n\t\t\twidth: 100%;\n\t\t\theight: 100vh;\n\t\t\toverflow: hidden;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\tleft: 0;\n\t\t\tbackground: rgba(0, 0, 0, 0.6);\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container {\n\t\t\twidth: 599px;\n\t\t\toverflow-y: auto;\n\t\t\tmargin: 10px;\n\t\t\tbackground: #ffffff;\n\t\t\tborder-radius: 4px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-img-loader-container {\n\t\t\twidth: 152px;\n\t\t\theight: 152px;\n\t\t\tborder-radius: 50%;\n\t\t\tmargin: 44px 0 30px 14px;\n\t\t\tbackground-color: #DBDBDB;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-loader-container {\n\t\t\twidth: calc(100% - 152px);\n\t\t\tmargin-top: 38px;\n\t\t\tpadding: 0px 24px 14px 17px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-loader-container .iz-news-hub-post-share-title-text-loader {\n\t\t\twidth: 100%;\n\t\t\theight: 14px;\n\t\t\tmargin-bottom: 5px;\n\t\t\tbackground-color: #ffffff;\n\t\t\tborder-radius: 3px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-loader-container .iz-news-hub-post-share-title-text-loader:nth-child(3) {\n\t\t\twidth: 90px;\n\t\t\theight: 8px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-loader-container .iz-news-hub-post-share-message-text-loader-wrapper {\n\t\t\tmargin-top: 10px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-loader-container .iz-news-hub-post-share-message-text-loader-wrapper .iz-news-hub-post-share-message-text-loader {\n\t\t\twidth: 100%;\n\t\t\theight: 5px;\n\t\t\tbackground-color: #ffffff;\n\t\t\tborder-radius: 3px;\n\t\t\tmargin-bottom: 5px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-loader-container .iz-news-hub-post-share-message-text-loader-wrapper .iz-news-hub-post-share-message-text-loader:nth-child(1),\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-loader-container .iz-news-hub-post-share-message-text-loader-wrapper .iz-news-hub-post-share-message-text-loader:nth-child(2) {\n\t\t\theight: 10px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-img-container {\n\t\t\twidth: 180px;\n\t\t\tmax-height: 190px;\n\t\t\tpadding-left: 14px;\n\t\t\tpadding-top: 14px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-container {\n\t\t\twidth: calc(100% - 180px);\n\t\t\tpadding: 14px 24px 14px 17px;\n\t\t\toverflow-y: auto;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-img-container img {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tmax-width: 100%;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-container .iz-news-hub-post-share-title-text {\n\t\t\tfont-weight: 700;\n\t\t\tline-height: 20px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-container .iz-news-hub-post-share-message-text {\n\t\t\tpadding-top: 10px;\n\t\t\tline-height: 17px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container {\n\t\t\twidth: 100%;\n\t\t\tpadding: 10px 25px 19px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-post-share-text {\n\t\t\tdisplay: block;\n\t\t\tfont-size: 16px;\n\t\t\tfont-weight: 600;\n\t\t\tmargin: 0 -25px;\n\t\t\tpadding: 16px 0 16px 25px;\n\t\t\tborder-top: 1px solid #f3f3f3;\n\t\t\tborder-bottom: 1px solid #f3f3f3;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container ul {\n\t\t\twidth: 100%;\n\t\t\tpadding: 0;\n\t\t\tmargin: 0;\n\t\t\tmargin-top: 15px;\n\t\t\tlist-style: none;\n\t\t\tflex-wrap: wrap;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container ul li {\n\t\t\tmargin-right: 5px;\n\t\t\tmargin-bottom: 10px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container ul li:last-child {\n\t\t\tmargin-right: 0;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container ul li a {\n\t\t\ttext-decoration: none;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .social-media-platform-text {\n\t\t\tmargin-top: 10px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container {\n\t\t\twidth: 57px;\n\t\t\theight: 57px;\n\t\t\tborder-radius: 50%;\n\t\t\ttransition: all ease-in 0.1s;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container svg {\n\t\t\twidth: 24px;\n\t\t\theight: 24px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container.iz-whatsapp-icon {\n\t\t\tbackground-color: #3fc350;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container.iz-whatsapp-icon svg {\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container.iz-facebook-icon {\n\t\t\tbackground-color: #3c539a;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container.iz-twitter-icon {\n\t\t\tbackground-color: #009ef6;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container.iz-mail-icon {\n\t\t\tbackground-color: #888888;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container.iz-linkedin-icon {\n\t\t\tbackground-color: #0077b7;\n\t\t\tborder: 1px solid #c4c4c4;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container:hover {\n\t\t\tfilter: brightness(0.8);\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-copy-post-link-container {\n\t\t\twidth: 100%;\n\t\t\tmargin-bottom: 25px;\n\t\t\tpadding: 0 25px;\n\t\t\tposition: relative;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-social-share-link {\n\t\t\twidth: 100%;\n\t\t\theight: 28px;\n\t\t\tpadding-left: 12px;\n\t\t\tpadding-right: 70px;\n\t\t\tdisplay: -webkit-box;\n\t\t\t-webkit-box-orient: vertical;\n\t\t\tposition: relative;\n\t\t\tline-height: 1.25;\n\t\t\tword-break: break-word;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t\tpointer-events: none;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-copy-post-link-container .iz-news-hub-btn {\n\t\t\tposition: absolute;\n\t\t\tright: 30px;\n\t\t\ttop: 3px;\n\t\t\tmin-width: unset;\n\t\t\tline-height: 22px;\n\t\t\tcolor: #1d85fc;\n\t\t\tbackground-color: transparent;\n\t\t\ttransition: background-color ease-in 0.1s;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-copy-post-link-container .iz-news-hub-btn:hover {\n\t\t\tbackground-color: #c0dbfa;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-cancel-share-container {\n\t\t\twidth: 100%;\n\t\t\tposition: relative;\n\t\t\tmargin-bottom: 20px;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-close-sharing-dialog {\n\t\t\tmin-width: 80px;\n\t\t\tline-height: 30px;\n\t\t\tborder: 1px solid #2ea1ff;\n\t\t\tbackground-color: transparent;\n\t\t\tcolor: #2ea1ff;\n\t\t  }\n\t\t\n\t\t  #iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-close-sharing-dialog:hover {\n\t\t\tbackground-color: #e8f3ff;\n\t\t  }\n\t\t\n\t\t  @media screen and (max-width: 480px) {\n\t\t\t#iz-news-hub-notification-container.iz-news-hub-notification-container {\n\t\t\t  width: 100%;\n\t\t\t  border-radius: 0;\n\t\t\t}\n\t\t\n\t\t\t#iz-news-hub-notification-header, #iz-news-hub-posts-header{\n\t\t\t  max-width: unset;\n\t\t\t}\n\n\t\t\t#iz-news-hub-notification-container.iz-news-hub-notification-container-left {\n\t\t\t  right: 0;\n\t\t\t  left: 0;\n\t\t\t  top: 0;\n\t\t\t  border-radius: 0;\n\t\t\t}\n\t\t\n\t\t\t#iz-news-hub-title-container {\n\t\t\t  border-radius: 0;\n\t\t\t}\n\n\t\t\t#iz-news-hub-notification-container .iz-news-hub-notification-share-btn{\n\t\t\t\tdisplay: flex;\n\t\t\t}\n\n\t\t\t#iz-news-hub-notification-container .iz-news-hub-notification-unread-indicator{\n\t\t\t\ttop: 45%;\n\t\t\t}\n\n\t\t  }\n\t\t\n\t\t  @media screen and (max-width: 599px) {\n\t\t\t#iz-news-hub-popup-sharing .iz-news-hub-post-share-container {\n\t\t\t  width: 95%;\n\t\t\t}\n\t\t\n\t\t\t#iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-img-container {\n\t\t\t  width: 100px;\n\t\t\t  height: 110px;\n\t\t\t}\n\t\t\n\t\t\t#iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-content-container {\n\t\t\t  width: calc(100% - 100px);\n\t\t\t}\n\t\t\n\t\t\t#iz-news-hub-popup-sharing .iz-news-hub-post-share-container .iz-news-hub-post-share-on-social-media-container .iz-news-hub-icon-container {\n\t\t\t  width: 44px;\n\t\t\t  height: 44px;\n\t\t\t}\n\t\t  }\n\t\t</style>\n\t\t'},l.isNewsLoading=!1,l.ridsList=[],l.shouldLoadMore=!1,l.dbLatestTimeStamp=0,l.notificationDbList=[],l.notificationShowList=[],l.currentJsonFileIndex=0,l.minimumNotificationToShow=0,l.isNewsContainerLoaded=!1,l.notificationPrefix=".iz-news-hub-notification-",l.socialSharePrefix="#iz-news-hub-social-share-",l.popupPrefix="#iz-news-hub-popup-",l.notificationSelector={newsHubCotainerId:"#iz-news-hub-notification-container",noNotification:"#iz-news-hub-no-notifications-container",notificationWrapperId:"#iz-news-hub-posts-main-container",triggerSticky:"#iz-news-hub-sticky-sidebar",triggerFloating:"#iz-news-hub-floating-icon",mainIcon:".iz-news-hub-main-icon",closeButton:".iz-news-hub-close-news-hub-btn",markAllAsReadButtonId:"#iz-news-hub-mark-all-as-read-btn",animatedLoader:l.notificationPrefix+"loader",message:l.notificationPrefix+"message",viewMore:l.notificationPrefix+"view-more",isRead:l.notificationPrefix+"unread-indicator",markAsReadButton:l.notificationPrefix+"mark-as-read",sharingButton:l.notificationPrefix+"share-btn",sharingActionList:l.notificationPrefix+"share-options-container",sharePostLink:l.notificationPrefix+"share-link"},l.popupSelector={id:l.popupPrefix+"sharing",title:l.popupPrefix+"title",message:l.popupPrefix+"message",image:l.popupPrefix+"image",close:l.popupPrefix+"close",animatedLoader:l.popupPrefix+"animated-loader",content:l.popupPrefix+"content"},l);function l(){}e.NewsHub=n},function(t,e,dt){(function(ct,lt){var pt;t.exports=function(){"use strict";function n(t){return typeof t==="function"||typeof t==="object"&&t!==null}function l(t){return typeof t==="function"}var t=undefined;if(!Array.isArray){t=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}else{t=Array.isArray}var i=t,o=0,r=undefined,a=undefined,s=function t(e,n){w[o]=e;w[o+1]=n;o+=2;if(o===2){if(a){a(v)}else{C()}}};function e(t){a=t}function c(t){s=t}var p=typeof window!=="undefined"?window:undefined,d=p||{},u=d.MutationObserver||d.WebKitMutationObserver,f=typeof self==="undefined"&&typeof ct!=="undefined"&&{}.toString.call(ct)==="[object process]",g=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function y(){return function(){return ct.nextTick(v)}}function m(){return function(){r(v)}}function b(){var t=0;var e=new u(v);var n=document.createTextNode("");e.observe(n,{characterData:true});return function(){n.data=t=++t%2}}function h(){var t=new MessageChannel;t.port1.onmessage=v;return function(){return t.port2.postMessage(0)}}function O(){var t=setTimeout;return function(){return t(v,1)}}var w=new Array(1e3);function v(){for(var t=0;t<o;t+=2){var e=w[t];var n=w[t+1];e(n);w[t]=undefined;w[t+1]=undefined}o=0}function S(){try{var t=pt;var e=dt(27);r=e.runOnLoop||e.runOnContext;return m()}catch(t){return O()}}var C=undefined;if(f){C=y()}else if(u){C=b()}else if(g){C=h()}else if(p===undefined&&"function"==="function"){C=S()}else{C=O()}function _(t,e){var n=arguments;var i=this;var o=new this.constructor(P);if(o[z]===undefined){X(o)}var r=i._state;if(r){(function(){var t=n[r-1];s(function(){return q(r,o,t,i._result)})})()}else{F(i,o,t,e)}return o}function T(t){var e=this;if(t&&typeof t==="object"&&t.constructor===e){return t}var n=new e(P);K(n,t);return n}var z=Math.random().toString(36).substring(16);function P(){}var I=void 0,M=1,E=2,D=new j;function L(){return new TypeError("You cannot resolve a promise with itself")}function x(){return new TypeError("A promises callback cannot return that same promise.")}function H(t){try{return t.then}catch(t){D.error=t;return D}}function N(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function k(t,i,o){s(function(e){var n=false;var t=N(o,i,function(t){if(n){return}n=true;if(i!==t){K(e,t)}else{U(e,t)}},function(t){if(n){return}n=true;B(e,t)},"Settle: "+(e._label||" unknown promise"));if(!n&&t){n=true;B(e,t)}},t)}function R(e,t){if(t._state===M){U(e,t._result)}else if(t._state===E){B(e,t._result)}else{F(t,undefined,function(t){return K(e,t)},function(t){return B(e,t)})}}function A(t,e,n){if(e.constructor===t.constructor&&n===_&&e.constructor.resolve===T){R(t,e)}else{if(n===D){B(t,D.error)}else if(n===undefined){U(t,e)}else if(l(n)){k(t,e,n)}else{U(t,e)}}}function K(t,e){if(t===e){B(t,L())}else if(n(e)){A(t,e,H(e))}else{U(t,e)}}function Z(t){if(t._onerror){t._onerror(t._result)}Y(t)}function U(t,e){if(t._state!==I){return}t._result=e;t._state=M;if(t._subscribers.length!==0){s(Y,t)}}function B(t,e){if(t._state!==I){return}t._state=E;t._result=e;s(Z,t)}function F(t,e,n,i){var o=t._subscribers;var r=o.length;t._onerror=null;o[r]=e;o[r+M]=n;o[r+E]=i;if(r===0&&t._state){s(Y,t)}}function Y(t){var e=t._subscribers;var n=t._state;if(e.length===0){return}var i=undefined,o=undefined,r=t._result;for(var a=0;a<e.length;a+=3){i=e[a];o=e[a+n];if(i){q(n,i,o,r)}else{o(r)}}t._subscribers.length=0}function j(){this.error=null}var W=new j;function V(t,e){try{return t(e)}catch(t){W.error=t;return W}}function q(t,e,n,i){var o=l(n),r=undefined,a=undefined,s=undefined,c=undefined;if(o){r=V(n,i);if(r===W){c=true;a=r.error;r=null}else{s=true}if(e===r){B(e,x());return}}else{r=i;s=true}if(e._state!==I){}else if(o&&s){K(e,r)}else if(c){B(e,a)}else if(t===M){U(e,r)}else if(t===E){B(e,r)}}function G(n,t){try{t(function t(e){K(n,e)},function t(e){B(n,e)})}catch(t){B(n,t)}}var J=0;function Q(){return J++}function X(t){t[z]=J++;t._state=undefined;t._result=undefined;t._subscribers=[]}function $(t,e){this._instanceConstructor=t;this.promise=new t(P);if(!this.promise[z]){X(this.promise)}if(i(e)){this._input=e;this.length=e.length;this._remaining=e.length;this._result=new Array(this.length);if(this.length===0){U(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){U(this.promise,this._result)}}}else{B(this.promise,tt())}}function tt(){return new Error("Array Methods must be provided an Array")}function et(t){return new $(this,t).promise}function nt(o){var r=this;if(i(o))return new r(function(t,e){for(var n=o.length,i=0;i<n;i++)r.resolve(o[i]).then(t,e)});else return new r(function(t,e){return e(new TypeError("You must pass an array to race."))})}function it(t){var e=new this(P);return B(e,t),e}function ot(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function rt(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function at(t){this[z]=Q();this._result=this._state=undefined;this._subscribers=[];if(P!==t){typeof t!=="function"&&ot();this instanceof at?G(this,t):rt()}}function st(){var t=undefined;if(typeof lt!=="undefined"){t=lt}else if(typeof self!=="undefined"){t=self}else{try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if(n==="[object Promise]"&&!e.cast){return}}t.Promise=at}return $.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===I&&n<t;n++)this._eachEntry(e[n],n)},$.prototype._eachEntry=function(e,t){var n,i,o=this._instanceConstructor,r=o.resolve;r===T?(n=H(e))===_&&e._state!==I?this._settledAt(e._state,t,e._result):"function"!=typeof n?(this._remaining--,this._result[t]=e):o===at?(A(i=new o(P),e,n),this._willSettleAt(i,t)):this._willSettleAt(new o(function(t){return t(e)}),t):this._willSettleAt(r(e),t)},$.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===I&&(this._remaining--,t===E?B(i,n):this._result[e]=n),0===this._remaining&&U(i,this._result)},$.prototype._willSettleAt=function(t,e){var n=this;F(t,void 0,function(t){return n._settledAt(M,e,t)},function(t){return n._settledAt(E,e,t)})},at.all=function(t){return new $(this,t).promise},at.race=function(o){var r=this;return i(o)?new r(function(t,e){for(var n=o.length,i=0;i<n;i++)r.resolve(o[i]).then(t,e)}):new r(function(t,e){return e(new TypeError("You must pass an array to race."))})},at.resolve=T,at.reject=function(t){var e=new this(P);return B(e,t),e},at._setScheduler=function(t){a=t},at._setAsap=function(t){s=t},at._asap=s,at.prototype={constructor:at,then:_,catch:function(t){return this.then(null,t)}},st(),at.polyfill=st,at.Promise=at}()}).call(this,dt(25),dt(26))},function(t,e){var n,i,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:r}catch(t){i=r}}();var s,c=[],l=!1,p=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):p=-1,c.length&&u())}function u(){if(!l){var t=a(d);l=!0;for(var e=c.length;e;){for(s=c,c=[];++p<e;)s&&s[p].run();p=-1,e=c.length}s=null,l=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===r||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function g(){}t.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||l||a(u)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(t,e){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=(o.isLocalStorageSupport=function(){return"localStorage"in window&&null!==window.localStorage},o.setLocalStorage=function(t,e){localStorage.setItem(t,e)},o.getLocalStorage=function(t){return localStorage.getItem(t)},o.removeLocalStorage=function(t){t&&localStorage.removeItem(t)},o);function o(){}e.LocalStorage=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d=n(2),u=n(0),f=n(1),n=(g.getAdNetworkParam=function(t){void 0===t&&(t=!1),g.forceSyncAdNetwork=0;var e={},n="",i=d.Storage.getStorage("_ga"),o=d.Storage.getStorage("taboola global:user-id"),r=d.Storage.getStorage("OB-USER-TOKEN"),a=d.Storage.getStorage("mgMuidn"),s=d.Storage.getConfigLocal("gac"),c=d.Storage.getConfigLocal("tbc"),l=d.Storage.getConfigLocal("obc"),p=d.Storage.getConfigLocal("mgc");return o&&(e.tbc=o),r&&(e.obc=r),a&&(e.mgc=a),i&&1==u.Config.ga.syncCid&&(e.gac=i),(e.gac&&s!=i||o&&c!=o||r&&l!=r||a&&p!=a)&&(g.forceSyncAdNetwork=1),t?e:(0<Object.keys(e).length&&(n+="&"+f.Helper.objToParam(e)),n)},g.forceSyncAdNetwork=0,g);function g(){}e.AdNetwork=n}]);